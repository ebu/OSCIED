2013-05-30 10:03:54,973 unit:oscied-storage/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 10:03:55,063 unit:oscied-storage/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 10:03:55,076 unit:oscied-storage/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 10:03:55,204 unit:oscied-storage/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 10:03:55,292 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 10:03:55,337 unit:oscied-storage/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 10:03:55,619 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 10:03:55,916 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 10:03:56,184 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 10:03:56,838 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:03:57,130 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:03:57,413 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:03:57,552 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 10:03:57,688 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 10:03:57,701 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': False, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x16ee4c0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x1a46ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:03:59,744 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 10:03:59,773 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:04:01,003 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 10:04:03,111 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook install
2013-05-30 10:04:04,144 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 10:04:05,895 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Uninstall prerequisites, remove files & bricks and load default configuration
2013-05-30 10:04:08,920 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 10:04:12,014 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-server nfs-common
2013-05-30 10:04:18,057 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 10:04:24,316 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 10:04:27,055 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 10:04:40,497 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 10:04:40,781 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 10:04:42,511 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 10:04:43,077 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install ntp glusterfs-server nfs-common
2013-05-30 10:04:43,122 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Compile and install Apache H.264 streaming module
2013-05-30 10:04:43,435 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute which apxs2
2013-05-30 10:04:43,719 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ./configure --with-apxs=/usr/bin/apxs2

2013-05-30 10:04:52,934 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 10:04:59,031 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 10:04:59,489 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register Apache H.264 streaming module
2013-05-30 10:04:59,761 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Expose Apache 2 service
2013-05-30 10:05:00,078 unit:oscied-publisher/0: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 10:05:00,369 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:05:00,672 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:05:00,734 unit:oscied-publisher/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 10:05:00,735 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/install
2013-05-30 10:05:00,762 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 10:05:00,782 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 10:05:00,782 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 10:05:00,782 unit:oscied-publisher/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 10:05:00,783 unit:oscied-publisher/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 10:05:00,816 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:05:00,826 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 10:05:03,234 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:05:03,605 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:05:03,983 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:05:04,334 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x2463c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:05:04,694 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:05:05,070 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 10:05:05,395 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:05:05,733 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:05:05,794 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:05:05,795 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 10:05:05,820 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:05:05,831 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 10:05:06,645 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:05:06,935 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:05:07,239 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:05:07,528 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x28d4c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:05:07,814 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:05:08,103 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook start
2013-05-30 10:05:08,375 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No shared storage !
2013-05-30 10:05:08,644 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:05:08,918 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:05:08,970 unit:oscied-publisher/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 10:05:08,970 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 10:05:08,971 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 10:05:08,971 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 10:05:08,984 unit:oscied-publisher/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 10:05:08,984 unit:oscied-publisher/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 10:05:08,987 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 10:05:08,990 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:05:09,062 unit:oscied-publisher/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 10:05:09,075 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 10:05:09,079 unit:oscied-publisher/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 10:05:09,087 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 10:05:09,087 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 10:05:09,107 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:05:09,117 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 10:05:09,882 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:05:10,166 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:05:10,443 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:05:10,747 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x2c5cc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:05:11,070 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:05:11,348 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 10:05:11,629 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:05:11,916 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:05:11,972 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:05:11,973 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 10:05:11,973 unit:oscied-publisher/0: unit.lifecycle DEBUG: configured unit
2013-05-30 10:05:11,981 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 10:05:11,985 unit:oscied-publisher/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 10:05:17,920 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 10:05:18,189 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 10:05:20,533 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Create and start a replica=1 volume medias_volume_0 with 1 brick
2013-05-30 10:05:20,790 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume create medias_volume_0  ip-10-245-189-174.ec2.internal:/exp0
2013-05-30 10:05:21,252 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume start medias_volume_0 
2013-05-30 10:05:22,229 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 10:05:22,586 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp0\n'
2013-05-30 10:05:22,852 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp0'], 'auth_allow': '', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 10:05:23,136 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume rebalance medias_volume_0 status
2013-05-30 10:05:23,489 unit:oscied-storage/0: unit.hook.api INFO: [INFO] nothing to rebalance on volume medias_volume_0

2013-05-30 10:05:23,759 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Expose GlusterFS Server service
2013-05-30 10:05:24,045 unit:oscied-storage/0: unit.hook.api DEBUG: opened 111/tcp
2013-05-30 10:05:24,330 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24007/tcp
2013-05-30 10:05:24,620 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24009/tcp
2013-05-30 10:05:26,160 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x16ee4c0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 10:05:29,307 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:05:30,110 unit:oscied-storage/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 10:05:30,111 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/install
2013-05-30 10:05:30,215 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 10:05:30,287 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 10:05:30,288 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 10:05:30,293 unit:oscied-storage/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 10:05:30,293 unit:oscied-storage/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 10:05:30,401 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 10:05:30,439 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:05:30,511 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 10:05:38,436 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:05:41,335 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:05:44,152 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:05:46,975 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x131a960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x18b3ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:05:49,822 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:05:52,708 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 10:05:55,541 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *
2013-05-30 10:05:58,257 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*"
2013-05-30 10:06:04,330 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 10:06:06,919 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 10:06:07,196 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 10:06:07,546 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 10:06:07,817 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp0'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 10:06:08,084 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x131a960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 10:06:08,352 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:06:08,396 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:06:08,396 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 10:06:08,422 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 10:06:08,422 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:06:08,430 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 10:06:09,138 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:06:09,426 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:06:09,706 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:06:09,986 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2a72700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x2da1ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:06:10,306 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:06:10,591 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook start
2013-05-30 10:06:10,868 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 10:06:11,156 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2a72700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 10:06:11,431 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:06:11,480 unit:oscied-storage/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 10:06:11,480 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 10:06:11,481 unit:oscied-storage/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 10:06:11,481 unit:oscied-storage/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 10:06:11,487 unit:oscied-storage/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 10:06:11,488 unit:oscied-storage/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 10:06:11,490 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>]
2013-05-30 10:06:11,502 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:06:11,526 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 10:06:11,540 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:06:11,540 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:06:11,540 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 10:06:11,558 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:06:11,558 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:peer lifecycle
2013-05-30 10:06:11,575 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:06:11,576 unit:oscied-storage/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 10:06:11,589 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 10:06:11,594 unit:oscied-storage/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 10:06:11,607 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 10:06:11,607 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 10:06:11,633 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['peer:0']
2013-05-30 10:06:11,646 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 10:06:17,005 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:06:19,924 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:06:22,718 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:06:25,674 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xfa3960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x153ced8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:06:28,394 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:06:31,234 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 10:06:33,949 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *
2013-05-30 10:06:36,731 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*"
2013-05-30 10:06:42,207 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 10:06:44,929 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 10:06:45,721 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:06:45,773 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 10:06:46,030 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:06:46,080 unit:oscied-transform/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 10:06:46,080 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/install
2013-05-30 10:06:46,093 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 10:06:46,100 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 10:06:46,100 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 10:06:46,100 unit:oscied-transform/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 10:06:46,101 unit:oscied-transform/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 10:06:46,063 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 10:06:46,122 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:06:46,129 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 10:06:46,415 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 10:06:46,691 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp0'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 10:06:46,984 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:06:46,966 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xfa3960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 10:06:47,236 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:06:47,298 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:06:47,278 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:06:47,293 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 10:06:47,293 unit:oscied-storage/0: unit.lifecycle DEBUG: configured unit
2013-05-30 10:06:47,307 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 10:06:47,311 unit:oscied-storage/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 10:06:47,606 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:06:47,916 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1ad9c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:06:48,224 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:06:48,530 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 10:06:48,835 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:06:49,139 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:06:49,185 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:06:49,186 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 10:06:49,208 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:06:49,219 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 10:06:50,054 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:06:50,375 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:06:50,724 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:06:51,035 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2ad7c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:06:51,342 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:06:51,647 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook start
2013-05-30 10:06:51,953 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No shared storage !
2013-05-30 10:06:52,263 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:06:52,569 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:06:52,616 unit:oscied-transform/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 10:06:52,616 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 10:06:52,617 unit:oscied-transform/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 10:06:52,617 unit:oscied-transform/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 10:06:52,633 unit:oscied-transform/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 10:06:52,633 unit:oscied-transform/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 10:06:52,638 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 10:06:52,639 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:06:52,657 unit:oscied-transform/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 10:06:52,665 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 10:06:52,673 unit:oscied-transform/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 10:06:52,681 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 10:06:52,682 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 10:06:52,701 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:06:52,709 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 10:06:53,541 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:06:53,853 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:06:54,174 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:06:54,483 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1c18c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:06:54,787 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:06:55,091 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 10:06:55,394 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:06:55,702 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:06:55,749 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:06:55,750 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 10:06:55,750 unit:oscied-transform/0: unit.lifecycle DEBUG: configured unit
2013-05-30 10:06:55,763 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 10:06:55,769 unit:oscied-transform/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 10:09:11,478 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 10:09:11,800 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 10:09:14,516 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Expose RESTful API, MongoDB & RabbitMQ service
2013-05-30 10:09:14,812 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5000/tcp
2013-05-30 10:09:15,112 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 27017/tcp
2013-05-30 10:09:15,410 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5672/tcp
2013-05-30 10:09:15,698 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1f1c790>
2013-05-30 10:09:16,033 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:09:16,110 unit:oscied-orchestra/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 10:09:16,111 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/install
2013-05-30 10:09:16,131 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 10:09:16,137 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 10:09:16,138 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 10:09:16,138 unit:oscied-orchestra/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 10:09:16,138 unit:oscied-orchestra/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 10:09:16,166 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:09:16,186 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 10:09:18,246 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:09:18,582 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:09:18,928 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:09:19,271 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1b5aad0>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1b69b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:09:19,583 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:09:19,898 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 10:09:20,231 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 10:09:20,543 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 10:09:21,532 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 10:09:22,040 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 10:09:22,600 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': '', 'bind_ip': None, 'noauth': ''}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x1b5a910>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 10:09:22,950 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 10:09:23,361 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 10:09:24,555 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 10:09:25,240 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 10:09:25,803 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 10:09:26,480 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 10:09:28,659 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 10:09:34,658 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 10:09:40,477 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 10:09:43,421 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 10:09:46,518 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 10:09:49,357 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1b5aad0>
2013-05-30 10:09:52,329 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:09:52,799 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:09:52,800 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 10:09:52,897 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:09:52,991 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 10:10:00,462 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:10:04,588 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:10:07,803 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:10:10,823 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1fd1ad0>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1fe0b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:10:13,649 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:10:16,592 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook start
2013-05-30 10:10:19,600 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Do not start orchestra daemon : No shared storage !
2013-05-30 10:10:22,428 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1fd1ad0>
2013-05-30 10:10:25,650 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:10:26,121 unit:oscied-orchestra/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 10:10:26,122 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 10:10:26,122 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 10:10:26,122 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 10:10:26,199 unit:oscied-orchestra/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 10:10:26,199 unit:oscied-orchestra/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 10:10:26,202 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 10:10:26,203 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:10:26,256 unit:oscied-orchestra/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 10:10:26,321 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 10:10:26,326 unit:oscied-orchestra/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 10:10:26,383 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 10:10:26,384 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 10:10:26,445 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 10:10:26,514 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 10:10:33,967 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:10:37,016 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:10:40,159 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:10:42,928 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x15daad0>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x15e9b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:10:43,213 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:10:43,500 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 10:10:43,784 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 10:10:44,060 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 10:10:44,391 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 10:10:44,715 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 10:10:45,051 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': None, 'bind_ip': None, 'noauth': None}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x15dac10>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 10:10:45,343 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 10:10:45,624 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 10:10:46,144 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 10:10:46,639 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 10:10:47,132 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 10:10:47,620 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 10:10:48,145 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 10:10:48,639 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 10:10:49,124 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 10:10:49,400 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 10:10:49,676 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 10:10:49,955 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x15daad0>
2013-05-30 10:10:50,305 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:10:50,368 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 10:10:50,369 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 10:10:50,369 unit:oscied-orchestra/0: unit.lifecycle DEBUG: configured unit
2013-05-30 10:10:50,382 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 10:10:50,386 unit:oscied-orchestra/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 10:27:33,516 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>]
2013-05-30 10:27:33,516 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:27:33,490 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 10:27:33,490 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:27:33,563 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:27:33,636 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:27:33,637 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:27:33,637 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 10:27:33,612 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:27:33,633 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:27:33,663 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:27:33,633 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:27:33,663 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:27:33,634 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 10:27:33,680 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 10:27:33,681 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 10:27:33,683 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 10:27:33,684 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:27:33,658 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:27:33,659 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:27:33,664 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 10:27:33,665 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 10:27:33,666 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 10:27:33,670 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:27:33,708 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 10:27:33,720 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:27:33,720 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 10:27:33,704 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0']
2013-05-30 10:27:33,711 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:27:33,712 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:27:34,382 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:27:34,561 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:27:34,652 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:27:34,876 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:27:34,919 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:27:35,183 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:27:35,195 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2a6c700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x2d72ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:27:35,458 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:27:35,493 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x28cec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:27:35,724 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 10:27:35,798 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:27:35,987 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 10:27:36,104 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-joined
2013-05-30 10:27:36,410 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:27:36,717 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:27:36,764 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:27:36,768 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 10:27:36,772 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:27:36,786 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 10:27:36,792 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:27:36,792 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 10:27:36,782 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2a6c700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal'}
2013-05-30 10:27:37,050 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:27:37,095 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:27:37,130 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000001/settings/unit-0000000002' state: connected handle:0>
2013-05-30 10:27:37,146 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 10:27:37,129 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:1'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 10:27:37,130 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:27:37,134 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 10:27:37,169 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0']
2013-05-30 10:27:37,175 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:27:37,176 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 10:27:37,635 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:27:37,950 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:27:38,258 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:27:38,569 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1854c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:27:38,881 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:27:39,184 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 10:27:40,723 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:27:41,028 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 10:27:41,344 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:27:41,651 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 10:27:41,956 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 10:27:42,262 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 10:27:42,592 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 10:27:51,060 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 10:27:51,364 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 10:27:51,670 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:27:51,974 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:27:52,024 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:27:52,038 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 10:27:52,039 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:27:52,054 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 10:27:52,060 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:27:52,061 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 10:27:52,901 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:27:53,217 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:27:53,524 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:27:53,836 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2304c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:27:54,141 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:27:54,447 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 10:27:55,979 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:27:56,283 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 10:27:56,598 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:27:56,902 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 10:27:57,208 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 10:27:57,519 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:27:57,831 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:27:57,879 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:27:57,887 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:27,280 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>]
2013-05-30 10:28:27,281 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:28:27,258 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 10:28:27,259 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:28:27,435 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:28:27,407 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:28:27,446 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:28:27,446 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:28:27,446 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 10:28:27,426 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:28:27,426 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:28:27,463 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:28:27,426 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 10:28:27,463 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:28:27,475 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 10:28:27,476 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 10:28:27,478 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 10:28:27,479 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:28:27,453 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:28:27,453 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:28:27,457 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 10:28:27,458 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 10:28:27,459 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 10:28:27,461 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:28:27,510 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 10:28:27,525 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:28:27,526 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:27,528 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1']
2013-05-30 10:28:27,537 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:28:27,538 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:28,198 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:28,361 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:28,474 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:28,685 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:28,742 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:28,995 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:29,007 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2184700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x248aed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:28:29,271 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:28:29,307 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x22e4c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:28:29,533 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 10:28:29,607 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:28:29,796 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 10:28:29,906 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-joined
2013-05-30 10:28:30,214 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:28:30,603 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2184700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal'}
2013-05-30 10:28:30,529 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:28:30,585 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:28:30,646 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:30,651 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:28:30,675 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 10:28:30,682 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:28:30,682 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:30,906 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:28:30,963 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:28:31,030 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000002/settings/unit-0000000002' state: connected handle:0>
2013-05-30 10:28:31,034 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 10:28:31,012 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:2'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 10:28:31,012 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:31,017 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 10:28:31,089 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1']
2013-05-30 10:28:31,097 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:28:31,098 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:31,569 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:31,877 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:32,186 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:32,478 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x2f73c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:28:32,797 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:28:33,093 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 10:28:34,499 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:28:34,772 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 10:28:34,740 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>]
2013-05-30 10:28:34,741 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:28:34,779 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 10:28:34,779 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:28:34,917 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:28:34,923 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:28:34,923 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:28:34,924 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 10:28:34,913 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:28:34,924 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:28:34,924 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:28:34,925 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 10:28:34,940 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:28:34,941 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:28:34,949 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 10:28:34,938 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:28:34,938 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:28:34,949 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 10:28:34,950 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 10:28:34,951 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:28:34,953 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 10:28:34,954 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 10:28:34,955 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 10:28:34,956 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:28:34,977 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 10:28:34,989 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:28:34,989 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:35,078 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 10:28:35,062 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2']
2013-05-30 10:28:35,069 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:28:35,069 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:35,824 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:35,839 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:36,131 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:36,125 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:36,420 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:36,463 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:28:36,426 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:36,696 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x134b700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x1651ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:28:36,745 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 10:28:36,724 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1606b10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1615b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:28:36,969 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:28:37,021 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 10:28:37,011 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:28:37,241 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 10:28:37,310 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 10:28:37,299 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-joined
2013-05-30 10:28:37,506 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 10:28:37,601 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 10:28:37,585 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1606b10>
2013-05-30 10:28:37,873 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:28:37,923 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:28:37,927 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:37,932 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:28:37,953 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 10:28:37,962 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:28:37,963 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:38,389 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x134b700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal'}
2013-05-30 10:28:38,660 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:28:38,692 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:38,707 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:28:38,727 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000003/settings/unit-0000000002' state: connected handle:0>
2013-05-30 10:28:38,735 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 10:28:38,755 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:3'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 10:28:38,755 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:28:38,759 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:28:38,865 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2']
2013-05-30 10:28:38,877 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:28:38,878 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:38,981 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:39,255 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:39,540 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x123eb10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x124db18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:28:39,818 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:28:40,147 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 10:28:41,640 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:28:41,917 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 10:28:42,258 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 10:28:44,153 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 10:28:44,519 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:28:44,790 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 10:28:45,073 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 10:28:45,350 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 10:28:45,620 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 10:28:46,045 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 10:28:46,313 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 10:28:46,579 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:28:46,844 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:28:46,894 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:28:46,902 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:46,903 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:28:46,930 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 10:28:46,937 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:28:46,938 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 10:28:47,669 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:28:47,949 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:28:48,235 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:28:48,514 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x2527c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:28:48,792 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:28:49,065 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 10:28:56,568 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 10:28:59,398 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x123eb10>
2013-05-30 10:29:00,024 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:29:01,611 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 10:29:02,028 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 10:29:02,570 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:29:02,631 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 10:29:02,880 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 10:29:03,203 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 10:29:03,530 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:29:03,857 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:29:03,923 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:29:03,930 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 10:29:07,180 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 10:29:18,524 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 10:29:18,809 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 10:29:19,289 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 10:29:19,787 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 10:29:20,259 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 10:29:20,805 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 10:29:21,310 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 10:29:21,784 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 10:29:22,253 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 10:29:22,530 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 10:29:33,276 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 10:29:39,161 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 10:29:42,433 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x123eb10>
2013-05-30 10:29:45,601 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:29:46,189 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:29:46,235 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 10:29:46,236 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:29:46,402 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 10:29:46,463 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:29:46,463 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 10:29:54,946 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:29:55,264 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 10:29:55,240 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 10:29:55,265 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:29:55,241 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:29:55,405 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:29:55,410 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:29:55,411 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:29:55,411 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 10:29:55,386 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 10:29:55,391 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:29:55,391 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:29:55,428 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:29:55,392 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 10:29:55,428 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:29:55,436 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 10:29:55,437 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 10:29:55,439 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 10:29:55,441 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:29:55,409 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:29:55,409 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 10:29:55,413 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 10:29:55,414 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 10:29:55,415 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 10:29:55,416 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:29:55,481 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': []
2013-05-30 10:29:55,488 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:29:55,489 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 10:29:55,555 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 10:29:55,563 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 10:29:55,563 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:29:56,261 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:29:56,564 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:29:56,823 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:29:57,083 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x15c2700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x18c8ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 10:29:57,353 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 10:29:57,619 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 10:29:57,882 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 10:29:58,542 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:29:58,694 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x15c2700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal,ip-10-152-186-158.ec2.internal'}
2013-05-30 10:29:58,950 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 10:29:58,994 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:29:59,143 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000004/settings/unit-0000000002' state: connected handle:0>
2013-05-30 10:29:59,148 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 10:29:59,125 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:4'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 10:29:59,125 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 10:29:59,130 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 10:29:59,848 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 10:29:59,855 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:29:59,855 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 10:30:00,127 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation joined
2013-05-30 10:30:00,155 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 10:30:00,159 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 10:30:00,160 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 10:30:00,186 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': []
2013-05-30 10:30:00,193 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 10:30:00,194 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 10:30:01,561 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>, <ServiceRelationState name:transform role:client id:relation-0000000005 scope:global>]
2013-05-30 10:30:01,562 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:01,604 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 10:30:01,771 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:01,772 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:01,773 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 10:30:01,792 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:01,792 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 10:30:01,803 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:02,040 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 10:30:02,295 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:02,919 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:30:03,027 unit:oscied-transform/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 10:30:03,011 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 10:30:03,032 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 10:30:03,033 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 10:30:03,035 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 10:30:03,027 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:03,027 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:03,027 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 10:30:03,082 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 10:30:03,092 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 10:30:03,093 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 10:30:03,106 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:03,109 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 10:30:03,113 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 10:30:03,119 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 10:30:03,122 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 10:30:03,127 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:03,273 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:3']
2013-05-30 10:30:03,294 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 10:30:03,465 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x14bbb10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x14cab18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:30:03,785 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:30:03,938 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:30:04,127 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 10:30:04,297 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:30:04,607 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:30:04,921 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation changed
2013-05-30 10:30:04,917 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2252c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:30:05,222 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:30:05,527 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-joined
2013-05-30 10:30:05,730 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:30:05,834 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:30:06,019 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 10:30:06,139 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:30:06,186 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 10:30:06,206 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 10:30:06,208 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:30:06,257 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 10:30:06,263 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 10:30:06,264 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 10:30:06,321 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-S', '13868.Orchestra', '-X', 'quit']
2013-05-30 10:30:06,568 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Storage IP is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 10:30:06,636 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 10:30:06,663 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 10:30:06,715 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>, <ServiceRelationState name:publisher role:client id:relation-0000000006 scope:global>]
2013-05-30 10:30:06,715 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:06,670 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:06,909 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 10:30:06,950 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 10:30:06,990 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 10:30:06,995 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:06,995 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:06,996 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 10:30:06,952 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 10:30:07,007 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:07,007 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 10:30:06,963 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:06,964 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:06,964 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 10:30:07,016 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 10:30:07,017 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 10:30:07,019 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 10:30:07,024 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:06,982 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:06,983 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 10:30:07,041 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 10:30:07,006 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 10:30:07,007 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 10:30:07,010 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 10:30:07,014 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:07,112 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 10:30:07,126 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 10:30:07,126 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 10:30:07,223 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:3', 'transform:5']
2013-05-30 10:30:07,252 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:30:07,239 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 10:30:07,358 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister shared storage
2013-05-30 10:30:07,659 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:30:07,719 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 10:30:07,967 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:30:08,055 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Mount shared storage [ip-10-245-189-174.ec2.internal] ip-10-245-189-174.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 10:30:08,178 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:30:08,279 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1b7ac08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:30:08,585 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:30:08,691 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:30:08,890 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 10:30:08,993 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:30:09,276 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x163dc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:30:09,580 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:30:09,868 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-joined
2013-05-30 10:30:10,120 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-117-94-6.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 10:30:10,153 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:30:10,442 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:30:10,426 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 10:30:10,503 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 10:30:10,556 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 10:30:10,560 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:30:10,668 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 10:30:10,678 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 10:30:10,679 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 10:30:10,739 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:30:11,045 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:30:11,092 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 10:30:11,168 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 10:30:11,515 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:30:11,826 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:30:12,224 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:30:12,536 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x1993c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:30:12,543 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 10:30:12,885 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:30:13,229 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 10:30:13,625 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:api role:client id:relation-0000000007 scope:global>, <ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 10:30:13,631 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:13,664 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:api role:server id:relation-0000000007 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 10:30:13,665 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 10:30:13,765 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 10:30:13,776 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:13,777 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:13,777 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 10:30:13,788 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:13,789 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 10:30:13,805 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:14,188 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 10:30:14,136 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 10:30:14,194 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 10:30:14,195 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 10:30:14,197 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 10:30:14,253 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 10:30:14,261 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 10:30:14,252 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 10:30:14,253 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 10:30:14,253 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 10:30:14,372 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 10:30:14,373 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 10:30:14,378 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 10:30:14,379 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 10:30:14,382 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 10:30:14,508 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-117-94-6.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 10:30:14,480 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 10:30:14,815 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 10:30:15,132 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:30:15,416 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:30:15,476 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 10:30:15,503 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 10:30:15,896 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 10:30:15,999 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 10:30:17,186 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 10:30:20,121 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 10:30:22,651 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create medias path in storage
2013-05-30 10:30:22,982 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI medias path to medias path in storage
2013-05-30 10:30:23,015 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x14bbb10>
2013-05-30 10:30:23,313 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=root:root mod=(d=755,f=644)) of medias path in storage
2013-05-30 10:30:23,681 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create uploads path in storage
2013-05-30 10:30:24,024 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI uploads path to uploads path in storage
2013-05-30 10:30:24,369 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=www-data:www-data mod=(d=755,f=644)) of uploads path in storage
2013-05-30 10:30:24,728 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register shared storage
2013-05-30 10:30:25,083 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 10:30:25,416 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No Orchestrator API !
2013-05-30 10:30:25,442 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:30:25,447 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 10:30:25,449 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 10:30:26,104 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 10:30:30,034 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation joined
2013-05-30 10:30:30,061 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 10:30:30,080 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 10:30:30,083 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:30:30,132 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 10:30:30,139 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 10:30:30,140 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 10:30:30,439 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 10:30:34,716 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 10:30:35,688 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-117-94-6.ec2.internal, API URL is 
2013-05-30 10:30:36,013 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 10:30:36,041 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 10:30:36,061 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 10:30:45,447 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 10:30:45,743 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 10:30:46,258 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 10:30:46,765 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 10:30:47,252 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 10:30:47,732 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 10:30:48,256 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 10:30:48,743 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 10:30:49,235 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 10:30:49,519 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 10:30:57,273 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 10:31:00,706 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 10:31:04,504 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x14bbb10>
2013-05-30 10:31:07,754 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:31:08,442 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 10:31:08,447 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 10:31:08,448 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 10:31:16,747 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:31:19,914 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:31:23,070 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:31:26,468 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1307b10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1316b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:31:28,155 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:31:28,459 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-joined
2013-05-30 10:31:29,027 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1307b10>
2013-05-30 10:31:29,308 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:31:29,356 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 10:31:29,390 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000005/settings/unit-0000000000' state: connected handle:0>
2013-05-30 10:31:29,381 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'transform-relation-joined' on 'transform:5'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-117-94-6.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-117-94-6.ec2.internal:5672/celery' (was unset)
2013-05-30 10:31:29,382 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 10:31:29,393 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 10:31:29,394 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:31:29,388 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 10:31:29,389 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 10:31:29,444 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 10:31:29,454 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 10:31:29,455 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 10:31:29,572 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['api:7', 'publisher:6', 'storage:3']
2013-05-30 10:31:29,583 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 10:31:30,195 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:31:30,323 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:31:30,516 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:31:30,644 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:31:30,858 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:31:30,952 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:31:31,139 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x24b1b10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x24c0b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:31:31,266 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2842c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 10:31:31,429 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:31:31,570 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 10:31:31,719 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-joined
2013-05-30 10:31:31,875 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 10:31:33,093 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-117-94-6.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-117-94-6.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-117-94-6.ec2.internal:5672/celery
2013-05-30 10:31:33,398 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 10:31:33,715 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 10:31:34,019 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 10:31:34,323 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 10:31:34,631 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:31:34,946 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 10:31:35,318 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x24b1b10>
2013-05-30 10:31:38,706 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:31:39,280 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 10:31:39,338 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000006/settings/unit-0000000000' state: connected handle:0>
2013-05-30 10:31:39,347 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 10:31:39,348 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:31:39,419 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 10:31:39,428 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 10:31:39,429 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 10:31:39,518 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'publisher-relation-joined' on 'publisher:6'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-117-94-6.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-117-94-6.ec2.internal:5672/celery' (was unset)
2013-05-30 10:31:39,518 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 10:31:39,593 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 10:31:39,593 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 10:31:40,262 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:31:40,284 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 10:31:40,630 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:31:40,600 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Transform successfully started !
2013-05-30 10:31:40,915 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:31:40,908 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:31:41,198 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x120dc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 10:31:41,212 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 10:31:41,258 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 10:31:41,274 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 10:31:41,475 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 10:31:41,757 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 10:31:41,783 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['api:7', 'storage:3', 'transform:5']
2013-05-30 10:31:42,023 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 10:31:42,851 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-117-94-6.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-117-94-6.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-117-94-6.ec2.internal:5672/celery
2013-05-30 10:31:43,120 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 10:31:43,420 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 10:31:43,768 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 10:31:44,048 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 10:31:44,320 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 10:31:44,603 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:31:44,871 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 start
2013-05-30 10:31:45,207 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 10:31:48,904 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:31:50,543 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 10:31:50,890 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Publisher successfully started !
2013-05-30 10:31:51,175 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 10:31:51,458 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 10:31:51,512 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 10:31:51,600 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 10:31:52,264 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:31:55,512 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:31:58,705 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x27dfad0>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x27eeb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:32:02,291 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:32:05,832 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-joined
2013-05-30 10:32:11,950 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x27dfad0>
2013-05-30 10:32:12,301 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:32:12,351 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 10:32:12,440 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000007/settings/unit-0000000000' state: connected handle:0>
2013-05-30 10:32:12,443 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 10:32:12,445 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 10:32:12,411 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'api-relation-joined' on 'api:7'
    Setting changed: u'api_url'=u'http://ip-10-117-94-6.ec2.internal:5000' (was unset)
2013-05-30 10:32:12,411 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 10:32:12,415 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 10:32:12,415 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 10:32:12,582 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 10:32:12,595 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 10:32:12,596 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 10:32:12,638 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 10:32:12,651 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 10:32:13,240 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:32:13,545 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:32:13,828 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:32:14,124 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1495b10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x14a4b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:32:14,411 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:32:14,698 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-changed
2013-05-30 10:32:15,274 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Transform address is ip-10-145-147-230.ec2.internal
2013-05-30 10:32:15,570 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1495b10>
2013-05-30 10:32:15,845 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:32:15,906 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 10:32:15,988 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 10:32:15,989 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 10:32:17,188 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 10:32:18,167 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-117-94-6.ec2.internal, API URL is http://ip-10-117-94-6.ec2.internal:5000
2013-05-30 10:32:18,490 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 10:32:18,529 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 10:32:18,616 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 10:32:18,932 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register the Orchestrator
2013-05-30 10:32:19,276 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 10:32:21,450 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 9576

2013-05-30 10:32:21,477 unit:oscied-webui/0: hook.output INFO:  * Starting web server apache2

2013-05-30 10:32:21,603 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 10:32:21,605 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 10:32:21,698 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 10:32:23,855 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
git clone git://github.com/jisaacks/GitGutter.git2013-05-30 10:32:27,138 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:32:30,266 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:32:33,522 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2382b10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x2391b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:32:36,704 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:32:39,781 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-changed
2013-05-30 10:32:46,357 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Publisher address is ip-10-202-43-115.ec2.internal
2013-05-30 10:32:49,431 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2382b10>
2013-05-30 10:32:52,585 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:32:53,067 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 10:32:53,548 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 10:32:53,646 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 10:32:54,687 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 10:32:54,982 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 10:32:55,264 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 10:32:55,550 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x27feb10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x280db18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 10:32:55,821 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 10:32:56,098 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-changed
2013-05-30 10:32:56,654 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Web UI address is ip-10-152-186-158.ec2.internal
2013-05-30 10:32:56,930 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x27feb10>
2013-05-30 10:32:57,202 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:32:57,255 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 10:32:57,317 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
^Cdavid@GaViD:~/David/git/OSCIED/scripts$ git status
# On branch issue21_orchestra
# Your branch is ahead of 'origin/issue21_orchestra' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#   (commit or discard the untracked or modified content in submodules)
#
#	modified:   common.sh
#	modified:   ../tools/rabbitmq-tutorials (modified content)
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	t
#	t.pkl
#	test.svg
no changes added to commit (use "git add" and/or "git commit -a")
david@GaViD:~/David/git/OSCIED/scripts$ ls
common.sh  common.sh.lu-dep  fast-local.sh  generate-report.sh  juju-menu.sh  meld.sh  menu.sh  t  test.svg  t.pkl
david@GaViD:~/David/git/OSCIED/scripts$ nano ../charms/
build/               dist/                oscied_lib/          oscied-orchestra/    oscied-storage/      oscied-webui/        pyutils.egg-info/    setup.sh             
deploy/              .gitignore           oscied_lib.egg-info/ oscied-publisher/    oscied-transform/    pyutils/             setup.py             tests/               
david@GaViD:~/David/git/OSCIED/scripts$ nano ../charms/*/revision
david@GaViD:~/David/git/OSCIED/scripts$ git status
# On branch issue21_orchestra
# Your branch is ahead of 'origin/issue21_orchestra' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#   (commit or discard the untracked or modified content in submodules)
#
#	modified:   ../charms/oscied-orchestra/local_config.pkl
#	modified:   ../charms/oscied-orchestra/revision
#	modified:   ../charms/oscied-publisher/local_config.pkl
#	modified:   ../charms/oscied-publisher/revision
#	modified:   ../charms/oscied-storage/revision
#	modified:   ../charms/oscied-transform/local_config.pkl
#	modified:   ../charms/oscied-transform/revision
#	modified:   ../charms/oscied_lib/OrchestraConfig.py
#	modified:   ../charms/oscied_lib/Publisher.py
#	modified:   ../charms/oscied_lib/PublisherConfig.py
#	modified:   ../charms/oscied_lib/PublisherHooks.py
#	modified:   ../charms/oscied_lib/Transform.py
#	modified:   ../charms/oscied_lib/TransformConfig.py
#	modified:   ../charms/oscied_lib/TransformHooks.py
#	modified:   common.sh
#	modified:   ../tools/rabbitmq-tutorials (modified content)
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	t
#	t.pkl
#	test.svg
no changes added to commit (use "git add" and/or "git commit -a")
david@GaViD:~/David/git/OSCIED/scripts$ git add ../charms/oscied_lib
david@GaViD:~/David/git/OSCIED/scripts$ git add ../charms/
david@GaViD:~/David/git/OSCIED/scripts$ git status
# On branch issue21_orchestra
# Your branch is ahead of 'origin/issue21_orchestra' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   ../charms/oscied-orchestra/local_config.pkl
#	modified:   ../charms/oscied-orchestra/revision
#	modified:   ../charms/oscied-publisher/local_config.pkl
#	modified:   ../charms/oscied-publisher/revision
#	modified:   ../charms/oscied-storage/revision
#	modified:   ../charms/oscied-transform/local_config.pkl
#	modified:   ../charms/oscied-transform/revision
#	modified:   ../charms/oscied_lib/OrchestraConfig.py
#	modified:   ../charms/oscied_lib/Publisher.py
#	modified:   ../charms/oscied_lib/PublisherConfig.py
#	modified:   ../charms/oscied_lib/PublisherHooks.py
#	modified:   ../charms/oscied_lib/Transform.py
#	modified:   ../charms/oscied_lib/TransformConfig.py
#	modified:   ../charms/oscied_lib/TransformHooks.py
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#   (commit or discard the untracked or modified content in submodules)
#
#	modified:   common.sh
#	modified:   ../tools/rabbitmq-tutorials (modified content)
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	t
#	t.pkl
#	test.svg
david@GaViD:~/David/git/OSCIED/scripts$ git commit -m 'Do^C
david@GaViD:~/David/git/OSCIED/scripts$ rm t
david@GaViD:~/David/git/OSCIED/scripts$ rm t.pkl 
david@GaViD:~/David/git/OSCIED/scripts$ git commit -m 'Fix import error with pickle'
[issue21_orchestra ee95dee] Fix import error with pickle
 14 files changed, 12 insertions(+), 14 deletions(-)
david@GaViD:~/David/git/OSCIED/scripts$ git push
warning: push.default is unset; its implicit value is changing in
Git 2.0 from 'matching' to 'simple'. To squelch this message
and maintain the current behavior after the default changes, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

See 'git help config' and search for 'push.default' for further information.
(the 'simple' mode was introduced in Git 1.7.11. Use the similar mode
'current' instead of 'simple' if you sometimes use older versions of Git)

Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
david@GaViD:~/David/git/OSCIED/scripts$ ls
common.sh  common.sh.lu-dep  fast-local.sh  generate-report.sh  juju-menu.sh  meld.sh  menu.sh  test.svg
david@GaViD:~/David/git/OSCIED/scripts$ sh juju-menu.sh 
Binary dialog of package dialog founded, nothing to do !

























































 OSCIED Operations with JuJu
 















                                                                   
                                                                    Please select an operation                                         
                                                                       
                                                                       overwrite        Overwrite charms in deployment path          
                                                                       deploy           Launch a deployment scenario                 
                                                                       destroy          Destroy a deployed environment               
                                                                       standalone       Play with a charm locally (yes, really)      
                                                                       status           Display juju status                          
                                                                       status_svg       Display juju status as a SVG graphic         
                                                                       log              Launch juju debug log in a screen            
                                                                       config           Update units public url listing file         
                                                                       unit_ssh         Access to units with secure shell            
                                                                       unit_add         Add a new unit to a running service          
                                                                       unit_remove      Remove an unit from a running service        
                                                                       service_destroy  Destroy a running service                    
                                                                       
                                                                                                                                       
                                                                                                                                       
                                                                     
                                                                                    <Accepter>         <Annuler >                      
                                                                     
                                                                     
















Execute operation overwrite
sending incremental file list
created directory /home/david/David/git/OSCIED/charms/deploy/raring/oscied-orchestra
./
.gitignore
          13 100%    0.00kB/s    0:00:00 (xfer#1, to-check=56/58)
config.yaml
       2.52K 100%    2.40MB/s    0:00:00 (xfer#2, to-check=55/58)
copyright
         752 100%  734.38kB/s    0:00:00 (xfer#3, to-check=54/58)
local_config.pkl
         673 100%  657.23kB/s    0:00:00 (xfer#4, to-check=53/58)
metadata.yaml
         359 100%  350.59kB/s    0:00:00 (xfer#5, to-check=52/58)
orchestra.py
      79.25K 100%   25.19MB/s    0:00:00 (xfer#6, to-check=51/58)
revision
           2 100%    0.65kB/s    0:00:00 (xfer#7, to-check=50/58)
setup.py
       1.90K 100%  617.19kB/s    0:00:00 (xfer#8, to-check=49/58)
setup.sh
         524 100%  170.57kB/s    0:00:00 (xfer#9, to-check=48/58)
hooks/
hooks/api-relation-changed
          77 100%   25.07kB/s    0:00:00 (xfer#10, to-check=44/58)
hooks/api-relation-joined
          76 100%   24.74kB/s    0:00:00 (xfer#11, to-check=43/58)
hooks/config-changed
          71 100%   17.33kB/s    0:00:00 (xfer#12, to-check=42/58)
hooks/install
          75 100%   18.31kB/s    0:00:00 (xfer#13, to-check=41/58)
hooks/publisher-relation-changed
          83 100%   20.26kB/s    0:00:00 (xfer#14, to-check=40/58)
hooks/publisher-relation-joined
          82 100%   20.02kB/s    0:00:00 (xfer#15, to-check=39/58)
hooks/start
          62 100%   15.14kB/s    0:00:00 (xfer#16, to-check=38/58)
hooks/stop
          61 100%   11.91kB/s    0:00:00 (xfer#17, to-check=37/58)
hooks/storage-relation-broken
          80 100%   15.62kB/s    0:00:00 (xfer#18, to-check=36/58)
hooks/storage-relation-changed
          81 100%   15.82kB/s    0:00:00 (xfer#19, to-check=35/58)
hooks/storage-relation-joined
          80 100%   15.62kB/s    0:00:00 (xfer#20, to-check=34/58)
hooks/transform-relation-changed
          83 100%   13.51kB/s    0:00:00 (xfer#21, to-check=33/58)
hooks/transform-relation-joined
          82 100%   13.35kB/s    0:00:00 (xfer#22, to-check=32/58)
hooks/uninstall
          66 100%   10.74kB/s    0:00:00 (xfer#23, to-check=31/58)
oscied_lib/
oscied_lib/.gitignore
          50 100%    8.14kB/s    0:00:00 (xfer#24, to-check=30/58)
oscied_lib/Callback.py
       2.85K 100%  464.03kB/s    0:00:00 (xfer#25, to-check=29/58)
oscied_lib/CharmHooks.py
      12.57K 100%    2.00MB/s    0:00:00 (xfer#26, to-check=28/58)
oscied_lib/CharmHooks_Storage.py
       6.91K 100%    1.10MB/s    0:00:00 (xfer#27, to-check=27/58)
oscied_lib/CharmHooks_Subordinate.py
       4.98K 100%  695.17kB/s    0:00:00 (xfer#28, to-check=26/58)
oscied_lib/CharmHooks_Website.py
       1.84K 100%  257.39kB/s    0:00:00 (xfer#29, to-check=25/58)
oscied_lib/FFmpeg.py
       3.23K 100%  350.37kB/s    0:00:00 (xfer#30, to-check=24/58)
oscied_lib/Media.py
       4.72K 100%  512.15kB/s    0:00:00 (xfer#31, to-check=23/58)
oscied_lib/Orchestra.py
      20.21K 100%    1.93MB/s    0:00:00 (xfer#32, to-check=22/58)
oscied_lib/OrchestraConfig.py
       5.13K 100%  501.27kB/s    0:00:00 (xfer#33, to-check=21/58)
oscied_lib/OrchestraHooks.py
      11.93K 100%    1.03MB/s    0:00:00 (xfer#34, to-check=20/58)
oscied_lib/PublishJob.py
       4.04K 100%  358.49kB/s    0:00:00 (xfer#35, to-check=19/58)
oscied_lib/Publisher.py
       6.35K 100%  563.48kB/s    0:00:00 (xfer#36, to-check=18/58)
oscied_lib/PublisherConfig.py
       4.87K 100%  432.53kB/s    0:00:00 (xfer#37, to-check=17/58)
oscied_lib/PublisherHooks.py
       6.39K 100%  520.02kB/s    0:00:00 (xfer#38, to-check=16/58)
oscied_lib/Storage.py
       4.76K 100%  387.21kB/s    0:00:00 (xfer#39, to-check=15/58)
oscied_lib/StorageConfig.py
       2.20K 100%  179.04kB/s    0:00:00 (xfer#40, to-check=14/58)
oscied_lib/StorageHooks.py
      10.35K 100%  842.20kB/s    0:00:00 (xfer#41, to-check=13/58)
oscied_lib/Transform.py
      11.30K 100%  849.16kB/s    0:00:00 (xfer#42, to-check=12/58)
oscied_lib/TransformConfig.py
       4.32K 100%  324.44kB/s    0:00:00 (xfer#43, to-check=11/58)
oscied_lib/TransformHooks.py
       5.25K 100%  394.01kB/s    0:00:00 (xfer#44, to-check=10/58)
oscied_lib/TransformJob.py
       4.96K 100%  372.52kB/s    0:00:00 (xfer#45, to-check=9/58)
oscied_lib/TransformProfile.py
       2.91K 100%  218.37kB/s    0:00:00 (xfer#46, to-check=8/58)
oscied_lib/User.py
       5.10K 100%  355.54kB/s    0:00:00 (xfer#47, to-check=7/58)
oscied_lib/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#48, to-check=6/58)
oscied_lib/pyutils/
oscied_lib/pyutils/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#49, to-check=4/58)
oscied_lib/pyutils/pyutils.py
      22.87K 100%    1.45MB/s    0:00:00 (xfer#50, to-check=3/58)
templates/
templates/99a9179b9106d19d4e1cca7a720b079a
       1.20K 100%   78.19kB/s    0:00:00 (xfer#51, to-check=2/58)
templates/celeryconfig.py.template
       2.61K 100%  159.55kB/s    0:00:00 (xfer#52, to-check=1/58)
templates/environments.yaml.template
         142 100%    8.67kB/s    0:00:00 (xfer#53, to-check=0/58)

sent 264.80K bytes  received 1.04K bytes  531.67K bytes/sec
total size is 261.09K  speedup is 0.98
sending incremental file list
created directory /home/david/David/git/OSCIED/charms/deploy/raring/oscied-publisher
./
apache_mod_h264_streaming-2.2.7.tar.gz
     320.61K 100%   45.75MB/s    0:00:00 (xfer#1, to-check=52/54)
config.yaml
       2.04K 100%  331.87kB/s    0:00:00 (xfer#2, to-check=51/54)
copyright
         752 100%  104.91kB/s    0:00:00 (xfer#3, to-check=50/54)
get-dependencies.sh
         124 100%   17.30kB/s    0:00:00 (xfer#4, to-check=49/54)
local_config.pkl
         625 100%   87.19kB/s    0:00:00 (xfer#5, to-check=48/54)
metadata.yaml
         395 100%   55.11kB/s    0:00:00 (xfer#6, to-check=47/54)
revision
           2 100%    0.28kB/s    0:00:00 (xfer#7, to-check=46/54)
setup.py
       1.90K 100%  264.51kB/s    0:00:00 (xfer#8, to-check=45/54)
setup.sh
         524 100%   73.10kB/s    0:00:00 (xfer#9, to-check=44/54)
hooks/
hooks/config-changed
          71 100%    9.91kB/s    0:00:00 (xfer#10, to-check=40/54)
hooks/install
          75 100%    9.16kB/s    0:00:00 (xfer#11, to-check=39/54)
hooks/publisher-relation-broken
          84 100%   10.25kB/s    0:00:00 (xfer#12, to-check=38/54)
hooks/publisher-relation-changed
          85 100%   10.38kB/s    0:00:00 (xfer#13, to-check=37/54)
hooks/publisher-relation-joined
          84 100%   10.25kB/s    0:00:00 (xfer#14, to-check=36/54)
hooks/start
          62 100%    7.57kB/s    0:00:00 (xfer#15, to-check=35/54)
hooks/stop
          61 100%    7.45kB/s    0:00:00 (xfer#16, to-check=34/54)
hooks/storage-relation-broken
          80 100%    9.77kB/s    0:00:00 (xfer#17, to-check=33/54)
hooks/storage-relation-changed
          81 100%    8.79kB/s    0:00:00 (xfer#18, to-check=32/54)
hooks/storage-relation-joined
          80 100%    8.68kB/s    0:00:00 (xfer#19, to-check=31/54)
hooks/uninstall
          66 100%    7.16kB/s    0:00:00 (xfer#20, to-check=30/54)
hooks/website-relation-joined
          80 100%    8.68kB/s    0:00:00 (xfer#21, to-check=29/54)
oscied_lib/
oscied_lib/.gitignore
          50 100%    5.43kB/s    0:00:00 (xfer#22, to-check=28/54)
oscied_lib/Callback.py
       2.85K 100%  309.35kB/s    0:00:00 (xfer#23, to-check=27/54)
oscied_lib/CharmHooks.py
      12.57K 100%    1.33MB/s    0:00:00 (xfer#24, to-check=26/54)
oscied_lib/CharmHooks_Storage.py
       6.91K 100%  749.57kB/s    0:00:00 (xfer#25, to-check=25/54)
oscied_lib/CharmHooks_Subordinate.py
       4.98K 100%  540.69kB/s    0:00:00 (xfer#26, to-check=24/54)
oscied_lib/CharmHooks_Website.py
       1.84K 100%  200.20kB/s    0:00:00 (xfer#27, to-check=23/54)
oscied_lib/FFmpeg.py
       3.23K 100%  315.33kB/s    0:00:00 (xfer#28, to-check=22/54)
oscied_lib/Media.py
       4.72K 100%  460.94kB/s    0:00:00 (xfer#29, to-check=21/54)
oscied_lib/Orchestra.py
      20.21K 100%    1.93MB/s    0:00:00 (xfer#30, to-check=20/54)
oscied_lib/OrchestraConfig.py
       5.13K 100%  455.70kB/s    0:00:00 (xfer#31, to-check=19/54)
oscied_lib/OrchestraHooks.py
      11.93K 100%    1.03MB/s    0:00:00 (xfer#32, to-check=18/54)
oscied_lib/PublishJob.py
       4.04K 100%  358.49kB/s    0:00:00 (xfer#33, to-check=17/54)
oscied_lib/Publisher.py
       6.35K 100%  563.48kB/s    0:00:00 (xfer#34, to-check=16/54)
oscied_lib/PublisherConfig.py
       4.87K 100%  432.53kB/s    0:00:00 (xfer#35, to-check=15/54)
oscied_lib/PublisherHooks.py
       6.39K 100%  567.29kB/s    0:00:00 (xfer#36, to-check=14/54)
oscied_lib/Storage.py
       4.76K 100%  422.41kB/s    0:00:00 (xfer#37, to-check=13/54)
oscied_lib/StorageConfig.py
       2.20K 100%  195.31kB/s    0:00:00 (xfer#38, to-check=12/54)
oscied_lib/StorageHooks.py
      10.35K 100%  918.77kB/s    0:00:00 (xfer#39, to-check=11/54)
oscied_lib/Transform.py
      11.30K 100%  919.92kB/s    0:00:00 (xfer#40, to-check=10/54)
oscied_lib/TransformConfig.py
       4.32K 100%  351.48kB/s    0:00:00 (xfer#41, to-check=9/54)
oscied_lib/TransformHooks.py
       5.25K 100%  426.84kB/s    0:00:00 (xfer#42, to-check=8/54)
oscied_lib/TransformJob.py
       4.96K 100%  403.56kB/s    0:00:00 (xfer#43, to-check=7/54)
oscied_lib/TransformProfile.py
       2.91K 100%  236.57kB/s    0:00:00 (xfer#44, to-check=6/54)
oscied_lib/User.py
       5.10K 100%  414.79kB/s    0:00:00 (xfer#45, to-check=5/54)
oscied_lib/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#46, to-check=4/54)
oscied_lib/pyutils/
oscied_lib/pyutils/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#47, to-check=2/54)
oscied_lib/pyutils/pyutils.py
      22.87K 100%    1.68MB/s    0:00:00 (xfer#48, to-check=1/54)
templates/
templates/celeryconfig.py.template
       1.82K 100%  136.94kB/s    0:00:00 (xfer#49, to-check=0/54)

sent 503.25K bytes  received 962 bytes  1.01M bytes/sec
total size is 499.78K  speedup is 0.99
sending incremental file list
created directory /home/david/David/git/OSCIED/charms/deploy/raring/oscied-storage
./
.gitignore
           6 100%    0.00kB/s    0:00:00 (xfer#1, to-check=46/48)
config.yaml
         846 100%  826.17kB/s    0:00:00 (xfer#2, to-check=45/48)
copyright
         743 100%  725.59kB/s    0:00:00 (xfer#3, to-check=44/48)
local_config.pkl
         350 100%  341.80kB/s    0:00:00 (xfer#4, to-check=43/48)
metadata.yaml
         300 100%  292.97kB/s    0:00:00 (xfer#5, to-check=42/48)
revision
           3 100%    2.93kB/s    0:00:00 (xfer#6, to-check=41/48)
setup.py
       1.90K 100%    1.81MB/s    0:00:00 (xfer#7, to-check=40/48)
setup.sh
         524 100%  511.72kB/s    0:00:00 (xfer#8, to-check=39/48)
hooks/
hooks/config-changed
          69 100%   67.38kB/s    0:00:00 (xfer#9, to-check=36/48)
hooks/install
          73 100%   71.29kB/s    0:00:00 (xfer#10, to-check=35/48)
hooks/peer-relation-broken
          75 100%   73.24kB/s    0:00:00 (xfer#11, to-check=34/48)
hooks/peer-relation-changed
          76 100%   37.11kB/s    0:00:00 (xfer#12, to-check=33/48)
hooks/peer-relation-joined
          75 100%   36.62kB/s    0:00:00 (xfer#13, to-check=32/48)
hooks/start
          60 100%   29.30kB/s    0:00:00 (xfer#14, to-check=31/48)
hooks/stop
          59 100%   28.81kB/s    0:00:00 (xfer#15, to-check=30/48)
hooks/storage-relation-joined
          78 100%   38.09kB/s    0:00:00 (xfer#16, to-check=29/48)
hooks/uninstall
          64 100%   20.83kB/s    0:00:00 (xfer#17, to-check=28/48)
oscied_lib/
oscied_lib/.gitignore
          50 100%   16.28kB/s    0:00:00 (xfer#18, to-check=27/48)
oscied_lib/Callback.py
       2.85K 100%  928.06kB/s    0:00:00 (xfer#19, to-check=26/48)
oscied_lib/CharmHooks.py
      12.57K 100%    4.00MB/s    0:00:00 (xfer#20, to-check=25/48)
oscied_lib/CharmHooks_Storage.py
       6.91K 100%    2.20MB/s    0:00:00 (xfer#21, to-check=24/48)
oscied_lib/CharmHooks_Subordinate.py
       4.98K 100%    1.58MB/s    0:00:00 (xfer#22, to-check=23/48)
oscied_lib/CharmHooks_Website.py
       1.84K 100%  600.59kB/s    0:00:00 (xfer#23, to-check=22/48)
oscied_lib/FFmpeg.py
       3.23K 100%  630.66kB/s    0:00:00 (xfer#24, to-check=21/48)
oscied_lib/Media.py
       4.72K 100%  921.88kB/s    0:00:00 (xfer#25, to-check=20/48)
oscied_lib/Orchestra.py
      20.21K 100%    3.86MB/s    0:00:00 (xfer#26, to-check=19/48)
oscied_lib/OrchestraConfig.py
       5.13K 100%  835.45kB/s    0:00:00 (xfer#27, to-check=18/48)
oscied_lib/OrchestraHooks.py
      11.93K 100%    1.90MB/s    0:00:00 (xfer#28, to-check=17/48)
oscied_lib/PublishJob.py
       4.04K 100%  657.23kB/s    0:00:00 (xfer#29, to-check=16/48)
oscied_lib/Publisher.py
       6.35K 100%    1.01MB/s    0:00:00 (xfer#30, to-check=15/48)
oscied_lib/PublisherConfig.py
       4.87K 100%  679.69kB/s    0:00:00 (xfer#31, to-check=14/48)
oscied_lib/PublisherHooks.py
       6.39K 100%  891.46kB/s    0:00:00 (xfer#32, to-check=13/48)
oscied_lib/Storage.py
       4.76K 100%  663.78kB/s    0:00:00 (xfer#33, to-check=12/48)
oscied_lib/StorageConfig.py
       2.20K 100%  306.92kB/s    0:00:00 (xfer#34, to-check=11/48)
oscied_lib/StorageHooks.py
      10.35K 100%    1.41MB/s    0:00:00 (xfer#35, to-check=10/48)
oscied_lib/Transform.py
      11.30K 100%    1.35MB/s    0:00:00 (xfer#36, to-check=9/48)
oscied_lib/TransformConfig.py
       4.32K 100%  527.22kB/s    0:00:00 (xfer#37, to-check=8/48)
oscied_lib/TransformHooks.py
       5.25K 100%  640.26kB/s    0:00:00 (xfer#38, to-check=7/48)
oscied_lib/TransformJob.py
       4.96K 100%  605.35kB/s    0:00:00 (xfer#39, to-check=6/48)
oscied_lib/TransformProfile.py
       2.91K 100%  354.86kB/s    0:00:00 (xfer#40, to-check=5/48)
oscied_lib/User.py
       5.10K 100%  553.06kB/s    0:00:00 (xfer#41, to-check=4/48)
oscied_lib/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#42, to-check=3/48)
oscied_lib/pyutils/
oscied_lib/pyutils/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#43, to-check=1/48)
oscied_lib/pyutils/pyutils.py
      22.87K 100%    2.42MB/s    0:00:00 (xfer#44, to-check=0/48)

sent 178.39K bytes  received 863 bytes  358.50K bytes/sec
total size is 175.38K  speedup is 0.98
sending incremental file list
created directory /home/david/David/git/OSCIED/charms/deploy/raring/oscied-transform
./
.gitignore
           6 100%    0.00kB/s    0:00:00 (xfer#1, to-check=51/53)
config.yaml
       1.65K 100%    1.58MB/s    0:00:00 (xfer#2, to-check=50/53)
copyright
         752 100%  734.38kB/s    0:00:00 (xfer#3, to-check=49/53)
gpac.tar.bz2
       8.55M 100%   37.59MB/s    0:00:00 (xfer#4, to-check=48/53)
local_config.pkl
         505 100%    2.26kB/s    0:00:00 (xfer#5, to-check=47/53)
metadata.yaml
         341 100%    1.53kB/s    0:00:00 (xfer#6, to-check=46/53)
revision
           2 100%    0.01kB/s    0:00:00 (xfer#7, to-check=45/53)
setup.py
       1.90K 100%    8.49kB/s    0:00:00 (xfer#8, to-check=44/53)
setup.sh
         524 100%    2.35kB/s    0:00:00 (xfer#9, to-check=43/53)
hooks/
hooks/config-changed
          71 100%    0.32kB/s    0:00:00 (xfer#10, to-check=39/53)
hooks/install
          75 100%    0.33kB/s    0:00:00 (xfer#11, to-check=38/53)
hooks/start
          62 100%    0.28kB/s    0:00:00 (xfer#12, to-check=37/53)
hooks/stop
          61 100%    0.27kB/s    0:00:00 (xfer#13, to-check=36/53)
hooks/storage-relation-broken
          80 100%    0.36kB/s    0:00:00 (xfer#14, to-check=35/53)
hooks/storage-relation-changed
          81 100%    0.36kB/s    0:00:00 (xfer#15, to-check=34/53)
hooks/storage-relation-joined
          80 100%    0.36kB/s    0:00:00 (xfer#16, to-check=33/53)
hooks/transform-relation-broken
          84 100%    0.37kB/s    0:00:00 (xfer#17, to-check=32/53)
hooks/transform-relation-changed
          85 100%    0.38kB/s    0:00:00 (xfer#18, to-check=31/53)
hooks/transform-relation-joined
          84 100%    0.37kB/s    0:00:00 (xfer#19, to-check=30/53)
hooks/uninstall
          66 100%    0.29kB/s    0:00:00 (xfer#20, to-check=29/53)
oscied_lib/
oscied_lib/.gitignore
          50 100%    0.22kB/s    0:00:00 (xfer#21, to-check=28/53)
oscied_lib/Callback.py
       2.85K 100%   12.60kB/s    0:00:00 (xfer#22, to-check=27/53)
oscied_lib/CharmHooks.py
      12.57K 100%   55.55kB/s    0:00:00 (xfer#23, to-check=26/53)
oscied_lib/CharmHooks_Storage.py
       6.91K 100%   30.53kB/s    0:00:00 (xfer#24, to-check=25/53)
oscied_lib/CharmHooks_Subordinate.py
       4.98K 100%   22.02kB/s    0:00:00 (xfer#25, to-check=24/53)
oscied_lib/CharmHooks_Website.py
       1.84K 100%    8.12kB/s    0:00:00 (xfer#26, to-check=23/53)
oscied_lib/FFmpeg.py
       3.23K 100%   14.14kB/s    0:00:00 (xfer#27, to-check=22/53)
oscied_lib/Media.py
       4.72K 100%   20.67kB/s    0:00:00 (xfer#28, to-check=21/53)
oscied_lib/Orchestra.py
      20.21K 100%   88.13kB/s    0:00:00 (xfer#29, to-check=20/53)
oscied_lib/OrchestraConfig.py
       5.13K 100%   22.38kB/s    0:00:00 (xfer#30, to-check=19/53)
oscied_lib/OrchestraHooks.py
      11.93K 100%   51.77kB/s    0:00:00 (xfer#31, to-check=18/53)
oscied_lib/PublishJob.py
       4.04K 100%   17.53kB/s    0:00:00 (xfer#32, to-check=17/53)
oscied_lib/Publisher.py
       6.35K 100%   27.55kB/s    0:00:00 (xfer#33, to-check=16/53)
oscied_lib/PublisherConfig.py
       4.87K 100%   21.15kB/s    0:00:00 (xfer#34, to-check=15/53)
oscied_lib/PublisherHooks.py
       6.39K 100%   27.73kB/s    0:00:00 (xfer#35, to-check=14/53)
oscied_lib/Storage.py
       4.76K 100%   20.65kB/s    0:00:00 (xfer#36, to-check=13/53)
oscied_lib/StorageConfig.py
       2.20K 100%    9.55kB/s    0:00:00 (xfer#37, to-check=12/53)
oscied_lib/StorageHooks.py
      10.35K 100%   44.72kB/s    0:00:00 (xfer#38, to-check=11/53)
oscied_lib/Transform.py
      11.30K 100%   48.85kB/s    0:00:00 (xfer#39, to-check=10/53)
oscied_lib/TransformConfig.py
       4.32K 100%   18.66kB/s    0:00:00 (xfer#40, to-check=9/53)
oscied_lib/TransformHooks.py
       5.25K 100%   22.56kB/s    0:00:00 (xfer#41, to-check=8/53)
oscied_lib/TransformJob.py
       4.96K 100%   21.33kB/s    0:00:00 (xfer#42, to-check=7/53)
oscied_lib/TransformProfile.py
       2.91K 100%   12.51kB/s    0:00:00 (xfer#43, to-check=6/53)
oscied_lib/User.py
       5.10K 100%   21.93kB/s    0:00:00 (xfer#44, to-check=5/53)
oscied_lib/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#45, to-check=4/53)
oscied_lib/pyutils/
oscied_lib/pyutils/__init__.py
           0 100%    0.00kB/s    0:00:00 (xfer#46, to-check=2/53)
oscied_lib/pyutils/pyutils.py
      22.87K 100%   97.95kB/s    0:00:00 (xfer#47, to-check=1/53)
templates/
templates/celeryconfig.py.template
       1.82K 100%    7.81kB/s    0:00:00 (xfer#48, to-check=0/53)

sent 8.74M bytes  received 943 bytes  17.47M bytes/sec
total size is 8.73M  speedup is 1.00
sending incremental file list
created directory /home/david/David/git/OSCIED/charms/deploy/raring/oscied-webui
./
000-default
         691 100%    0.00kB/s    0:00:00 (xfer#1, to-check=431/433)
AUTHORS
          31 100%   30.27kB/s    0:00:00 (xfer#2, to-check=430/433)
README.rst
         203 100%  198.24kB/s    0:00:00 (xfer#3, to-check=429/433)
apache2.conf
       9.38K 100%    8.95MB/s    0:00:00 (xfer#4, to-check=428/433)
config.yaml
       1.78K 100%    1.70MB/s    0:00:00 (xfer#5, to-check=427/433)
copyright
         752 100%  734.38kB/s    0:00:00 (xfer#6, to-check=426/433)
metadata.yaml
         348 100%  339.84kB/s    0:00:00 (xfer#7, to-check=425/433)
revision
           2 100%    1.95kB/s    0:00:00 (xfer#8, to-check=424/433)
webui-db.sql
       1.72K 100%    1.64MB/s    0:00:00 (xfer#9, to-check=423/433)
hooks/
hooks/api-relation-broken
          60 100%   58.59kB/s    0:00:00 (xfer#10, to-check=419/433)
hooks/api-relation-changed
          61 100%   59.57kB/s    0:00:00 (xfer#11, to-check=418/433)
hooks/api-relation-joined
          60 100%   29.30kB/s    0:00:00 (xfer#12, to-check=417/433)
hooks/config-changed_disabled
          55 100%   26.86kB/s    0:00:00 (xfer#13, to-check=416/433)
hooks/install
          48 100%   23.44kB/s    0:00:00 (xfer#14, to-check=415/433)
hooks/start
          46 100%   22.46kB/s    0:00:00 (xfer#15, to-check=414/433)
hooks/stop
          45 100%   21.97kB/s    0:00:00 (xfer#16, to-check=413/433)
hooks/storage-relation-broken
          64 100%   20.83kB/s    0:00:00 (xfer#17, to-check=412/433)
hooks/storage-relation-changed
          65 100%   21.16kB/s    0:00:00 (xfer#18, to-check=411/433)
hooks/storage-relation-joined
          64 100%   20.83kB/s    0:00:00 (xfer#19, to-check=410/433)
hooks/uninstall
          50 100%   16.28kB/s    0:00:00 (xfer#20, to-check=409/433)
hooks/website-relation-broken
          64 100%   20.83kB/s    0:00:00 (xfer#21, to-check=408/433)
hooks/website-relation-changed
          65 100%   15.87kB/s    0:00:00 (xfer#22, to-check=407/433)
hooks/website-relation-departed
          66 100%   16.11kB/s    0:00:00 (xfer#23, to-check=406/433)
hooks/website-relation-joined
          64 100%   15.62kB/s    0:00:00 (xfer#24, to-check=405/433)
hooks_lib/
hooks_lib/.gitignore
          10 100%    2.44kB/s    0:00:00 (xfer#25, to-check=404/433)
hooks_lib/common.sh.lu-dep
      18.92K 100%    3.61MB/s    0:00:00 (xfer#26, to-check=403/433)
www/
www/.htaccess
         352 100%   68.75kB/s    0:00:00 (xfer#27, to-check=402/433)
www/index.php
       6.36K 100%    1.01MB/s    0:00:00 (xfer#28, to-check=401/433)
www/license.txt
       2.50K 100%  406.25kB/s    0:00:00 (xfer#29, to-check=400/433)
www/application/
www/application/.htaccess
          13 100%    2.12kB/s    0:00:00 (xfer#30, to-check=393/433)
www/application/index.html
         114 100%   18.55kB/s    0:00:00 (xfer#31, to-check=392/433)
www/application/cache/
www/application/cache/.htaccess
          13 100%    2.12kB/s    0:00:00 (xfer#32, to-check=378/433)
www/application/cache/index.html
         114 100%   15.90kB/s    0:00:00 (xfer#33, to-check=377/433)
www/application/config/
www/application/config/autoload.php
       3.15K 100%  438.76kB/s    0:00:00 (xfer#34, to-check=376/433)
www/application/config/config.php
      14.28K 100%    1.70MB/s    0:00:00 (xfer#35, to-check=375/433)
www/application/config/constants.php
       1.71K 100%  208.98kB/s    0:00:00 (xfer#36, to-check=374/433)
www/application/config/database.php
       3.24K 100%  395.26kB/s    0:00:00 (xfer#37, to-check=373/433)
www/application/config/doctypes.php
       1.14K 100%  138.92kB/s    0:00:00 (xfer#38, to-check=372/433)
www/application/config/foreign_chars.php
       1.78K 100%  193.25kB/s    0:00:00 (xfer#39, to-check=371/433)
www/application/config/hooks.php
         498 100%   54.04kB/s    0:00:00 (xfer#40, to-check=370/433)
www/application/config/index.html
         114 100%   12.37kB/s    0:00:00 (xfer#41, to-check=369/433)
www/application/config/migration.php
       1.28K 100%  139.11kB/s    0:00:00 (xfer#42, to-check=368/433)
www/application/config/mimes.php
       5.42K 100%  529.79kB/s    0:00:00 (xfer#43, to-check=367/433)
www/application/config/pagination.php
       1.03K 100%  100.49kB/s    0:00:00 (xfer#44, to-check=366/433)
www/application/config/profiler.php
         564 100%   55.08kB/s    0:00:00 (xfer#45, to-check=365/433)
www/application/config/routes.php
       1.57K 100%  153.61kB/s    0:00:00 (xfer#46, to-check=364/433)
www/application/config/smileys.php
       3.29K 100%  292.52kB/s    0:00:00 (xfer#47, to-check=363/433)
www/application/config/user_agents.php
       5.59K 100%  496.18kB/s    0:00:00 (xfer#48, to-check=362/433)
www/application/controllers/
www/application/controllers/index.html
         114 100%   10.12kB/s    0:00:00 (xfer#49, to-check=361/433)
www/application/controllers/media.php
       8.48K 100%  690.02kB/s    0:00:00 (xfer#50, to-check=360/433)
www/application/controllers/misc.php
         620 100%   50.46kB/s    0:00:00 (xfer#51, to-check=359/433)
www/application/controllers/profile.php
       5.61K 100%  421.65kB/s    0:00:00 (xfer#52, to-check=358/433)
www/application/controllers/publisher.php
       5.16K 100%  387.32kB/s    0:00:00 (xfer#53, to-check=357/433)
www/application/controllers/transform.php
       5.84K 100%  438.40kB/s    0:00:00 (xfer#54, to-check=356/433)
www/application/controllers/upload_files.php
       2.53K 100%  176.69kB/s    0:00:00 (xfer#55, to-check=355/433)
www/application/controllers/users.php
      10.32K 100%  719.66kB/s    0:00:00 (xfer#56, to-check=354/433)
www/application/core/
www/application/core/MY_Controller.php
         733 100%   51.13kB/s    0:00:00 (xfer#57, to-check=353/433)
www/application/core/MY_Loader.php
       7.11K 100%  462.57kB/s    0:00:00 (xfer#58, to-check=352/433)
www/application/core/index.html
         114 100%    7.42kB/s    0:00:00 (xfer#59, to-check=351/433)
www/application/errors/
www/application/errors/error_404.php
       1.16K 100%   75.52kB/s    0:00:00 (xfer#60, to-check=350/433)
www/application/errors/error_db.php
       1.16K 100%   70.56kB/s    0:00:00 (xfer#61, to-check=349/433)
www/application/errors/error_general.php
       1.15K 100%   70.01kB/s    0:00:00 (xfer#62, to-check=348/433)
www/application/errors/error_php.php
         288 100%   17.58kB/s    0:00:00 (xfer#63, to-check=347/433)
www/application/errors/index.html
         114 100%    6.96kB/s    0:00:00 (xfer#64, to-check=346/433)
www/application/helpers/
www/application/helpers/MY_download_helper.php
       3.12K 100%  190.37kB/s    0:00:00 (xfer#65, to-check=345/433)
www/application/helpers/flash_message_helper.php
       1.39K 100%   79.68kB/s    0:00:00 (xfer#66, to-check=344/433)
www/application/helpers/index.html
         114 100%    6.55kB/s    0:00:00 (xfer#67, to-check=343/433)
www/application/helpers/simple_html_dom_helper.php
      53.22K 100%    2.82MB/s    0:00:00 (xfer#68, to-check=342/433)
www/application/hooks/
www/application/hooks/index.html
         114 100%    6.18kB/s    0:00:00 (xfer#69, to-check=341/433)
www/application/language/
www/application/language/english/
www/application/language/english/index.html
         114 100%    5.86kB/s    0:00:00 (xfer#70, to-check=339/433)
www/application/libraries/
www/application/libraries/Css_js.php
         794 100%   40.81kB/s    0:00:00 (xfer#71, to-check=338/433)
www/application/libraries/MY_Form_validation.php
         488 100%   25.08kB/s    0:00:00 (xfer#72, to-check=337/433)
www/application/libraries/User.php
       1.41K 100%   72.21kB/s    0:00:00 (xfer#73, to-check=336/433)
www/application/libraries/index.html
         114 100%    5.86kB/s    0:00:00 (xfer#74, to-check=335/433)
www/application/logs/
www/application/logs/index.html
         114 100%    5.86kB/s    0:00:00 (xfer#75, to-check=334/433)
www/application/models/
www/application/models/files_model.php
       1.66K 100%   64.69kB/s    0:00:00 (xfer#76, to-check=333/433)
www/application/models/index.html
         114 100%    4.45kB/s    0:00:00 (xfer#77, to-check=332/433)
www/application/models/tmp_files_model.php
       1.49K 100%   58.12kB/s    0:00:00 (xfer#78, to-check=331/433)
www/application/third_party/
www/application/third_party/index.html
         114 100%    4.28kB/s    0:00:00 (xfer#79, to-check=330/433)
www/application/views/
www/application/views/contact.php
          11 100%    0.41kB/s    0:00:00 (xfer#80, to-check=329/433)
www/application/views/homepage.php
          24 100%    0.90kB/s    0:00:00 (xfer#81, to-check=328/433)
www/application/views/index.html
         114 100%    4.28kB/s    0:00:00 (xfer#82, to-check=327/433)
www/application/views/fileupload/
www/application/views/fileupload/scripts.php
       4.63K 100%  174.02kB/s    0:00:00 (xfer#83, to-check=319/433)
www/application/views/fileupload/upload.php
         968 100%   36.36kB/s    0:00:00 (xfer#84, to-check=318/433)
www/application/views/layouts/
www/application/views/layouts/default.php
       1.77K 100%   63.98kB/s    0:00:00 (xfer#85, to-check=317/433)
www/application/views/layouts/default_header.php
       3.79K 100%  137.15kB/s    0:00:00 (xfer#86, to-check=316/433)
www/application/views/media/
www/application/views/media/add_media_form.php
       3.60K 100%  130.24kB/s    0:00:00 (xfer#87, to-check=315/433)
www/application/views/media/show.php
         642 100%   23.22kB/s    0:00:00 (xfer#88, to-check=314/433)
www/application/views/media/show_medias.php
       2.70K 100%   97.80kB/s    0:00:00 (xfer#89, to-check=313/433)
www/application/views/profile/
www/application/views/profile/add_profile_form.php
       1.72K 100%   59.95kB/s    0:00:00 (xfer#90, to-check=312/433)
www/application/views/profile/show.php
         660 100%   23.02kB/s    0:00:00 (xfer#91, to-check=311/433)
www/application/views/profile/show_profiles.php
       1.39K 100%   48.55kB/s    0:00:00 (xfer#92, to-check=310/433)
www/application/views/publisher/
www/application/views/publisher/launch_publish_form.php
       1.40K 100%   48.72kB/s    0:00:00 (xfer#93, to-check=309/433)
www/application/views/publisher/show.php
         654 100%   22.81kB/s    0:00:00 (xfer#94, to-check=308/433)
www/application/views/publisher/show_jobs.php
       4.50K 100%  157.12kB/s    0:00:00 (xfer#95, to-check=307/433)
www/application/views/transform/
www/application/views/transform/launch_transform_form.php
       1.84K 100%   62.13kB/s    0:00:00 (xfer#96, to-check=306/433)
www/application/views/transform/show.php
         654 100%   22.02kB/s    0:00:00 (xfer#97, to-check=305/433)
www/application/views/transform/show_jobs.php
       4.79K 100%  161.37kB/s    0:00:00 (xfer#98, to-check=304/433)
www/application/views/users/
www/application/views/users/add_user_form.php
       1.80K 100%   60.72kB/s    0:00:00 (xfer#99, to-check=303/433)
www/application/views/users/login_modal.php
       1.60K 100%   53.95kB/s    0:00:00 (xfer#100, to-check=302/433)
www/application/views/users/show.php
       1.82K 100%   59.34kB/s    0:00:00 (xfer#101, to-check=301/433)
www/application/views/users/show_users.php
       3.32K 100%  108.07kB/s    0:00:00 (xfer#102, to-check=300/433)
www/assets/
www/assets/index.html
         114 100%    3.71kB/s    0:00:00 (xfer#103, to-check=299/433)
www/assets/css/
www/assets/css/bootstrap-responsive.css
      21.75K 100%  708.04kB/s    0:00:00 (xfer#104, to-check=295/433)
www/assets/css/bootstrap-responsive.min.css
      16.55K 100%  538.83kB/s    0:00:00 (xfer#105, to-check=294/433)
www/assets/css/bootstrap.css
     124.22K 100%    3.70MB/s    0:00:00 (xfer#106, to-check=293/433)
www/assets/css/bootstrap.min.css
     103.31K 100%    2.82MB/s    0:00:00 (xfer#107, to-check=292/433)
www/assets/css/custom.css
       1.30K 100%   36.16kB/s    0:00:00 (xfer#108, to-check=291/433)
www/assets/css/style.css
       2.14K 100%   59.60kB/s    0:00:00 (xfer#109, to-check=290/433)
www/assets/css/fileupload/
www/assets/css/fileupload/bootstrap-image-gallery.min.css
       1.69K 100%   47.21kB/s    0:00:00 (xfer#110, to-check=288/433)
www/assets/css/fileupload/jquery-ui.css
      33.40K 100%  906.11kB/s    0:00:00 (xfer#111, to-check=287/433)
www/assets/css/fileupload/jquery.fileupload-ui.css
       1.28K 100%   33.68kB/s    0:00:00 (xfer#112, to-check=286/433)
www/assets/img/
www/assets/img/glyphicons-halflings-white.png
       8.78K 100%  231.66kB/s    0:00:00 (xfer#113, to-check=285/433)
www/assets/img/glyphicons-halflings.png
      12.80K 100%  337.81kB/s    0:00:00 (xfer#114, to-check=284/433)
www/assets/img/home-bg.jpg
       9.26M 100%   31.89MB/s    0:00:00 (xfer#115, to-check=283/433)
www/assets/img/home-bg11.jpg
      82.00K 100%  284.97kB/s    0:00:00 (xfer#116, to-check=282/433)
www/assets/img/fileupload/
www/assets/img/fileupload/loading.gif
       3.90K 100%   13.54kB/s    0:00:00 (xfer#117, to-check=279/433)
www/assets/img/fileupload/progressbar.gif
       3.32K 100%   11.51kB/s    0:00:00 (xfer#118, to-check=278/433)
www/assets/img/icons/
www/assets/img/icons/add.png
       5.49K 100%   19.02kB/s    0:00:00 (xfer#119, to-check=277/433)
www/assets/img/icons/calendar.png
       3.98K 100%   13.79kB/s    0:00:00 (xfer#120, to-check=276/433)
www/assets/img/icons/chat.png
       5.54K 100%   19.11kB/s    0:00:00 (xfer#121, to-check=275/433)
www/assets/img/icons/comment.png
       5.24K 100%   18.06kB/s    0:00:00 (xfer#122, to-check=274/433)
www/assets/img/icons/contacts.png
       5.90K 100%   20.35kB/s    0:00:00 (xfer#123, to-check=273/433)
www/assets/img/icons/contacts2.png
       5.77K 100%   19.84kB/s    0:00:00 (xfer#124, to-check=272/433)
www/assets/img/icons/delete.png
       5.49K 100%   18.88kB/s    0:00:00 (xfer#125, to-check=271/433)
www/assets/img/icons/edit.png
       5.08K 100%   17.42kB/s    0:00:00 (xfer#126, to-check=270/433)
www/assets/img/icons/edit2.png
       4.36K 100%   14.95kB/s    0:00:00 (xfer#127, to-check=269/433)
www/assets/img/icons/email.png
       4.56K 100%   15.62kB/s    0:00:00 (xfer#128, to-check=268/433)
www/assets/img/icons/favorite.png
       5.04K 100%   17.19kB/s    0:00:00 (xfer#129, to-check=267/433)
www/assets/img/icons/picture.png
       4.29K 100%   14.65kB/s    0:00:00 (xfer#130, to-check=266/433)
www/assets/img/icons/preferences.png
       6.26K 100%   21.36kB/s    0:00:00 (xfer#131, to-check=265/433)
www/assets/img/icons/rss.png
       4.91K 100%   16.69kB/s    0:00:00 (xfer#132, to-check=264/433)
www/assets/img/icons/save.png
       3.69K 100%   12.56kB/s    0:00:00 (xfer#133, to-check=263/433)
www/assets/img/icons/search.png
       5.12K 100%   17.44kB/s    0:00:00 (xfer#134, to-check=262/433)
www/assets/img/icons/user.png
       4.05K 100%   13.74kB/s    0:00:00 (xfer#135, to-check=261/433)
www/assets/img/icons/validate.png
       4.41K 100%   14.95kB/s    0:00:00 (xfer#136, to-check=260/433)
www/assets/img/icons/video.png
       4.27K 100%   14.47kB/s    0:00:00 (xfer#137, to-check=259/433)
www/assets/img/icons/pack1/
www/assets/img/icons/pack1/calendar.png
       4.18K 100%   14.11kB/s    0:00:00 (xfer#138, to-check=257/433)
www/assets/img/icons/pack1/comment.png
       4.12K 100%   13.94kB/s    0:00:00 (xfer#139, to-check=256/433)
www/assets/img/icons/pack1/comment2.png
       4.16K 100%   14.05kB/s    0:00:00 (xfer#140, to-check=255/433)
www/assets/img/icons/pack1/delete.png
       4.48K 100%   15.08kB/s    0:00:00 (xfer#141, to-check=254/433)
www/assets/img/icons/pack1/edit.png
       4.36K 100%   14.70kB/s    0:00:00 (xfer#142, to-check=253/433)
www/assets/img/icons/pack1/info.png
       4.44K 100%   14.90kB/s    0:00:00 (xfer#143, to-check=252/433)
www/assets/img/icons/pack1/picture.png
       4.53K 100%   15.20kB/s    0:00:00 (xfer#144, to-check=251/433)
www/assets/img/icons/pack1/save.png
       3.77K 100%   12.64kB/s    0:00:00 (xfer#145, to-check=250/433)
www/assets/img/icons/pack1/search.png
       4.66K 100%   15.58kB/s    0:00:00 (xfer#146, to-check=249/433)
www/assets/img/icons/pack1/validate.png
       4.14K 100%   13.84kB/s    0:00:00 (xfer#147, to-check=248/433)
www/assets/img/icons/pack1/video.png
       3.87K 100%   12.93kB/s    0:00:00 (xfer#148, to-check=247/433)
www/assets/js/
www/assets/js/bootstrap.js
      58.52K 100%  194.37kB/s    0:00:00 (xfer#149, to-check=246/433)
www/assets/js/bootstrap.min.js
      31.60K 100%  104.59kB/s    0:00:00 (xfer#150, to-check=245/433)
www/assets/js/jquery-1.8.0.min.js
      92.56K 100%  303.31kB/s    0:00:00 (xfer#151, to-check=244/433)
www/assets/js/fileupload/
www/assets/js/fileupload/canvas-to-blob.js
         859 100%    2.81kB/s    0:00:00 (xfer#152, to-check=242/433)
www/assets/js/fileupload/jquery-ui.min.js
     200.10K 100%  647.07kB/s    0:00:00 (xfer#153, to-check=241/433)
www/assets/js/fileupload/jquery.fileupload-fp.js
       8.40K 100%   27.17kB/s    0:00:00 (xfer#154, to-check=240/433)
www/assets/js/fileupload/jquery.fileupload-ui.js
      27.99K 100%   89.62kB/s    0:00:00 (xfer#155, to-check=239/433)
www/assets/js/fileupload/jquery.fileupload.js
      42.37K 100%  134.78kB/s    0:00:00 (xfer#156, to-check=238/433)
www/assets/js/fileupload/jquery.iframe-transport.js
       8.09K 100%   25.73kB/s    0:00:00 (xfer#157, to-check=237/433)
www/assets/js/fileupload/load-image.js
       1.28K 100%    4.06kB/s    0:00:00 (xfer#158, to-check=236/433)
www/assets/js/fileupload/locale.js
         781 100%    2.48kB/s    0:00:00 (xfer#159, to-check=235/433)
www/assets/js/fileupload/main.js
       1.89K 100%    5.99kB/s    0:00:00 (xfer#160, to-check=234/433)
www/assets/js/fileupload/tmpl.js
         971 100%    3.08kB/s    0:00:00 (xfer#161, to-check=233/433)
www/assets/js/fileupload/tmpl.min.js
         971 100%    3.08kB/s    0:00:00 (xfer#162, to-check=232/433)
www/assets/js/fileupload/cors/
www/assets/js/fileupload/cors/jquery.postmessage-transport.js
       4.00K 100%   12.64kB/s    0:00:00 (xfer#163, to-check=229/433)
www/assets/js/fileupload/cors/jquery.xdr-transport.js
       3.21K 100%   10.16kB/s    0:00:00 (xfer#164, to-check=228/433)
www/assets/js/fileupload/cors/result.html
         504 100%    1.59kB/s    0:00:00 (xfer#165, to-check=227/433)
www/assets/js/fileupload/vendor/
www/assets/js/fileupload/vendor/jquery.ui.widget.js
       7.28K 100%   23.01kB/s    0:00:00 (xfer#166, to-check=226/433)
www/profiles/
www/profiles/default_profile.png
       2.15K 100%    6.79kB/s    0:00:00 (xfer#167, to-check=225/433)
www/profiles/profile_1.jpg
       4.00K 100%   12.59kB/s    0:00:00 (xfer#168, to-check=224/433)
www/sparks/
www/sparks/curl/
www/sparks/curl/1.2.1/
www/sparks/curl/1.2.1/README.md
       2.40K 100%    7.55kB/s    0:00:00 (xfer#169, to-check=220/433)
www/sparks/curl/1.2.1/spark.info
          58 100%    0.18kB/s    0:00:00 (xfer#170, to-check=219/433)
www/sparks/curl/1.2.1/config/
www/sparks/curl/1.2.1/config/autoload.php
          99 100%    0.31kB/s    0:00:00 (xfer#171, to-check=216/433)
www/sparks/curl/1.2.1/libraries/
www/sparks/curl/1.2.1/libraries/Curl.php
       9.68K 100%   30.51kB/s    0:00:00 (xfer#172, to-check=215/433)
www/sparks/restclient/
www/sparks/restclient/2.1.0/
www/sparks/restclient/2.1.0/README.md
         862 100%    2.72kB/s    0:00:00 (xfer#173, to-check=213/433)
www/sparks/restclient/2.1.0/spark.info
          79 100%    0.25kB/s    0:00:00 (xfer#174, to-check=212/433)
www/sparks/restclient/2.1.0/config/
www/sparks/restclient/2.1.0/config/autoload.php
          95 100%    0.30kB/s    0:00:00 (xfer#175, to-check=209/433)
www/sparks/restclient/2.1.0/libraries/
www/sparks/restclient/2.1.0/libraries/Rest.php
       8.22K 100%   25.82kB/s    0:00:00 (xfer#176, to-check=208/433)
www/sparks/restclient/2.1.0/libraries/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#177, to-check=207/433)
www/system/
www/system/.htaccess
          13 100%    0.04kB/s    0:00:00 (xfer#178, to-check=206/433)
www/system/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#179, to-check=205/433)
www/system/core/
www/system/core/Benchmark.php
       2.95K 100%    9.23kB/s    0:00:00 (xfer#180, to-check=198/433)
www/system/core/CodeIgniter.php
      11.39K 100%   35.54kB/s    0:00:00 (xfer#181, to-check=197/433)
www/system/core/Common.php
      13.42K 100%   41.86kB/s    0:00:00 (xfer#182, to-check=196/433)
www/system/core/Config.php
       8.16K 100%   25.47kB/s    0:00:00 (xfer#183, to-check=195/433)
www/system/core/Controller.php
       1.57K 100%    4.87kB/s    0:00:00 (xfer#184, to-check=194/433)
www/system/core/Exceptions.php
       4.70K 100%   14.60kB/s    0:00:00 (xfer#185, to-check=193/433)
www/system/core/Hooks.php
       4.70K 100%   14.61kB/s    0:00:00 (xfer#186, to-check=192/433)
www/system/core/Input.php
      18.43K 100%   57.13kB/s    0:00:00 (xfer#187, to-check=191/433)
www/system/core/Lang.php
       3.63K 100%   11.26kB/s    0:00:00 (xfer#188, to-check=190/433)
www/system/core/Loader.php
      30.58K 100%   94.49kB/s    0:00:00 (xfer#189, to-check=189/433)
www/system/core/Model.php
       1.19K 100%    3.68kB/s    0:00:00 (xfer#190, to-check=188/433)
www/system/core/Output.php
      12.94K 100%   39.85kB/s    0:00:00 (xfer#191, to-check=187/433)
www/system/core/Router.php
      12.39K 100%   38.18kB/s    0:00:00 (xfer#192, to-check=186/433)
www/system/core/Security.php
      21.92K 100%   67.32kB/s    0:00:00 (xfer#193, to-check=185/433)
www/system/core/URI.php
      14.44K 100%   44.35kB/s    0:00:00 (xfer#194, to-check=184/433)
www/system/core/Utf8.php
       3.58K 100%   10.97kB/s    0:00:00 (xfer#195, to-check=183/433)
www/system/core/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#196, to-check=182/433)
www/system/database/
www/system/database/DB.php
       4.19K 100%   12.83kB/s    0:00:00 (xfer#197, to-check=181/433)
www/system/database/DB_active_rec.php
      42.98K 100%  130.75kB/s    0:00:00 (xfer#198, to-check=180/433)
www/system/database/DB_cache.php
       4.38K 100%   13.32kB/s    0:00:00 (xfer#199, to-check=179/433)
www/system/database/DB_driver.php
      32.65K 100%   99.02kB/s    0:00:00 (xfer#200, to-check=178/433)
www/system/database/DB_forge.php
       7.45K 100%   22.52kB/s    0:00:00 (xfer#201, to-check=177/433)
www/system/database/DB_result.php
       9.02K 100%   27.26kB/s    0:00:00 (xfer#202, to-check=176/433)
www/system/database/DB_utility.php
       9.80K 100%   29.55kB/s    0:00:00 (xfer#203, to-check=175/433)
www/system/database/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#204, to-check=174/433)
www/system/database/drivers/
www/system/database/drivers/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#205, to-check=172/433)
www/system/database/drivers/cubrid/
www/system/database/drivers/cubrid/cubrid_driver.php
      17.89K 100%   53.76kB/s    0:00:00 (xfer#206, to-check=161/433)
www/system/database/drivers/cubrid/cubrid_forge.php
       7.06K 100%   21.21kB/s    0:00:00 (xfer#207, to-check=160/433)
www/system/database/drivers/cubrid/cubrid_result.php
       4.51K 100%   13.50kB/s    0:00:00 (xfer#208, to-check=159/433)
www/system/database/drivers/cubrid/cubrid_utility.php
       2.87K 100%    8.60kB/s    0:00:00 (xfer#209, to-check=158/433)
www/system/database/drivers/cubrid/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#210, to-check=157/433)
www/system/database/drivers/mssql/
www/system/database/drivers/mssql/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#211, to-check=156/433)
www/system/database/drivers/mssql/mssql_driver.php
      14.84K 100%   44.31kB/s    0:00:00 (xfer#212, to-check=155/433)
www/system/database/drivers/mssql/mssql_forge.php
       5.79K 100%   17.30kB/s    0:00:00 (xfer#213, to-check=154/433)
www/system/database/drivers/mssql/mssql_result.php
       3.37K 100%   10.04kB/s    0:00:00 (xfer#214, to-check=153/433)
www/system/database/drivers/mssql/mssql_utility.php
       1.98K 100%    5.89kB/s    0:00:00 (xfer#215, to-check=152/433)
www/system/database/drivers/mysql/
www/system/database/drivers/mysql/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#216, to-check=151/433)
www/system/database/drivers/mysql/mysql_driver.php
      17.37K 100%   51.72kB/s    0:00:00 (xfer#217, to-check=150/433)
www/system/database/drivers/mysql/mysql_forge.php
       6.44K 100%   19.12kB/s    0:00:00 (xfer#218, to-check=149/433)
www/system/database/drivers/mysql/mysql_result.php
       3.62K 100%   10.76kB/s    0:00:00 (xfer#219, to-check=148/433)
www/system/database/drivers/mysql/mysql_utility.php
       4.61K 100%   13.68kB/s    0:00:00 (xfer#220, to-check=147/433)
www/system/database/drivers/mysqli/
www/system/database/drivers/mysqli/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#221, to-check=146/433)
www/system/database/drivers/mysqli/mysqli_driver.php
      17.41K 100%   51.67kB/s    0:00:00 (xfer#222, to-check=145/433)
www/system/database/drivers/mysqli/mysqli_forge.php
       6.10K 100%   18.12kB/s    0:00:00 (xfer#223, to-check=144/433)
www/system/database/drivers/mysqli/mysqli_result.php
       3.64K 100%   10.77kB/s    0:00:00 (xfer#224, to-check=143/433)
www/system/database/drivers/mysqli/mysqli_utility.php
       1.98K 100%    5.77kB/s    0:00:00 (xfer#225, to-check=142/433)
www/system/database/drivers/oci8/
www/system/database/drivers/oci8/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#226, to-check=141/433)
www/system/database/drivers/oci8/oci8_driver.php
      18.55K 100%   53.74kB/s    0:00:00 (xfer#227, to-check=140/433)
www/system/database/drivers/oci8/oci8_forge.php
       5.61K 100%   16.26kB/s    0:00:00 (xfer#228, to-check=139/433)
www/system/database/drivers/oci8/oci8_result.php
       4.49K 100%   12.98kB/s    0:00:00 (xfer#229, to-check=138/433)
www/system/database/drivers/oci8/oci8_utility.php
       1.93K 100%    5.57kB/s    0:00:00 (xfer#230, to-check=137/433)
www/system/database/drivers/odbc/
www/system/database/drivers/odbc/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#231, to-check=136/433)
www/system/database/drivers/odbc/odbc_driver.php
      13.89K 100%   40.02kB/s    0:00:00 (xfer#232, to-check=135/433)
www/system/database/drivers/odbc/odbc_forge.php
       6.12K 100%   17.62kB/s    0:00:00 (xfer#233, to-check=134/433)
www/system/database/drivers/odbc/odbc_result.php
       4.59K 100%   13.23kB/s    0:00:00 (xfer#234, to-check=133/433)
www/system/database/drivers/odbc/odbc_utility.php
       2.26K 100%    6.51kB/s    0:00:00 (xfer#235, to-check=132/433)
www/system/database/drivers/pdo/
www/system/database/drivers/pdo/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#236, to-check=131/433)
www/system/database/drivers/pdo/pdo_driver.php
      17.61K 100%   50.57kB/s    0:00:00 (xfer#237, to-check=130/433)
www/system/database/drivers/pdo/pdo_forge.php
       6.09K 100%   17.51kB/s    0:00:00 (xfer#238, to-check=129/433)
www/system/database/drivers/pdo/pdo_result.php
       3.51K 100%   10.08kB/s    0:00:00 (xfer#239, to-check=128/433)
www/system/database/drivers/pdo/pdo_utility.php
       2.24K 100%    6.41kB/s    0:00:00 (xfer#240, to-check=127/433)
www/system/database/drivers/postgre/
www/system/database/drivers/postgre/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#241, to-check=126/433)
www/system/database/drivers/postgre/postgre_driver.php
      15.51K 100%   44.42kB/s    0:00:00 (xfer#242, to-check=125/433)
www/system/database/drivers/postgre/postgre_forge.php
       7.35K 100%   20.99kB/s    0:00:00 (xfer#243, to-check=124/433)
www/system/database/drivers/postgre/postgre_result.php
       3.44K 100%    9.81kB/s    0:00:00 (xfer#244, to-check=123/433)
www/system/database/drivers/postgre/postgre_utility.php
       1.85K 100%    5.30kB/s    0:00:00 (xfer#245, to-check=122/433)
www/system/database/drivers/sqlite/
www/system/database/drivers/sqlite/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#246, to-check=121/433)
www/system/database/drivers/sqlite/sqlite_driver.php
      14.05K 100%   40.13kB/s    0:00:00 (xfer#247, to-check=120/433)
www/system/database/drivers/sqlite/sqlite_forge.php
       6.30K 100%   17.95kB/s    0:00:00 (xfer#248, to-check=119/433)
www/system/database/drivers/sqlite/sqlite_result.php
       3.55K 100%   10.10kB/s    0:00:00 (xfer#249, to-check=118/433)
www/system/database/drivers/sqlite/sqlite_utility.php
       2.15K 100%    6.12kB/s    0:00:00 (xfer#250, to-check=117/433)
www/system/database/drivers/sqlsrv/
www/system/database/drivers/sqlsrv/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#251, to-check=116/433)
www/system/database/drivers/sqlsrv/sqlsrv_driver.php
      13.54K 100%   38.45kB/s    0:00:00 (xfer#252, to-check=115/433)
www/system/database/drivers/sqlsrv/sqlsrv_forge.php
       5.79K 100%   16.45kB/s    0:00:00 (xfer#253, to-check=114/433)
www/system/database/drivers/sqlsrv/sqlsrv_result.php
       3.42K 100%    9.70kB/s    0:00:00 (xfer#254, to-check=113/433)
www/system/database/drivers/sqlsrv/sqlsrv_utility.php
       1.98K 100%    5.60kB/s    0:00:00 (xfer#255, to-check=112/433)
www/system/fonts/
www/system/fonts/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#256, to-check=111/433)
www/system/fonts/texb.ttf
     143.83K 100%  403.62kB/s    0:00:00 (xfer#257, to-check=110/433)
www/system/helpers/
www/system/helpers/array_helper.php
       2.51K 100%    7.02kB/s    0:00:00 (xfer#258, to-check=109/433)
www/system/helpers/captcha_helper.php
       6.17K 100%   17.26kB/s    0:00:00 (xfer#259, to-check=108/433)
www/system/helpers/cookie_helper.php
       2.59K 100%    7.25kB/s    0:00:00 (xfer#260, to-check=107/433)
www/system/helpers/date_helper.php
      12.97K 100%   36.19kB/s    0:00:00 (xfer#261, to-check=106/433)
www/system/helpers/directory_helper.php
       2.06K 100%    5.75kB/s    0:00:00 (xfer#262, to-check=105/433)
www/system/helpers/download_helper.php
       2.75K 100%    7.64kB/s    0:00:00 (xfer#263, to-check=104/433)
www/system/helpers/email_helper.php
       1.48K 100%    4.13kB/s    0:00:00 (xfer#264, to-check=103/433)
www/system/helpers/file_helper.php
      11.38K 100%   31.58kB/s    0:00:00 (xfer#265, to-check=102/433)
www/system/helpers/form_helper.php
      21.77K 100%   60.23kB/s    0:00:00 (xfer#266, to-check=101/433)
www/system/helpers/html_helper.php
       8.80K 100%   24.33kB/s    0:00:00 (xfer#267, to-check=100/433)
www/system/helpers/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#268, to-check=99/433)
www/system/helpers/inflector_helper.php
       5.37K 100%   14.85kB/s    0:00:00 (xfer#269, to-check=98/433)
www/system/helpers/language_helper.php
       1.41K 100%    3.89kB/s    0:00:00 (xfer#270, to-check=97/433)
www/system/helpers/number_helper.php
       1.86K 100%    5.13kB/s    0:00:00 (xfer#271, to-check=96/433)
www/system/helpers/path_helper.php
       1.78K 100%    4.73kB/s    0:00:00 (xfer#272, to-check=95/433)
www/system/helpers/security_helper.php
       2.67K 100%    7.12kB/s    0:00:00 (xfer#273, to-check=94/433)
www/system/helpers/smiley_helper.php
       6.47K 100%   17.21kB/s    0:00:00 (xfer#274, to-check=93/433)
www/system/helpers/string_helper.php
       6.43K 100%   17.12kB/s    0:00:00 (xfer#275, to-check=92/433)
www/system/helpers/text_helper.php
      13.13K 100%   34.85kB/s    0:00:00 (xfer#276, to-check=91/433)
www/system/helpers/typography_helper.php
       2.24K 100%    5.94kB/s    0:00:00 (xfer#277, to-check=90/433)
www/system/helpers/url_helper.php
      12.36K 100%   32.71kB/s    0:00:00 (xfer#278, to-check=89/433)
www/system/helpers/xml_helper.php
       1.79K 100%    4.73kB/s    0:00:00 (xfer#279, to-check=88/433)
www/system/language/
www/system/language/index.html
         114 100%    0.30kB/s    0:00:00 (xfer#280, to-check=87/433)
www/system/language/english/
www/system/language/english/calendar_lang.php
       1.44K 100%    3.80kB/s    0:00:00 (xfer#281, to-check=84/433)
www/system/language/english/date_lang.php
       3.18K 100%    8.41kB/s    0:00:00 (xfer#282, to-check=83/433)
www/system/language/english/db_lang.php
       2.27K 100%    6.02kB/s    0:00:00 (xfer#283, to-check=82/433)
www/system/language/english/email_lang.php
       1.71K 100%    4.52kB/s    0:00:00 (xfer#284, to-check=81/433)
www/system/language/english/form_validation_lang.php
       1.82K 100%    4.80kB/s    0:00:00 (xfer#285, to-check=80/433)
www/system/language/english/ftp_lang.php
       1.28K 100%    3.39kB/s    0:00:00 (xfer#286, to-check=79/433)
www/system/language/english/imglib_lang.php
       2.01K 100%    5.31kB/s    0:00:00 (xfer#287, to-check=78/433)
www/system/language/english/index.html
         114 100%    0.30kB/s    0:00:00 (xfer#288, to-check=77/433)
www/system/language/english/migration_lang.php
         715 100%    1.89kB/s    0:00:00 (xfer#289, to-check=76/433)
www/system/language/english/number_lang.php
         249 100%    0.66kB/s    0:00:00 (xfer#290, to-check=75/433)
www/system/language/english/profiler_lang.php
       1.12K 100%    2.94kB/s    0:00:00 (xfer#291, to-check=74/433)
www/system/language/english/unit_test_lang.php
         808 100%    2.13kB/s    0:00:00 (xfer#292, to-check=73/433)
www/system/language/english/upload_lang.php
       1.62K 100%    4.26kB/s    0:00:00 (xfer#293, to-check=72/433)
www/system/language/french/
www/system/language/french/calendar_lang.php
       1.44K 100%    3.78kB/s    0:00:00 (xfer#294, to-check=71/433)
www/system/language/french/date_lang.php
       3.18K 100%    8.36kB/s    0:00:00 (xfer#295, to-check=70/433)
www/system/language/french/db_lang.php
       2.27K 100%    5.98kB/s    0:00:00 (xfer#296, to-check=69/433)
www/system/language/french/email_lang.php
       1.71K 100%    4.48kB/s    0:00:00 (xfer#297, to-check=68/433)
www/system/language/french/form_validation_lang.php
       2.00K 100%    5.26kB/s    0:00:00 (xfer#298, to-check=67/433)
www/system/language/french/ftp_lang.php
       1.28K 100%    3.37kB/s    0:00:00 (xfer#299, to-check=66/433)
www/system/language/french/imglib_lang.php
       2.01K 100%    5.28kB/s    0:00:00 (xfer#300, to-check=65/433)
www/system/language/french/index.html
         114 100%    0.30kB/s    0:00:00 (xfer#301, to-check=64/433)
www/system/language/french/migration_lang.php
         715 100%    1.87kB/s    0:00:00 (xfer#302, to-check=63/433)
www/system/language/french/number_lang.php
         249 100%    0.65kB/s    0:00:00 (xfer#303, to-check=62/433)
www/system/language/french/profiler_lang.php
       1.12K 100%    2.92kB/s    0:00:00 (xfer#304, to-check=61/433)
www/system/language/french/unit_test_lang.php
         808 100%    2.12kB/s    0:00:00 (xfer#305, to-check=60/433)
www/system/language/french/upload_lang.php
       1.62K 100%    4.24kB/s    0:00:00 (xfer#306, to-check=59/433)
www/system/libraries/
www/system/libraries/Calendar.php
      12.67K 100%   33.08kB/s    0:00:00 (xfer#307, to-check=58/433)
www/system/libraries/Cart.php
      15.07K 100%   39.35kB/s    0:00:00 (xfer#308, to-check=57/433)
www/system/libraries/Driver.php
       5.42K 100%   14.10kB/s    0:00:00 (xfer#309, to-check=56/433)
www/system/libraries/Email.php
      47.97K 100%  124.58kB/s    0:00:00 (xfer#310, to-check=55/433)
www/system/libraries/Encrypt.php
      11.52K 100%   29.93kB/s    0:00:00 (xfer#311, to-check=54/433)
www/system/libraries/Form_validation.php
      29.59K 100%   76.66kB/s    0:00:00 (xfer#312, to-check=53/433)
www/system/libraries/Ftp.php
      12.57K 100%   32.56kB/s    0:00:00 (xfer#313, to-check=52/433)
www/system/libraries/Image_lib.php
      37.34K 100%   96.47kB/s    0:00:00 (xfer#314, to-check=51/433)
www/system/libraries/Javascript.php
      20.12K 100%   51.97kB/s    0:00:00 (xfer#315, to-check=50/433)
www/system/libraries/Log.php
       2.70K 100%    6.95kB/s    0:00:00 (xfer#316, to-check=49/433)
www/system/libraries/Migration.php
       8.23K 100%   21.20kB/s    0:00:00 (xfer#317, to-check=48/433)
www/system/libraries/Pagination.php
       9.05K 100%   23.33kB/s    0:00:00 (xfer#318, to-check=47/433)
www/system/libraries/Parser.php
       4.43K 100%   11.38kB/s    0:00:00 (xfer#319, to-check=46/433)
www/system/libraries/Profiler.php
      19.28K 100%   49.55kB/s    0:00:00 (xfer#320, to-check=45/433)
www/system/libraries/Session.php
      19.22K 100%   49.38kB/s    0:00:00 (xfer#321, to-check=44/433)
www/system/libraries/Sha1.php
       5.00K 100%   12.80kB/s    0:00:00 (xfer#322, to-check=43/433)
www/system/libraries/Table.php
      11.37K 100%   29.14kB/s    0:00:00 (xfer#323, to-check=42/433)
www/system/libraries/Trackback.php
      11.99K 100%   30.74kB/s    0:00:00 (xfer#324, to-check=41/433)
www/system/libraries/Typography.php
      12.72K 100%   31.61kB/s    0:00:00 (xfer#325, to-check=40/433)
www/system/libraries/Unit_test.php
       8.20K 100%   20.38kB/s    0:00:00 (xfer#326, to-check=39/433)
www/system/libraries/Upload.php
      27.55K 100%   68.28kB/s    0:00:00 (xfer#327, to-check=38/433)
www/system/libraries/User_agent.php
      10.51K 100%   26.04kB/s    0:00:00 (xfer#328, to-check=37/433)
www/system/libraries/Xmlrpc.php
      33.57K 100%   82.99kB/s    0:00:00 (xfer#329, to-check=36/433)
www/system/libraries/Xmlrpcs.php
      15.55K 100%   38.35kB/s    0:00:00 (xfer#330, to-check=35/433)
www/system/libraries/Zip.php
      10.16K 100%   25.07kB/s    0:00:00 (xfer#331, to-check=34/433)
www/system/libraries/index.html
         114 100%    0.28kB/s    0:00:00 (xfer#332, to-check=33/433)
www/system/libraries/Cache/
www/system/libraries/Cache/Cache.php
       4.68K 100%   11.51kB/s    0:00:00 (xfer#333, to-check=30/433)
www/system/libraries/Cache/drivers/
www/system/libraries/Cache/drivers/Cache_apc.php
       3.31K 100%    8.13kB/s    0:00:00 (xfer#334, to-check=28/433)
www/system/libraries/Cache/drivers/Cache_dummy.php
       2.66K 100%    6.53kB/s    0:00:00 (xfer#335, to-check=27/433)
www/system/libraries/Cache/drivers/Cache_file.php
       4.15K 100%   10.18kB/s    0:00:00 (xfer#336, to-check=26/433)
www/system/libraries/Cache/drivers/Cache_memcached.php
       5.03K 100%   12.34kB/s    0:00:00 (xfer#337, to-check=25/433)
www/system/libraries/javascript/
www/system/libraries/javascript/Jquery.php
      24.19K 100%   59.21kB/s    0:00:00 (xfer#338, to-check=24/433)
www/tools/
www/tools/README.md
       1.04K 100%    2.55kB/s    0:00:00 (xfer#339, to-check=23/433)
www/tools/spark
         746 100%    1.83kB/s    0:00:00 (xfer#340, to-check=22/433)
www/tools/lib/
www/tools/lib/spark/
www/tools/lib/spark/sources
          68 100%    0.17kB/s    0:00:00 (xfer#341, to-check=18/433)
www/tools/lib/spark/spark_cli.php
       8.74K 100%   21.34kB/s    0:00:00 (xfer#342, to-check=17/433)
www/tools/lib/spark/spark_exception.php
          52 100%    0.13kB/s    0:00:00 (xfer#343, to-check=16/433)
www/tools/lib/spark/spark_source.php
       3.47K 100%    8.47kB/s    0:00:00 (xfer#344, to-check=15/433)
www/tools/lib/spark/spark_type.php
       4.82K 100%   11.73kB/s    0:00:00 (xfer#345, to-check=14/433)
www/tools/lib/spark/spark_utils.php
       2.66K 100%    6.49kB/s    0:00:00 (xfer#346, to-check=13/433)
www/tools/lib/spark/spark_types/
www/tools/lib/spark/spark_types/git_spark.php
       1.27K 100%    3.09kB/s    0:00:00 (xfer#347, to-check=11/433)
www/tools/lib/spark/spark_types/hg_spark.php
       1.04K 100%    2.53kB/s    0:00:00 (xfer#348, to-check=10/433)
www/tools/lib/spark/spark_types/zip_spark.php
       1.27K 100%    3.10kB/s    0:00:00 (xfer#349, to-check=9/433)
www/tools/test/
www/tools/test/install_test.php
       1.87K 100%    4.54kB/s    0:00:00 (xfer#350, to-check=8/433)
www/tools/test/phpunit.xml
         250 100%    0.61kB/s    0:00:00 (xfer#351, to-check=7/433)
www/tools/test/remove_test.php
       2.43K 100%    5.90kB/s    0:00:00 (xfer#352, to-check=6/433)
www/tools/test/search_test.php
         381 100%    0.92kB/s    0:00:00 (xfer#353, to-check=5/433)
www/tools/test/version_test.php
       1.04K 100%    2.52kB/s    0:00:00 (xfer#354, to-check=4/433)
www/tools/test/lib/
www/tools/test/lib/bootstrap.php
         887 100%    2.15kB/s    0:00:00 (xfer#355, to-check=2/433)
www/tools/test/lib/test-sparks/
www/tools/test/lib/test-sparks/.gitkeep
           0 100%    0.00kB/s    0:00:00 (xfer#356, to-check=0/433)

sent 11.96M bytes  received 7.08K bytes  23.94M bytes/sec
total size is 11.94M  speedup is 1.00
Ubuntu's Softwares Setup Menu [Packages and Scripts]
---------------------------- copyright David Fischer

FileXYZ.lu-dep + logicielsUbuntuUtils -> FileXYZ

generating /home/david/David/git/OSCIED/charms/deploy/raring/oscied-webui/hooks_lib/common.sh from common.sh.lu-dep
press any key to continue ...


























































 OSCIED Operations with JuJu
 















                                                                   
                                                                    Please select an operation                                         
                                                                       
                                                                       overwrite        Overwrite charms in deployment path          
                                                                       deploy           Launch a deployment scenario                 
                                                                       destroy          Destroy a deployed environment               
                                                                       standalone       Play with a charm locally (yes, really)      
                                                                       status           Display juju status                          
                                                                       status_svg       Display juju status as a SVG graphic         
                                                                       log              Launch juju debug log in a screen            
                                                                       config           Update units public url listing file         
                                                                       unit_ssh         Access to units with secure shell            
                                                                       unit_add         Add a new unit to a running service          
                                                                       unit_remove      Remove an unit from a running service        
                                                                       service_destroy  Destroy a running service                    
                                                                       
                                                                                                                                       
                                                                                                                                       
                                                                     
                                                                                    <Accepter>         <Annuler >                      
                                                                     
                                                                     
















Execute operation deploy
Initialize JuJu orchestrator configuration
Identity added: /home/david/.ssh/id_rsa (/home/david/.ssh/id_rsa)
Using user defined environment : /home/david/David/git/OSCIED/config/juju/environments.yaml
[sudo] password for david: 
Le pare-feu est arrt et dsactiv lors du dmarrage du systme

























































 OSCIED Operations with JuJu > Deployment Scenarios
 



















                                                             
                                                              Please select a deployment scenario                                            
                                                                 
                                                                 osciedAmazon  Launch_oscied_(minimal_setup)_on_Amazon                     
                                                                 osciedDemo    Launch_oscied_demo_setup_(MaaS_Cluster,_Local,_Amazon)      
                                                                 osciedLocal   Launch_oscied_(minimal_setup)_locally_(LXC_provider)        
                                                                 
                                                                                                                                             
                                                                                                                                             
                                                               
                                                                                    <Accepter>            <Annuler >                         
                                                               
                                                               





















1/5 Cleanup and bootstrap JuJu environment
2013-05-30 11:05:14,790 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:14,790 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:14,790 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:14,790 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
WARNING: this command will destroy the 'amazon' environment (type: ec2).
This includes all machines, services, data, and other resources. Continue [y/N] 
2013-05-30 11:05:15,464 INFO Environment destruction aborted
2013-05-30 11:05:15,464 INFO 'destroy_environment' command finished successfully
2013-05-30 11:05:15,662 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:15,662 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:15,662 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:15,662 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:15,662 INFO Bootstrapping environment 'amazon' (origin: ppa type: ec2)...
2013-05-30 11:05:16,583 INFO juju environment previously bootstrapped.
2013-05-30 11:05:16,583 INFO 'bootstrap' command finished successfully
2/5 Deploy services on Amazon
Deploy Orchestra (1 instance)
deploy it now [Y/n] ?

Using user define Orchestra configuration : /home/david/David/git/OSCIED/config/juju/osciedAmazon.yaml
2013-05-30 11:05:19,459 INFO Searching for charm local:raring/oscied-orchestra in local charm repository: /home/david/David/git/OSCIED/charms/deploy
2013-05-30 11:05:19,479 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:19,479 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:19,479 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:19,479 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:19,479 INFO Connecting to environment...
2013-05-30 11:05:22,502 INFO Connected to environment.
2013-05-30 11:05:22,602 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:22,602 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:22,602 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:22,602 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:24,997 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:24,997 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:24,997 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:24,997 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:25,195 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:25,196 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:25,196 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:25,196 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:25,795 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:25,795 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:25,795 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:25,795 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:26,092 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:26,092 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:26,092 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:26,092 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:26,293 INFO Charm deployed as service: 'oscied-orchestra'
2013-05-30 11:05:26,294 INFO 'deploy' command finished successfully
2013-05-30 11:05:26,500 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:26,500 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:26,500 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:26,500 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:26,500 INFO Connecting to environment...
2013-05-30 11:05:29,543 INFO Connected to environment.
2013-05-30 11:05:29,843 INFO Service 'oscied-orchestra' was exposed.
2013-05-30 11:05:29,844 INFO 'expose' command finished successfully
Deploy Web UI (1 instance)
deploy it now [Y/n] ?
^Z
[1]+  Stopp                 sh juju-menu.sh
david@GaViD:~/David/git/OSCIED/scripts$ juju debug-log
2013-05-30 11:05:44,680 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:05:44,680 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:05:44,680 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:05:44,680 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:05:44,681 INFO Connecting to environment...
2013-05-30 11:05:48,300 INFO Connected to environment.
2013-05-30 11:05:48,300 INFO Enabling distributed debug log.
2013-05-30 11:05:48,399 INFO Tailing logs - Ctrl-C to stop.
2013-05-30 10:32:57,202 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 10:32:57,255 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 10:32:57,317 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 11:03:27,800 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:api role:server id:relation-0000000007 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:api role:server id:relation-0000000007 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 11:03:27,800 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:03:27,794 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 11:03:27,794 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:03:27,872 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:27,872 unit:oscied-storage/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:27,872 unit:oscied-storage/0: hook.scheduler INFO: stopped
2013-05-30 11:03:27,872 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:03:27,895 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:27,895 unit:oscied-orchestra/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:27,895 unit:oscied-orchestra/0: hook.scheduler INFO: stopped
2013-05-30 11:03:27,896 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:03:27,896 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:03:27,913 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:03:27,913 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:03:27,913 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:03:27,914 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:03:27,894 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:03:27,910 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:03:27,910 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:03:27,910 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:03:27,911 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:03:27,988 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>, <ServiceRelationState name:publisher role:client id:relation-0000000006 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>]
2013-05-30 11:03:27,988 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:03:28,003 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:28,003 unit:oscied-publisher/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:28,003 unit:oscied-publisher/0: hook.scheduler INFO: stopped
2013-05-30 11:03:28,003 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 11:03:28,004 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:03:28,020 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:03:28,020 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:03:28,021 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 11:03:28,021 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:03:28,188 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: ['storage:2']
2013-05-30 11:03:28,195 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-broken
2013-05-30 11:03:28,196 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-broken
2013-05-30 11:03:28,267 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: ['api:7', 'publisher:6', 'transform:5']
2013-05-30 11:03:28,252 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['peer:0', 'storage:1', 'storage:2', 'storage:4']
2013-05-30 11:03:28,276 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:03:28,276 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken
2013-05-30 11:03:28,277 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:03:28,283 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-broken
2013-05-30 11:03:28,278 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:api role:client id:relation-0000000007 scope:global>, <ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 11:03:28,279 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:03:28,302 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:03:28,296 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:28,297 unit:oscied-webui/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:28,297 unit:oscied-webui/0: hook.scheduler INFO: stopped
2013-05-30 11:03:28,297 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 11:03:28,298 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:03:28,313 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:03:28,313 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:03:28,313 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 11:03:28,314 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:03:28,365 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: ['storage:4']
2013-05-30 11:03:28,372 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-broken
2013-05-30 11:03:28,372 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-broken
2013-05-30 11:03:28,428 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>, <ServiceRelationState name:transform role:client id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>]
2013-05-30 11:03:28,429 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:03:28,448 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:28,449 unit:oscied-transform/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:28,449 unit:oscied-transform/0: hook.scheduler INFO: stopped
2013-05-30 11:03:28,449 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 11:03:28,450 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:03:28,535 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:03:28,535 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:03:28,536 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 11:03:28,536 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:03:28,581 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: ['storage:1']
2013-05-30 11:03:28,586 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-broken
2013-05-30 11:03:28,587 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-broken
2013-05-30 11:03:28,946 Machine:1: juju.agents.machine DEBUG: Units changed old:set(['oscied-orchestra/0']) new:set([])
2013-05-30 11:03:28,965 Machine:1: juju.agents.machine DEBUG: Stopping service unit: oscied-orchestra/0 ...
2013-05-30 11:03:28,965 Machine:1: unit.deploy INFO: Stopping service unit oscied-orchestra/0...
2013-05-30 11:03:29,019 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:03:29,050 unit:oscied-orchestra/0: unit.lifecycle DEBUG: pre-stop acquire, running:True
2013-05-30 11:03:29,051 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-broken exited, exit code Traceback (most recent call last):
Failure: juju.errors.CharmInvocationError: Error processing '/var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken': signal 15.
.
2013-05-30 11:03:29,051 unit:oscied-orchestra/0: hook.executor DEBUG: Hook error: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken Error processing '/var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken': signal 15.
2013-05-30 11:03:29,051 unit:oscied-orchestra/0: unit.relation.lifecycle WARNING: Error in storage-relation-broken hook: Error processing '/var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken': signal 15.
2013-05-30 11:03:29,052 unit:oscied-orchestra/0: unit.relation.workflow ERROR: Depart hook error, ignoring: Error processing '/var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken': signal 15.
2013-05-30 11:03:29,067 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {'error_message': "Error processing '/var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-broken': signal 15.", 'change_type': 'depart'}
2013-05-30 11:03:29,069 unit:oscied-orchestra/0: unit.lifecycle DEBUG: stopping relation lifecycles
2013-05-30 11:03:29,069 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:29,070 unit:oscied-orchestra/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:29,070 unit:oscied-orchestra/0: hook.scheduler INFO: stopped
2013-05-30 11:03:29,070 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 11:03:29,070 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:29,071 unit:oscied-orchestra/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:29,071 unit:oscied-orchestra/0: hook.scheduler INFO: stopped
2013-05-30 11:03:29,071 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 11:03:29,072 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:03:29,072 unit:oscied-orchestra/0: hook.scheduler DEBUG: stopping
2013-05-30 11:03:29,072 unit:oscied-orchestra/0: hook.scheduler INFO: stopped
2013-05-30 11:03:29,072 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 11:03:29,073 unit:oscied-orchestra/0: unit.lifecycle DEBUG: stopped unit lifecycle
2013-05-30 11:03:29,073 unit:oscied-orchestra/0: hook.executor DEBUG: stopped
2013-05-30 11:03:29,079 unit:oscied-storage/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:03:29,069 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:03:29,014 unit:oscied-transform/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:03:29,069 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:03:29,177 Machine:1: unit.deploy INFO: Stopped service unit oscied-orchestra/0
2013-05-30 11:03:29,315 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:03:29,436 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:03:29,600 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:03:29,755 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:03:29,877 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x15e0c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:03:30,060 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:03:30,157 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:03:30,368 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1faec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:03:30,480 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-broken
2013-05-30 11:03:30,686 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:03:30,778 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 11:03:30,990 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-broken
2013-05-30 11:03:31,070 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-S', '19616.Publisher', '-X', 'quit']
2013-05-30 11:03:31,295 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:03:31,359 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 11:03:31,610 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:03:31,914 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:03:32,218 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:03:32,263 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-broken exited, exit code 0.
2013-05-30 11:03:32,276 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-broken
2013-05-30 11:03:32,281 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:03:32,730 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:03:33,012 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation broken
2013-05-30 11:03:33,010 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:03:33,305 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:03:33,332 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 11:03:33,362 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-broken exited, exit code 0.
2013-05-30 11:03:33,371 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 11:03:33,382 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-broken
2013-05-30 11:03:33,387 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:03:33,479 unit:oscied-webui/0: hook.output INFO:  ... waiting 
2013-05-30 11:03:34,485 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:03:36,209 unit:oscied-webui/0: hook.output INFO: mysql stop/waiting

2013-05-30 11:03:36,507 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister the Orchestrator
2013-05-30 11:03:36,546 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-broken exited, exit code 0.
2013-05-30 11:03:36,565 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-broken
2013-05-30 11:03:36,576 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:04:44,723 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 11:04:44,713 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>] new:[]
2013-05-30 11:04:44,723 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:04:44,714 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:04:44,818 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:44,818 unit:oscied-storage/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:44,818 unit:oscied-storage/0: hook.scheduler INFO: stopped
2013-05-30 11:04:44,819 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:44,812 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:44,812 unit:oscied-publisher/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:44,813 unit:oscied-publisher/0: hook.scheduler INFO: stopped
2013-05-30 11:04:44,813 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:44,814 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:04:44,833 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:04:44,836 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:04:44,836 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:04:44,837 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:44,837 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:04:44,959 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:04:44,959 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:04:44,959 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:44,960 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:04:44,970 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:04:44,996 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:04:44,997 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:45,092 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['storage:1', 'storage:4']
2013-05-30 11:04:45,098 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:04:45,099 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:45,123 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:04:45,127 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 11:04:45,127 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:04:45,134 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:45,134 unit:oscied-storage/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:45,135 unit:oscied-storage/0: hook.scheduler INFO: stopped
2013-05-30 11:04:45,135 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 11:04:45,141 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:04:45,171 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:04:45,171 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:04:45,171 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 11:04:45,171 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:04:45,209 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['storage:1', 'storage:4']
2013-05-30 11:04:45,214 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook peer-relation-broken
2013-05-30 11:04:45,214 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken
2013-05-30 11:04:45,239 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>] new:[]
2013-05-30 11:04:45,239 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:04:45,266 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:45,266 unit:oscied-transform/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:45,267 unit:oscied-transform/0: hook.scheduler INFO: stopped
2013-05-30 11:04:45,267 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:45,268 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:04:45,286 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:04:45,286 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:04:45,287 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:45,287 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:04:45,300 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:04:45,318 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:04:45,318 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:45,496 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>] new:[]
2013-05-30 11:04:45,498 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:04:45,523 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:45,523 unit:oscied-webui/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:45,524 unit:oscied-webui/0: hook.scheduler INFO: stopped
2013-05-30 11:04:45,524 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:45,525 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition state (up -> departed)
2013-05-30 11:04:45,543 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition depart (up -> departed) {}
2013-05-30 11:04:45,544 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_depart
2013-05-30 11:04:45,544 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:45,544 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: depart relation lifecycle
2013-05-30 11:04:45,556 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:04:45,579 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-broken
2013-05-30 11:04:45,579 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:45,776 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:04:45,909 Machine:3: juju.agents.machine DEBUG: Units changed old:set(['oscied-storage/0']) new:set([])
2013-05-30 11:04:45,910 Machine:3: juju.agents.machine DEBUG: Stopping service unit: oscied-storage/0 ...
2013-05-30 11:04:45,911 Machine:3: unit.deploy INFO: Stopping service unit oscied-storage/0...
2013-05-30 11:04:46,070 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:04:46,103 unit:oscied-storage/0: unit.lifecycle DEBUG: pre-stop acquire, running:True
2013-05-30 11:04:46,106 unit:oscied-storage/0: hook.output DEBUG: hook peer-relation-broken exited, exit code Traceback (most recent call last):
Failure: juju.errors.CharmInvocationError: Error processing '/var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken': signal 15.
.
2013-05-30 11:04:46,107 unit:oscied-storage/0: hook.executor DEBUG: Hook error: /var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken Error processing '/var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken': signal 15.
2013-05-30 11:04:46,107 unit:oscied-storage/0: unit.relation.lifecycle WARNING: Error in peer-relation-broken hook: Error processing '/var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken': signal 15.
2013-05-30 11:04:46,107 unit:oscied-storage/0: unit.relation.workflow ERROR: Depart hook error, ignoring: Error processing '/var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken': signal 15.
2013-05-30 11:04:46,136 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {'error_message': "Error processing '/var/lib/juju/units/oscied-storage-0/charm/hooks/peer-relation-broken': signal 15.", 'change_type': 'depart'}
2013-05-30 11:04:46,137 unit:oscied-storage/0: unit.lifecycle DEBUG: stopping relation lifecycles
2013-05-30 11:04:46,138 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:46,138 unit:oscied-storage/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:46,139 unit:oscied-storage/0: hook.scheduler INFO: stopped
2013-05-30 11:04:46,139 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:46,139 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher stop
2013-05-30 11:04:46,139 unit:oscied-storage/0: hook.scheduler DEBUG: stopping
2013-05-30 11:04:46,140 unit:oscied-storage/0: hook.scheduler INFO: stopped
2013-05-30 11:04:46,140 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:04:46,140 unit:oscied-storage/0: unit.lifecycle DEBUG: stopped unit lifecycle
2013-05-30 11:04:46,140 unit:oscied-storage/0: hook.executor DEBUG: stopped
2013-05-30 11:04:46,242 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:04:46,191 unit:oscied-transform/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:04:46,243 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 11:04:46,196 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:04:46,274 Machine:3: unit.deploy INFO: Stopped service unit oscied-storage/0
2013-05-30 11:04:46,353 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:04:46,508 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:04:46,638 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x27edc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:04:46,814 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:04:46,917 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:04:47,124 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2593c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:04:47,192 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-broken
2013-05-30 11:04:47,427 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:04:47,482 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 11:04:47,783 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 11:04:47,734 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-broken
2013-05-30 11:04:48,037 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:04:48,138 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:04:48,348 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-245-189-174.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:04:48,429 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:04:48,487 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-broken exited, exit code 0.
2013-05-30 11:04:48,487 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:48,494 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:04:48,649 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:04:48,694 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-broken exited, exit code 0.
2013-05-30 11:04:48,695 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:48,702 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:04:50,136 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation broken
2013-05-30 11:04:50,458 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 11:04:50,505 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 11:04:50,592 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:04:50,908 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister shared storage
2013-05-30 11:04:51,255 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Unmount shared storage (is actually mounted)
2013-05-30 11:04:51,310 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-broken exited, exit code 0.
2013-05-30 11:04:51,310 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-broken
2013-05-30 11:04:51,317 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete depart (state departed) {}
2013-05-30 11:04:54,941 Machine:4: juju.agents.machine DEBUG: Units changed old:set(['oscied-transform/0']) new:set([])
2013-05-30 11:04:54,941 Machine:4: juju.agents.machine DEBUG: Stopping service unit: oscied-transform/0 ...
2013-05-30 11:04:54,942 Machine:4: unit.deploy INFO: Stopping service unit oscied-transform/0...
2013-05-30 11:04:54,989 unit:oscied-transform/0: unit.lifecycle DEBUG: pre-stop acquire, running:True
2013-05-30 11:04:54,989 unit:oscied-transform/0: unit.lifecycle DEBUG: stopping relation lifecycles
2013-05-30 11:04:54,989 unit:oscied-transform/0: unit.lifecycle DEBUG: stopped unit lifecycle
2013-05-30 11:04:54,990 unit:oscied-transform/0: hook.executor DEBUG: stopped
2013-05-30 11:04:55,076 Machine:4: unit.deploy INFO: Stopped service unit oscied-transform/0
2013-05-30 11:05:15,858 Machine:5: juju.agents.machine DEBUG: Units changed old:set(['oscied-publisher/0']) new:set([])
2013-05-30 11:05:15,867 Machine:5: juju.agents.machine DEBUG: Stopping service unit: oscied-publisher/0 ...
2013-05-30 11:05:15,868 Machine:5: unit.deploy INFO: Stopping service unit oscied-publisher/0...
2013-05-30 11:05:16,017 unit:oscied-publisher/0: unit.lifecycle DEBUG: pre-stop acquire, running:True
2013-05-30 11:05:16,018 unit:oscied-publisher/0: unit.lifecycle DEBUG: stopping relation lifecycles
2013-05-30 11:05:16,018 unit:oscied-publisher/0: unit.lifecycle DEBUG: stopped unit lifecycle
2013-05-30 11:05:16,018 unit:oscied-publisher/0: hook.executor DEBUG: stopped
2013-05-30 11:05:16,137 Machine:5: unit.deploy INFO: Stopped service unit oscied-publisher/0
2013-05-30 11:05:26,183 Machine:1: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-orchestra/1'])
2013-05-30 11:05:26,183 Machine:1: juju.agents.machine DEBUG: Starting service unit: oscied-orchestra/1 ...
2013-05-30 11:05:26,211 Machine:1: unit.deploy DEBUG: Downloading charm local:raring/oscied-orchestra-7 to /var/lib/juju/charms
2013-05-30 11:05:26,304 Machine:1: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x349a850> for oscied-orchestra/1 in /var/lib/juju
2013-05-30 11:05:26,305 Machine:1: unit.deploy DEBUG: Starting service unit oscied-orchestra/1...
2013-05-30 11:05:26,965 Machine:1: unit.deploy INFO: Started service unit oscied-orchestra/1
2013-05-30 11:05:28,018 unit:oscied-orchestra/1: hook.executor DEBUG: started
2013-05-30 11:05:28,029 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:05:28,029 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:05:28,049 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:05:28,063 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/install
2013-05-30 11:05:28,085 unit:oscied-orchestra/1: hook.output INFO: Install OSCIED Library

2013-05-30 11:05:50,627 unit:oscied-orchestra/1: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Requirement already up-to-date: celery in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: flask in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: hashlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: ipaddr in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: mock in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: passlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: pymongo in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: requests in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: six in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: billiard>=2.7.3.28,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: python-dateutil>=1.5 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: kombu>=2.5.10,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: Werkzeug>=0.7 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: Jinja2>=2.4 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: anyjson>=0.3.3 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: amqp>=1.0.11,<1.1.0 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: markupsafe in /usr/local/lib/python2.7/dist-packages (from Jinja2>=2.4->flask)
Cleaning up...

2013-05-30 11:05:51,416 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:05:51,704 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:05:51,983 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:05:52,266 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1c85750>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1c74b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:05:52,542 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:05:52,814 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook install
2013-05-30 11:05:53,084 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:05:53,359 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:05:53,646 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 11:05:56,478 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 11:05:56,830 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:05:57,113 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Unmount shared storage (is mounted) !
2013-05-30 11:05:57,393 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['umount', '/mnt/storage']
2013-05-30 11:05:57,722 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 11:06:07,178 Machine:3: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-storage/1'])
2013-05-30 11:06:07,178 Machine:3: juju.agents.machine DEBUG: Starting service unit: oscied-storage/1 ...
2013-05-30 11:06:07,189 Machine:3: unit.deploy DEBUG: Downloading charm local:raring/oscied-storage-14 to /var/lib/juju/charms
2013-05-30 11:06:07,367 Machine:3: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x22bf350> for oscied-storage/1 in /var/lib/juju
2013-05-30 11:06:07,368 Machine:3: unit.deploy DEBUG: Starting service unit oscied-storage/1...
2013-05-30 11:06:08,092 Machine:3: unit.deploy INFO: Started service unit oscied-storage/1
2013-05-30 11:06:08,720 unit:oscied-storage/1: hook.executor DEBUG: started
2013-05-30 11:06:08,737 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:06:08,737 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:06:08,749 unit:oscied-storage/1: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:8
2013-05-30 11:06:08,749 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:06:08,768 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/install
2013-05-30 11:06:08,796 unit:oscied-storage/1: hook.output INFO: Install OSCIED Library

2013-05-30 11:06:10,522 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:06:22,560 Machine:4: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-transform/1'])
2013-05-30 11:06:22,560 Machine:4: juju.agents.machine DEBUG: Starting service unit: oscied-transform/1 ...
2013-05-30 11:06:22,585 Machine:4: unit.deploy DEBUG: Downloading charm local:raring/oscied-transform-7 to /var/lib/juju/charms
2013-05-30 11:06:25,455 Machine:4: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x333b6d0> for oscied-transform/1 in /var/lib/juju
2013-05-30 11:06:25,456 Machine:4: unit.deploy DEBUG: Starting service unit oscied-transform/1...
2013-05-30 11:06:26,191 Machine:4: unit.deploy INFO: Started service unit oscied-transform/1
2013-05-30 11:06:28,313 unit:oscied-transform/1: hook.executor DEBUG: started
2013-05-30 11:06:28,327 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:06:28,327 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:06:28,340 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:06:28,347 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/install
2013-05-30 11:06:28,367 unit:oscied-transform/1: hook.output INFO: Install OSCIED Library

2013-05-30 11:06:30,503 unit:oscied-storage/1: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Requirement already up-to-date: celery in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: flask in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: hashlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: ipaddr in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: mock in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: passlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: pymongo in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: requests in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: six in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: billiard>=2.7.3.28,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: python-dateutil>=1.5 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: kombu>=2.5.10,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: Werkzeug>=0.7 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: Jinja2>=2.4 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: anyjson>=0.3.3 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: amqp>=1.0.11,<1.1.0 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: markupsafe in /usr/local/lib/python2.7/dist-packages (from Jinja2>=2.4->flask)
Cleaning up...

2013-05-30 11:06:31,391 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:06:31,665 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:06:31,938 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:06:32,202 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': False, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x132b8d0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x18c2ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:06:32,472 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:06:32,744 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook install
2013-05-30 11:06:33,022 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Uninstall prerequisites, remove files & bricks and load default configuration
2013-05-30 11:06:33,293 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 11:06:33,612 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute service glusterfs-server stop
2013-05-30 11:06:33,961 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-server nfs-common
2013-05-30 11:06:34,399 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:06:34,681 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:06:39,624 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:06:40,245 Machine:5: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-publisher/1'])
2013-05-30 11:06:40,246 Machine:5: juju.agents.machine DEBUG: Starting service unit: oscied-publisher/1 ...
2013-05-30 11:06:40,278 Machine:5: unit.deploy DEBUG: Downloading charm local:raring/oscied-publisher-6 to /var/lib/juju/charms
2013-05-30 11:06:40,437 Machine:5: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x2750550> for oscied-publisher/1 in /var/lib/juju
2013-05-30 11:06:40,438 Machine:5: unit.deploy DEBUG: Starting service unit oscied-publisher/1...
2013-05-30 11:06:41,069 Machine:5: unit.deploy INFO: Started service unit oscied-publisher/1
2013-05-30 11:06:42,130 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:06:42,354 unit:oscied-publisher/1: hook.executor DEBUG: started
2013-05-30 11:06:42,362 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:06:42,362 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:06:42,379 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:06:42,388 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/install
2013-05-30 11:06:42,409 unit:oscied-publisher/1: hook.output INFO: Install OSCIED Library

2013-05-30 11:06:43,680 unit:oscied-transform/1: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Requirement already up-to-date: celery in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: flask in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: hashlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: ipaddr in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: mock in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: passlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: pymongo in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: requests in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: six in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: billiard>=2.7.3.28,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: python-dateutil>=1.5 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: kombu>=2.5.10,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: Werkzeug>=0.7 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: Jinja2>=2.4 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: anyjson>=0.3.3 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: amqp>=1.0.11,<1.1.0 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: markupsafe in /usr/local/lib/python2.7/dist-packages (from Jinja2>=2.4->flask)
Cleaning up...

2013-05-30 11:06:44,004 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:06:44,273 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:06:44,315 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:06:44,514 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:06:44,823 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:06:45,129 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:06:45,434 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x2f1dc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:06:45,736 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:06:46,037 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook install
2013-05-30 11:06:46,338 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:06:46,639 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:06:46,953 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:06:47,277 unit:oscied-transform/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:06:47,589 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:06:47,967 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 11:06:47,893 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 11:06:47,984 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:06:48,558 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y install ntp glusterfs-server nfs-common
2013-05-30 11:06:57,882 unit:oscied-publisher/1: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Requirement already up-to-date: celery in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: flask in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: hashlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: ipaddr in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: mock in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: passlib in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: pymongo in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: requests in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: six in /usr/local/lib/python2.7/dist-packages
Requirement already up-to-date: billiard>=2.7.3.28,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: python-dateutil>=1.5 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: kombu>=2.5.10,<3.0 in /usr/local/lib/python2.7/dist-packages (from celery)
Requirement already up-to-date: Werkzeug>=0.7 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: Jinja2>=2.4 in /usr/local/lib/python2.7/dist-packages (from flask)
Requirement already up-to-date: anyjson>=0.3.3 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: amqp>=1.0.11,<1.1.0 in /usr/local/lib/python2.7/dist-packages (from kombu>=2.5.10,<3.0->celery)
Requirement already up-to-date: markupsafe in /usr/local/lib/python2.7/dist-packages (from Jinja2>=2.4->flask)
Cleaning up...

2013-05-30 11:06:58,666 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:06:58,762 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:06:58,960 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:06:59,188 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:06:59,245 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:06:59,477 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:06:59,524 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x1f0ac08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:06:59,794 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:07:00,108 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook install
2013-05-30 11:07:00,414 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:07:00,709 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 11:07:01,006 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 11:07:01,702 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:07:02,048 unit:oscied-publisher/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:07:02,366 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:07:02,682 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 11:07:04,541 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Create and start a replica=1 volume medias_volume_1 with 1 brick
2013-05-30 11:07:07,467 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume create medias_volume_1  ip-10-245-189-174.ec2.internal:/exp1
2013-05-30 11:07:09,389 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge apache2.2-common
2013-05-30 11:07:10,453 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:07:10,757 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:07:11,482 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume start medias_volume_1 
2013-05-30 11:07:12,264 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:07:14,439 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:07:16,678 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_1 
2013-05-30 11:07:18,076 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 11:07:20,255 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_1\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp1\n'
2013-05-30 11:07:23,090 unit:oscied-storage/1: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_1', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp1'], 'auth_allow': '', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:07:23,395 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:07:25,931 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume rebalance medias_volume_1 status
2013-05-30 11:07:29,583 unit:oscied-storage/1: unit.hook.api INFO: [INFO] nothing to rebalance on volume medias_volume_1

2013-05-30 11:07:32,496 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Expose GlusterFS Server service
2013-05-30 11:07:35,420 unit:oscied-storage/1: unit.hook.api DEBUG: opened 111/tcp
2013-05-30 11:07:38,571 unit:oscied-storage/1: unit.hook.api DEBUG: opened 24007/tcp
2013-05-30 11:07:42,059 unit:oscied-storage/1: unit.hook.api DEBUG: opened 24009/tcp
2013-05-30 11:07:45,247 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x132b8d0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:07:46,731 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:07:47,048 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:07:48,651 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:07:48,654 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:07:48,931 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:07:49,128 unit:oscied-storage/1: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:07:49,128 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/install
2013-05-30 11:07:49,255 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:07:49,321 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:07:49,322 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:07:49,322 unit:oscied-storage/1: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:07:49,322 unit:oscied-storage/1: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:07:49,430 unit:oscied-storage/1: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:8
2013-05-30 11:07:49,431 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:07:49,439 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/config-changed
2013-05-30 11:07:49,436 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Compile and install GPAC/DashCast
2013-05-30 11:07:50,496 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:07:50,656 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:07:50,959 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:07:51,264 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:07:51,531 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x143d960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x19d6ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:07:51,807 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:07:52,094 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 11:07:52,383 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Set volume medias_volume_1 allowed clients IP list to *
2013-05-30 11:07:52,512 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ./configure
2013-05-30 11:07:52,661 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_1 auth.allow "*"
2013-05-30 11:07:52,828 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:07:54,134 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_1 
2013-05-30 11:07:54,479 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_1\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp1\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:07:54,748 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_1 
2013-05-30 11:07:55,860 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_1\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp1\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:07:57,493 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 11:07:58,791 unit:oscied-storage/1: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_1', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp1'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:08:01,903 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x143d960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:08:02,217 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 11:08:04,922 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:08:05,380 unit:oscied-storage/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:08:05,381 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/config-changed
2013-05-30 11:08:05,578 unit:oscied-storage/1: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:8
2013-05-30 11:08:05,578 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:08:05,592 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/start
2013-05-30 11:08:12,502 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:08:15,422 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:08:18,135 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:08:20,905 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x194b550>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x1ec9ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:08:21,263 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:08:21,529 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook start
2013-05-30 11:08:21,790 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 11:08:22,065 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x194b550>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:08:22,335 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:08:22,378 unit:oscied-storage/1: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:08:22,378 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/start
2013-05-30 11:08:22,379 unit:oscied-storage/1: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:08:22,379 unit:oscied-storage/1: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:08:22,386 unit:oscied-storage/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:08:22,386 unit:oscied-storage/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:08:22,389 unit:oscied-storage/1: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>]
2013-05-30 11:08:22,389 unit:oscied-storage/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:08:22,418 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 11:08:22,423 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:08:22,423 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:08:22,423 unit:oscied-storage/1: hook.scheduler DEBUG: start
2013-05-30 11:08:22,435 unit:oscied-storage/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:08:22,435 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: started relation:peer lifecycle
2013-05-30 11:08:22,440 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:08:22,441 unit:oscied-storage/1: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:08:22,459 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:08:22,463 unit:oscied-storage/1: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:08:22,468 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:08:22,468 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:08:22,498 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts: ['peer:8']
2013-05-30 11:08:22,507 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/config-changed
2013-05-30 11:08:23,172 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:08:23,458 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:08:23,733 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:08:24,007 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x201e960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x25b7ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:08:24,276 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:08:24,536 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 11:08:24,797 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Set volume medias_volume_1 allowed clients IP list to *
2013-05-30 11:08:25,059 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_1 auth.allow "*"
2013-05-30 11:08:26,523 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_1 
2013-05-30 11:08:26,884 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_1\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp1\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:08:28,556 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_1 
2013-05-30 11:08:32,161 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_1\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-245-189-174.ec2.internal:/exp1\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:08:34,990 unit:oscied-storage/1: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_1', 'bricks': ['ip-10-245-189-174.ec2.internal:/exp1'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:08:37,704 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x201e960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:08:40,513 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:08:40,978 unit:oscied-storage/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:08:41,045 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/config-changed
2013-05-30 11:08:41,045 unit:oscied-storage/1: unit.lifecycle DEBUG: configured unit
2013-05-30 11:08:41,099 unit:oscied-storage/1: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:08:41,103 unit:oscied-storage/1: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:08:42,496 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:08:42,817 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:08:46,668 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Expose RESTful API, MongoDB & RabbitMQ service
2013-05-30 11:08:47,001 unit:oscied-orchestra/1: unit.hook.api DEBUG: opened 5000/tcp
2013-05-30 11:08:47,331 unit:oscied-orchestra/1: unit.hook.api DEBUG: opened 27017/tcp
2013-05-30 11:08:47,720 unit:oscied-orchestra/1: unit.hook.api DEBUG: opened 5672/tcp
2013-05-30 11:08:48,079 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1c85750>
2013-05-30 11:08:48,467 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:08:48,537 unit:oscied-orchestra/1: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:08:48,538 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/install
2013-05-30 11:08:48,566 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:08:48,574 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:08:48,574 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:08:48,575 unit:oscied-orchestra/1: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:08:48,575 unit:oscied-orchestra/1: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:08:48,613 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:08:48,639 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/config-changed
2013-05-30 11:08:50,625 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:08:51,002 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:08:51,406 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:08:51,813 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1883a90>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1892b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:08:52,150 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:08:52,504 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 11:08:52,853 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 11:08:53,205 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 11:08:53,607 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 11:08:54,007 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 11:08:54,403 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': None, 'bind_ip': None, 'noauth': None}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x18838d0>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 11:08:54,711 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:08:55,033 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:08:55,705 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:08:58,727 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:09:05,206 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:09:10,443 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:09:14,359 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:09:14,649 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:09:15,783 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:09:16,995 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Compile and install Apache H.264 streaming module
2013-05-30 11:09:17,297 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute which apxs2
2013-05-30 11:09:17,594 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ./configure --with-apxs=/usr/bin/apxs2

2013-05-30 11:09:21,067 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:09:26,347 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:09:29,302 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 11:09:32,256 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 11:09:35,298 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1883a90>
2013-05-30 11:09:38,150 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:09:38,732 unit:oscied-orchestra/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:09:38,732 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/config-changed
2013-05-30 11:09:38,798 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:09:38,891 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/start
2013-05-30 11:09:46,469 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:09:49,616 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:09:52,202 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 11:09:52,508 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:09:55,685 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2feea90>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x2ffdb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:09:58,757 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:10:02,953 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook start
2013-05-30 11:10:06,288 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Do not start orchestra daemon : No shared storage !
2013-05-30 11:10:09,227 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2feea90>
2013-05-30 11:10:12,353 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:10:12,825 unit:oscied-orchestra/1: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:10:12,825 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/start
2013-05-30 11:10:12,825 unit:oscied-orchestra/1: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:10:12,826 unit:oscied-orchestra/1: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:10:12,903 unit:oscied-orchestra/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:10:12,904 unit:oscied-orchestra/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:10:12,906 unit:oscied-orchestra/1: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:10:12,908 unit:oscied-orchestra/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:10:12,959 unit:oscied-orchestra/1: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:10:13,038 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:10:13,042 unit:oscied-orchestra/1: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:10:13,095 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:10:13,095 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:10:13,183 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:10:13,231 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/config-changed
2013-05-30 11:10:20,935 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:10:24,104 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:10:27,477 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:10:30,268 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1aa4a90>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1ab3b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:10:30,620 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:10:30,930 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 11:10:31,231 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 11:10:31,524 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 11:10:31,864 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 11:10:32,212 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 11:10:32,556 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': None, 'bind_ip': None, 'noauth': None}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x1aa47d0>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 11:10:32,873 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:10:33,163 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:10:33,657 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:10:34,145 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:10:34,675 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:10:35,180 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:10:35,694 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:10:36,178 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:10:36,665 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:10:36,943 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 11:10:37,226 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 11:10:37,517 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1aa4a90>
2013-05-30 11:10:37,800 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:10:37,848 unit:oscied-orchestra/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:10:37,849 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/config-changed
2013-05-30 11:10:37,849 unit:oscied-orchestra/1: unit.lifecycle DEBUG: configured unit
2013-05-30 11:10:37,865 unit:oscied-orchestra/1: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:10:37,868 unit:oscied-orchestra/1: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:10:38,186 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 11:10:42,512 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Register Apache H.264 streaming module
2013-05-30 11:10:42,793 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Expose Apache 2 service
2013-05-30 11:10:43,089 unit:oscied-publisher/1: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 11:10:43,375 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:10:43,667 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:10:43,728 unit:oscied-publisher/1: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:10:43,729 unit:oscied-publisher/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-1/charm/hooks/install
2013-05-30 11:10:43,736 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:10:43,750 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:10:43,750 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:10:43,751 unit:oscied-publisher/1: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:10:43,751 unit:oscied-publisher/1: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:10:43,768 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:10:43,787 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/config-changed
2013-05-30 11:10:44,742 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:10:45,095 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:10:45,416 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:10:45,749 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x31f2c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:10:46,076 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:10:46,394 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 11:10:46,714 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:10:47,010 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:10:47,064 unit:oscied-publisher/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:10:47,064 unit:oscied-publisher/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-1/charm/hooks/config-changed
2013-05-30 11:10:47,081 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:10:47,088 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/start
2013-05-30 11:10:51,828 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:10:54,840 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:10:57,749 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:11:00,666 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 11:11:00,823 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x28d6c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:11:01,482 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:01,797 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:11:01,851 unit:oscied-transform/1: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:11:01,852 unit:oscied-transform/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-1/charm/hooks/install
2013-05-30 11:11:01,885 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:11:01,890 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:11:01,891 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:11:01,891 unit:oscied-transform/1: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:11:01,891 unit:oscied-transform/1: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:11:01,912 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:11:01,919 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/config-changed
2013-05-30 11:11:02,777 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:11:03,093 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:11:03,409 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:11:03,721 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1f20c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:11:04,031 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:11:04,344 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 11:11:04,464 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:11:04,651 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:04,957 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:11:05,004 unit:oscied-transform/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:11:05,004 unit:oscied-transform/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-1/charm/hooks/config-changed
2013-05-30 11:11:05,019 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:11:05,025 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/start
2013-05-30 11:11:05,866 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:11:06,181 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:11:06,527 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:11:06,839 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x19eac08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:11:07,145 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:11:07,281 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook start
2013-05-30 11:11:07,451 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook start
2013-05-30 11:11:07,759 unit:oscied-transform/1: unit.hook.api INFO: [REMARK] Do not start transform daemon : No shared storage !
2013-05-30 11:11:08,066 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:08,373 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:11:08,420 unit:oscied-transform/1: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:11:08,420 unit:oscied-transform/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-1/charm/hooks/start
2013-05-30 11:11:08,421 unit:oscied-transform/1: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:11:08,421 unit:oscied-transform/1: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:11:08,429 unit:oscied-transform/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:11:08,429 unit:oscied-transform/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:11:08,434 unit:oscied-transform/1: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:11:08,435 unit:oscied-transform/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:11:08,443 unit:oscied-transform/1: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:11:08,450 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:11:08,453 unit:oscied-transform/1: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:11:08,462 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:11:08,462 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:11:08,477 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:11:08,483 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/config-changed
2013-05-30 11:11:09,325 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:11:09,640 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:11:09,969 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:11:10,295 unit:oscied-publisher/1: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No shared storage !
2013-05-30 11:11:10,278 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x1385c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:11:10,594 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:11:10,900 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 11:11:11,205 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:11,516 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:11:11,563 unit:oscied-transform/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:11:11,563 unit:oscied-transform/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-1/charm/hooks/config-changed
2013-05-30 11:11:11,563 unit:oscied-transform/1: unit.lifecycle DEBUG: configured unit
2013-05-30 11:11:11,569 unit:oscied-transform/1: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:11:11,575 unit:oscied-transform/1: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:11:13,318 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:15,517 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:11:15,590 unit:oscied-publisher/1: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:11:15,590 unit:oscied-publisher/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-1/charm/hooks/start
2013-05-30 11:11:15,591 unit:oscied-publisher/1: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:11:15,591 unit:oscied-publisher/1: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:11:15,601 unit:oscied-publisher/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:11:15,601 unit:oscied-publisher/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:11:15,604 unit:oscied-publisher/1: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:11:15,607 unit:oscied-publisher/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:11:15,616 unit:oscied-publisher/1: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:11:15,620 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:11:15,625 unit:oscied-publisher/1: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:11:15,633 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:11:15,633 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:11:15,645 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:11:15,652 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/config-changed
2013-05-30 11:11:16,418 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:11:16,710 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:11:17,003 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:11:17,293 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x12abc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:11:17,577 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:11:17,865 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 11:11:18,137 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:11:18,415 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:11:18,468 unit:oscied-publisher/1: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:11:18,468 unit:oscied-publisher/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-1/charm/hooks/config-changed
2013-05-30 11:11:18,468 unit:oscied-publisher/1: unit.lifecycle DEBUG: configured unit
2013-05-30 11:11:18,479 unit:oscied-publisher/1: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:11:18,482 unit:oscied-publisher/1: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:14:23,440 unit:oscied-storage/1: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>]
2013-05-30 11:14:23,424 unit:oscied-transform/1: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000009 scope:global>]
2013-05-30 11:14:23,441 unit:oscied-storage/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:23,425 unit:oscied-transform/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:23,457 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:23,475 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:23,464 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:23,464 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:23,465 unit:oscied-transform/1: hook.scheduler DEBUG: start
2013-05-30 11:14:23,581 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:23,581 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:23,581 unit:oscied-storage/1: hook.scheduler DEBUG: start
2013-05-30 11:14:23,577 unit:oscied-transform/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:23,577 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:23,598 unit:oscied-storage/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:23,598 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:23,586 unit:oscied-transform/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/1']
2013-05-30 11:14:23,587 unit:oscied-transform/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:joined
2013-05-30 11:14:23,588 unit:oscied-transform/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 0),)
2013-05-30 11:14:23,590 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:23,607 unit:oscied-storage/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/1']
2013-05-30 11:14:23,607 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-transform/1:joined
2013-05-30 11:14:23,609 unit:oscied-storage/1: hook.scheduler DEBUG: settings changed: (('oscied-transform/1', 0),)
2013-05-30 11:14:23,610 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:23,610 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts on 'storage:9': []
2013-05-30 11:14:23,616 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:23,616 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:23,641 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:9': ['peer:8']
2013-05-30 11:14:23,653 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:23,654 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:24,330 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:24,457 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:24,616 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:24,774 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:24,890 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:25,081 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:25,171 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x16a5700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x19abed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:14:25,391 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x24fac08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:14:25,441 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:14:25,696 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:14:25,715 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 11:14:25,992 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_1) configuration to remote client
2013-05-30 11:14:26,001 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-joined
2013-05-30 11:14:26,307 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:14:26,620 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:14:26,671 unit:oscied-transform/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:26,675 unit:oscied-transform/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:26,678 unit:oscied-transform/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:14:26,694 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts on 'storage:9': []
2013-05-30 11:14:26,699 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:26,700 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:26,843 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x16a5700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal'}
2013-05-30 11:14:27,128 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:14:27,171 unit:oscied-storage/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:27,164 unit:oscied-transform/1: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000009/settings/unit-0000000006' state: connected handle:0>
2013-05-30 11:14:27,167 unit:oscied-transform/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 1),)
2013-05-30 11:14:27,199 unit:oscied-storage/1: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:9'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_1' (was unset)
2013-05-30 11:14:27,199 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:27,202 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-transform/1:modified
2013-05-30 11:14:27,231 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:9': ['peer:8']
2013-05-30 11:14:27,237 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:27,238 unit:oscied-storage/1: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:27,562 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:27,876 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:28,184 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:28,497 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x194cc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:14:28,812 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:14:29,118 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 11:14:30,654 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:14:30,956 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:14:31,270 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 11:14:31,580 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:14:31,886 unit:oscied-transform/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:14:32,189 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_1 type glusterfs options '' -> /mnt/storage
2013-05-30 11:14:32,494 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:37,920 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:43,353 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:43,625 unit:oscied-publisher/1: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000010 scope:global>]
2013-05-30 11:14:43,626 unit:oscied-publisher/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:43,622 unit:oscied-storage/1: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000010 scope:global>]
2013-05-30 11:14:43,623 unit:oscied-storage/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:43,792 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:43,798 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:43,798 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:43,798 unit:oscied-storage/1: hook.scheduler DEBUG: start
2013-05-30 11:14:43,821 unit:oscied-publisher/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:43,815 unit:oscied-storage/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:43,815 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:43,825 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:43,826 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:43,826 unit:oscied-publisher/1: hook.scheduler DEBUG: start
2013-05-30 11:14:43,824 unit:oscied-storage/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/1']
2013-05-30 11:14:43,825 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-publisher/1:joined
2013-05-30 11:14:43,826 unit:oscied-storage/1: hook.scheduler DEBUG: settings changed: (('oscied-publisher/1', 0),)
2013-05-30 11:14:43,829 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:43,840 unit:oscied-publisher/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:43,840 unit:oscied-publisher/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:43,855 unit:oscied-publisher/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/1']
2013-05-30 11:14:43,856 unit:oscied-publisher/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:joined
2013-05-30 11:14:43,858 unit:oscied-publisher/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 0),)
2013-05-30 11:14:43,860 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:43,882 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts on 'storage:10': []
2013-05-30 11:14:43,893 unit:oscied-publisher/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:43,893 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:43,908 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:10': ['peer:8', 'storage:9']
2013-05-30 11:14:43,913 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:43,913 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:44,586 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:44,650 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:44,862 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:44,929 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:45,130 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:45,209 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:45,407 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2aae700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal'}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x2db4ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:14:45,484 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x1d7ac08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:14:45,678 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:14:45,752 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:14:45,949 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 11:14:46,024 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-joined
2013-05-30 11:14:46,221 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_1) configuration to remote client
2013-05-30 11:14:46,306 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:14:46,597 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:14:46,653 unit:oscied-publisher/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:46,657 unit:oscied-publisher/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:46,660 unit:oscied-publisher/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:14:46,678 unit:oscied-publisher/1: hook.output DEBUG: Cached relation hook contexts on 'storage:10': []
2013-05-30 11:14:46,690 unit:oscied-publisher/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:46,690 unit:oscied-publisher/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:47,043 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2aae700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal'}
2013-05-30 11:14:47,322 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:14:47,367 unit:oscied-storage/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:47,405 unit:oscied-publisher/1: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000010/settings/unit-0000000006' state: connected handle:0>
2013-05-30 11:14:47,408 unit:oscied-publisher/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 1),)
2013-05-30 11:14:47,411 unit:oscied-storage/1: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:10'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_1' (was unset)
2013-05-30 11:14:47,411 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:47,417 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-publisher/1:modified
2013-05-30 11:14:47,509 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:47,537 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:10': ['peer:8', 'storage:9']
2013-05-30 11:14:47,545 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:47,546 unit:oscied-storage/1: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:47,822 unit:oscied-publisher/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:48,113 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:48,394 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-226-134-135.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/1', 'public_address': 'ec2-54-226-134-135.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-202-43-115.ec2.internal', 'juju_log': <function callable_command at 0x1985c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:14:48,677 unit:oscied-publisher/1: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:14:48,784 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:48,967 unit:oscied-publisher/1: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 11:14:49,823 unit:oscied-orchestra/1: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000011 scope:global>]
2013-05-30 11:14:49,824 unit:oscied-orchestra/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:49,819 unit:oscied-storage/1: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000010 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000011 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000010 scope:global>]
2013-05-30 11:14:49,819 unit:oscied-storage/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:49,908 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:49,918 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:49,918 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:49,918 unit:oscied-storage/1: hook.scheduler DEBUG: start
2013-05-30 11:14:49,934 unit:oscied-orchestra/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:49,927 unit:oscied-storage/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:49,927 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:49,943 unit:oscied-orchestra/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:49,943 unit:oscied-orchestra/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:49,943 unit:oscied-orchestra/1: hook.scheduler DEBUG: start
2013-05-30 11:14:49,933 unit:oscied-storage/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/1']
2013-05-30 11:14:49,934 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-orchestra/1:joined
2013-05-30 11:14:49,935 unit:oscied-storage/1: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/1', 0),)
2013-05-30 11:14:49,938 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:49,958 unit:oscied-orchestra/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:49,958 unit:oscied-orchestra/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:50,025 unit:oscied-orchestra/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/1']
2013-05-30 11:14:50,026 unit:oscied-orchestra/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:joined
2013-05-30 11:14:50,029 unit:oscied-orchestra/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 0),)
2013-05-30 11:14:50,038 unit:oscied-orchestra/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:50,064 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts on 'storage:11': []
2013-05-30 11:14:50,080 unit:oscied-orchestra/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:50,081 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:50,092 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:11': ['peer:8', 'storage:10', 'storage:9']
2013-05-30 11:14:50,105 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:50,105 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:50,391 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:14:50,672 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 11:14:50,834 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:50,910 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:50,981 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 11:14:51,131 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:51,214 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:51,410 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:51,489 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:51,684 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1c72700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal'}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x1f78ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:14:51,773 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2d7aad0>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x2d89b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:14:51,964 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:14:52,054 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:14:52,238 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 11:14:52,334 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-joined
2013-05-30 11:14:52,371 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 11:14:52,508 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_1) configuration to remote client
2013-05-30 11:14:52,617 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2d7aad0>
2013-05-30 11:14:52,642 unit:oscied-publisher/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:14:52,893 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:14:52,920 unit:oscied-publisher/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:14:52,947 unit:oscied-orchestra/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:52,952 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:52,956 unit:oscied-orchestra/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:14:53,203 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_1 type glusterfs options '' -> /mnt/storage
2013-05-30 11:14:53,264 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts on 'storage:11': []
2013-05-30 11:14:53,279 unit:oscied-orchestra/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:53,279 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:53,428 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1c72700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal'}
2013-05-30 11:14:53,492 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:53,699 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:14:53,750 unit:oscied-storage/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:53,839 unit:oscied-orchestra/1: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000011/settings/unit-0000000006' state: connected handle:0>
2013-05-30 11:14:53,863 unit:oscied-orchestra/1: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 1),)
2013-05-30 11:14:53,859 unit:oscied-storage/1: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:11'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_1' (was unset)
2013-05-30 11:14:53,859 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:53,863 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-orchestra/1:modified
2013-05-30 11:14:53,989 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:11': ['peer:8', 'storage:10', 'storage:9']
2013-05-30 11:14:54,003 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:54,001 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:54,002 unit:oscied-storage/1: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:54,212 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:54,302 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:54,583 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:54,867 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22b1ad0>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x22c0b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:14:55,158 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:14:55,295 unit:oscied-storage/1: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000011 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000010 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000008 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000009 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000011 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000010 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000012 scope:global>]
2013-05-30 11:14:55,444 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 11:14:55,302 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000012 scope:global>]
2013-05-30 11:14:55,295 unit:oscied-storage/1: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:55,303 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:14:55,565 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:55,574 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:55,574 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:55,574 unit:oscied-storage/1: hook.scheduler DEBUG: start
2013-05-30 11:14:55,585 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:55,591 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:14:55,591 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:14:55,592 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 11:14:55,593 unit:oscied-storage/1: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:55,593 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:55,598 unit:oscied-storage/1: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 11:14:55,598 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 11:14:55,600 unit:oscied-storage/1: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 11:14:55,602 unit:oscied-storage/1: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:55,613 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:14:55,613 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:14:55,621 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/1']
2013-05-30 11:14:55,622 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/1:joined
2013-05-30 11:14:55,623 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 0),)
2013-05-30 11:14:55,625 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:14:55,646 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:12': []
2013-05-30 11:14:55,653 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:55,654 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 11:14:55,737 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:12': ['peer:8', 'storage:10', 'storage:11', 'storage:9']
2013-05-30 11:14:55,745 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 11:14:55,745 unit:oscied-storage/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:56,427 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:14:56,711 unit:oscied-storage/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:14:56,858 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:14:56,989 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:14:57,158 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:14:57,265 unit:oscied-storage/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1d4f700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal'}, 'name': 'oscied-storage/1', 'public_address': 'ec2-72-44-59-195.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-245-189-174.ec2.internal', 'juju_log': <function callable_command at 0x2055ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:14:57,491 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 11:14:57,542 unit:oscied-storage/1: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:14:57,817 unit:oscied-storage/1: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 11:14:58,088 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_1) configuration to remote client
2013-05-30 11:14:58,898 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:14:58,907 unit:oscied-storage/1: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1d4f700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-145-147-230.ec2.internal,ip-10-202-43-115.ec2.internal,ip-10-117-94-6.ec2.internal,ip-10-152-186-158.ec2.internal'}
2013-05-30 11:14:59,185 unit:oscied-storage/1: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:14:59,231 unit:oscied-storage/1: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:14:59,250 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000012/settings/unit-0000000006' state: connected handle:0>
2013-05-30 11:14:59,254 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/1', 1),)
2013-05-30 11:14:59,307 unit:oscied-storage/1: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:12'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_1' (was unset)
2013-05-30 11:14:59,307 unit:oscied-storage/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-joined
2013-05-30 11:14:59,311 unit:oscied-storage/1: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 11:14:59,426 unit:oscied-storage/1: hook.output DEBUG: Cached relation hook contexts on 'storage:12': ['peer:8', 'storage:10', 'storage:11', 'storage:9']
2013-05-30 11:14:59,433 unit:oscied-storage/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:14:59,434 unit:oscied-storage/1: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-1/charm/hooks/storage-relation-changed
2013-05-30 11:14:59,644 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:14:59,671 unit:oscied-transform/1: hook.output INFO: Traceback (most recent call last):
  File "/usr/lib/python2.7/runpy.py", line 162, in _run_module_as_main

2013-05-30 11:14:59,688 unit:oscied-transform/1: hook.output INFO:     "__main__", fname, loader, pkg_name)
  File "/usr/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/var/lib/juju/units/oscied-transform-1/charm/oscied_lib/TransformHooks.py", line 109, in <module>
    DEFAULT_OS_ENV).trigger()
  File "oscied_lib/CharmHooks.py", line 323, in trigger
    getattr(self, 'hook_%s' % hook_name.replace('-', '_'))()
  File "oscied_lib/CharmHooks_Storage.py", line 139, in hook_storage_relation_changed
    self.storage_remount(address, fstype, mountpoint, options)
  File "oscied_lib/CharmHooks_Storage.py", line 105, in storage_remount
    raise IOError('Unable to mount shared storage')
IOError: Unable to mount shared storage

2013-05-30 11:14:59,708 unit:oscied-transform/1: hook.output DEBUG: hook storage-relation-changed exited, exit code Traceback (most recent call last):
Failure: juju.errors.CharmInvocationError: Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
.
2013-05-30 11:14:59,709 unit:oscied-transform/1: hook.executor DEBUG: Hook error: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:14:59,709 unit:oscied-transform/1: unit.relation.lifecycle WARNING: Error in storage-relation-changed hook: Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:14:59,709 unit:oscied-transform/1: unit.relation.lifecycle INFO: Invoked error handler for storage-relation-changed hook
2013-05-30 11:14:59,724 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition error (up -> error) {'error_message': "Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:14:59,725 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate:  execute action do_error
2013-05-30 11:14:59,725 unit:oscied-transform/1: hook.scheduler DEBUG: stopping
2013-05-30 11:14:59,725 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:14:59,739 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition complete error (state error) {'error_message': "Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:14:59,740 unit:oscied-transform/1: hook.scheduler DEBUG: hook error, stopping scheduler execution
2013-05-30 11:14:59,740 unit:oscied-transform/1: hook.scheduler INFO: stopped
2013-05-30 11:15:00,263 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation joined
2013-05-30 11:15:00,291 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 11:15:00,295 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 11:15:00,296 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:15:00,320 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:12': []
2013-05-30 11:15:00,336 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:15:00,336 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 11:15:00,345 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 11:15:00,718 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 11:15:00,999 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:15:01,780 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:15:02,168 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_1 type glusterfs options '' -> /mnt/storage
2013-05-30 11:15:02,509 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:15:05,014 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation changed
2013-05-30 11:15:06,655 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Storage IP is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:15:06,700 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:15:06,980 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 11:15:07,022 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 11:15:07,107 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:15:07,422 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister shared storage
2013-05-30 11:15:07,773 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:15:08,100 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Mount shared storage [ip-10-245-189-174.ec2.internal] ip-10-245-189-174.ec2.internal:medias_volume_1 type glusterfs options '' -> /mnt/storage
2013-05-30 11:15:11,960 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 11:15:12,249 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22b1ad0>
2013-05-30 11:15:12,540 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 11:15:12,994 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 11:15:14,973 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:15:15,275 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:15:15,648 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:15:15,788 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:15:16,338 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:15:16,616 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create medias path in storage
2013-05-30 11:15:16,841 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:15:16,944 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Migrating files from Web UI medias path to medias path in storage ...
2013-05-30 11:15:17,328 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI medias path to medias path in storage
2013-05-30 11:15:17,347 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:15:17,658 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=root:root mod=(d=755,f=644)) of medias path in storage
2013-05-30 11:15:17,882 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:15:18,003 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create uploads path in storage
2013-05-30 11:15:18,331 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Migrating files from Web UI uploads path to uploads path in storage ...
2013-05-30 11:15:18,426 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:15:18,705 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI uploads path to uploads path in storage
2013-05-30 11:15:18,931 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:15:19,029 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=www-data:www-data mod=(d=755,f=644)) of uploads path in storage
2013-05-30 11:15:19,219 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:15:19,374 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register shared storage
2013-05-30 11:15:19,714 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 11:15:20,042 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No Orchestrator API !
2013-05-30 11:15:20,068 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 11:15:20,076 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 11:15:24,595 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 11:15:24,739 unit:oscied-publisher/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:15:25,197 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 11:15:25,492 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22b1ad0>
2013-05-30 11:15:25,781 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:15:25,833 unit:oscied-orchestra/1: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 11:15:25,840 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-changed
2013-05-30 11:15:25,841 unit:oscied-orchestra/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:15:25,881 unit:oscied-orchestra/1: hook.output DEBUG: Cached relation hook contexts on 'storage:11': []
2013-05-30 11:15:25,893 unit:oscied-orchestra/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:15:25,893 unit:oscied-orchestra/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-changed
2013-05-30 11:15:26,632 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:15:26,938 unit:oscied-orchestra/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:15:28,141 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:15:31,391 unit:oscied-publisher/1: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:15:31,393 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1d7cad0>, 'name': 'oscied-orchestra/1', 'public_address': 'ec2-54-235-238-164.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-117-94-6.ec2.internal', 'juju_log': <function callable_command at 0x1d8bb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:15:31,421 unit:oscied-publisher/1: hook.output INFO: Traceback (most recent call last):
  File "/usr/lib/python2.7/runpy.py", line 162, in _run_module_as_main

2013-05-30 11:15:31,431 unit:oscied-publisher/1: hook.output INFO:     "__main__", fname, loader, pkg_name)
  File "/usr/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/var/lib/juju/units/oscied-publisher-1/charm/oscied_lib/PublisherHooks.py", line 126, in <module>
    DEFAULT_OS_ENV).trigger()
  File "oscied_lib/CharmHooks.py", line 323, in trigger
    getattr(self, 'hook_%s' % hook_name.replace('-', '_'))()
  File "oscied_lib/CharmHooks_Storage.py", line 139, in hook_storage_relation_changed
    self.storage_remount(address, fstype, mountpoint, options)
  File "oscied_lib/CharmHooks_Storage.py", line 105, in storage_remount
    raise IOError('Unable to mount shared storage')
IOError: Unable to mount shared storage

2013-05-30 11:15:31,457 unit:oscied-publisher/1: hook.output DEBUG: hook storage-relation-changed exited, exit code Traceback (most recent call last):
Failure: juju.errors.CharmInvocationError: Error processing '/var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed': exit code 1.
.
2013-05-30 11:15:31,457 unit:oscied-publisher/1: hook.executor DEBUG: Hook error: /var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed Error processing '/var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:15:31,457 unit:oscied-publisher/1: unit.relation.lifecycle WARNING: Error in storage-relation-changed hook: Error processing '/var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:15:31,457 unit:oscied-publisher/1: unit.relation.lifecycle INFO: Invoked error handler for storage-relation-changed hook
2013-05-30 11:15:31,471 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate: transition error (up -> error) {'error_message': "Error processing '/var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:15:31,471 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate:  execute action do_error
2013-05-30 11:15:31,472 unit:oscied-publisher/1: hook.scheduler DEBUG: stopping
2013-05-30 11:15:31,472 unit:oscied-publisher/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:15:31,481 unit:oscied-publisher/1: statemachine DEBUG: relationworkflowstate: transition complete error (state error) {'error_message': "Error processing '/var/lib/juju/units/oscied-publisher-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:15:31,481 unit:oscied-publisher/1: hook.scheduler DEBUG: hook error, stopping scheduler execution
2013-05-30 11:15:31,482 unit:oscied-publisher/1: hook.scheduler INFO: stopped
2013-05-30 11:15:34,486 unit:oscied-orchestra/1: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:15:37,680 unit:oscied-orchestra/1: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 11:15:53,537 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:15:56,610 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:15:59,897 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-S', '22457.Orchestra', '-X', 'quit']
2013-05-30 11:16:03,821 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 11:16:14,334 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 11:16:17,631 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 11:16:20,669 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 11:16:23,660 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1d7cad0>
2013-05-30 11:16:26,608 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 11:16:31,071 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 11:16:38,647 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:16:38,932 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:16:39,460 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:16:40,142 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:16:40,720 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:16:41,311 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:16:41,855 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:16:42,363 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:16:42,879 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:16:43,172 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:16:48,489 unit:oscied-orchestra/1: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 11:16:48,786 unit:oscied-orchestra/1: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 11:16:49,072 unit:oscied-orchestra/1: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1d7cad0>
2013-05-30 11:16:49,351 unit:oscied-orchestra/1: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:16:49,399 unit:oscied-orchestra/1: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 11:16:49,404 unit:oscied-orchestra/1: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-1/charm/hooks/storage-relation-changed
2013-05-30 11:23:03,866 unit:oscied-transform/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:23:03,866 unit:oscied-transform/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:23:03,875 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition state (error -> up)
2013-05-30 11:23:03,890 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition reset (error -> up) {}
2013-05-30 11:23:03,890 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate:  execute action do_reset
2013-05-30 11:23:03,891 unit:oscied-transform/1: hook.scheduler DEBUG: start
2013-05-30 11:23:03,891 unit:oscied-transform/1: hook.scheduler DEBUG: executing hook for oscied-storage/1:modified
2013-05-30 11:23:03,892 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 11:23:03,912 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition complete reset (state up) {}
2013-05-30 11:23:03,913 unit:oscied-transform/1: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:23:03,914 unit:oscied-transform/1: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:23:03,924 unit:oscied-transform/1: hook.output DEBUG: Cached relation hook contexts on 'storage:9': []
2013-05-30 11:23:03,939 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 11:23:03,940 unit:oscied-transform/1: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed
2013-05-30 11:23:04,784 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:23:05,101 unit:oscied-transform/1: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:23:05,411 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:23:05,722 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/1', 'public_address': 'ec2-50-19-66-110.compute-1.amazonaws.com', 'env_uuid': '54b05697b2a34d298f501b9c177ffb47', 'private_address': 'ip-10-145-147-230.ec2.internal', 'juju_log': <function callable_command at 0x192ec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:23:06,028 unit:oscied-transform/1: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:23:06,334 unit:oscied-transform/1: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 11:23:07,862 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Storage address is ip-10-245-189-174.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_1, options: 
2013-05-30 11:23:08,164 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:23:08,477 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 11:23:08,780 unit:oscied-transform/1: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:23:09,084 unit:oscied-transform/1: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:23:09,394 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-245-189-174.ec2.internal:medias_volume_1 type glusterfs options '' -> /mnt/storage
2013-05-30 11:23:09,700 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:23:15,125 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:23:20,553 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:23:25,984 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:23:31,418 unit:oscied-transform/1: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-245-189-174.ec2.internal:/medias_volume_1', '/mnt/storage']
2013-05-30 11:23:36,865 unit:oscied-transform/1: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:23:36,892 unit:oscied-transform/1: hook.output INFO: Traceback (most recent call last):
  File "/usr/lib/python2.7/runpy.py", line 162, in _run_module_as_main
    "__main__", fname, loader, pkg_name)
  File "/usr/lib/python2.7/runpy.py", line 72, in _run_code
    exec code in run_globals
  File "/var/lib/juju/units/oscied-transform-1/charm/oscied_lib/TransformHooks.py", line 109, in <module>
    DEFAULT_OS_ENV).trigger()
  File "oscied_lib/CharmHooks.py", line 323, in trigger
    getattr(self, 'hook_%s' % hook_name.replace('-', '_'))()
  File "oscied_lib/CharmHooks_Storage.py", line 139, in hook_storage_relation_changed
    self.storage_remount(address, fstype, mountpoint, options)
  File "oscied_lib/CharmHooks_Storage.py", line 105, in storage_remount
    raise IOError('Unable to mount shared storage')
IOError
2013-05-30 11:23:36,896 unit:oscied-transform/1: hook.output INFO: : Unable to mount shared storage

2013-05-30 11:23:36,920 unit:oscied-transform/1: hook.output DEBUG: hook storage-relation-changed exited, exit code Traceback (most recent call last):
Failure: juju.errors.CharmInvocationError: Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
.
2013-05-30 11:23:36,920 unit:oscied-transform/1: hook.executor DEBUG: Hook error: /var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:23:36,921 unit:oscied-transform/1: unit.relation.lifecycle WARNING: Error in storage-relation-changed hook: Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.
2013-05-30 11:23:36,921 unit:oscied-transform/1: unit.relation.lifecycle INFO: Invoked error handler for storage-relation-changed hook
2013-05-30 11:23:36,931 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition error (up -> error) {'error_message': "Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:23:36,931 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate:  execute action do_error
2013-05-30 11:23:36,932 unit:oscied-transform/1: hook.scheduler DEBUG: stopping
2013-05-30 11:23:36,932 unit:oscied-transform/1: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 11:23:36,999 unit:oscied-transform/1: statemachine DEBUG: relationworkflowstate: transition complete error (state error) {'error_message': "Error processing '/var/lib/juju/units/oscied-transform-1/charm/hooks/storage-relation-changed': exit code 1.", 'change_type': 'modified'}
2013-05-30 11:23:37,000 unit:oscied-transform/1: hook.scheduler DEBUG: hook error, stopping scheduler execution
2013-05-30 11:23:37,001 unit:oscied-transform/1: hook.scheduler INFO: stopped
^Cdavid@GaViD:~/David/git/OSCIED/scripts$ juju expose oscied-storage/1
2013-05-30 11:24:45,215 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:24:45,215 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:24:45,215 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:24:45,215 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:24:45,216 INFO Connecting to environment...
2013-05-30 11:24:48,523 INFO Connected to environment.
2013-05-30 11:24:48,628 ERROR Service 'oscied-storage/1' was not found
david@GaViD:~/David/git/OSCIED/scripts$ juju destroy-environment
2013-05-30 11:25:00,370 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:25:00,371 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:25:00,371 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:25:00,371 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
WARNING: this command will destroy the 'amazon' environment (type: ec2).
This includes all machines, services, data, and other resources. Continue [y/N] y
2013-05-30 11:25:01,000 INFO Destroying environment 'amazon' (type: ec2)...
2013-05-30 11:25:04,090 INFO 'destroy_environment' command finished successfully
david@GaViD:~/David/git/OSCIED/scripts$ juju debug-log
2013-05-30 11:27:55,022 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 11:27:55,022 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 11:27:55,022 WARNING S3 API calls encrypted but not authenticated
2013-05-30 11:27:55,022 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 11:27:55,023 INFO Connecting to environment...
The authenticity of host 'ec2-50-16-122-10.compute-1.amazonaws.com (50.16.122.10)' can't be established.
ECDSA key fingerprint is 85:03:dd:ee:fb:60:fc:f2:36:c7:cf:c5:77:13:2f:63.
Are you sure you want to continue connecting (yes/no)? yes
2013-05-30 11:29:31,340 INFO Connected to environment.
2013-05-30 11:29:31,340 INFO Enabling distributed debug log.
2013-05-30 11:29:31,542 INFO Tailing logs - Ctrl-C to stop.
2013-05-30 11:32:12,699 Machine:1: juju.agents.machine INFO: Machine agent started id:1
2013-05-30 11:32:12,702 Machine:1: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-orchestra/0'])
2013-05-30 11:32:12,702 Machine:1: juju.agents.machine DEBUG: Starting service unit: oscied-orchestra/0 ...
2013-05-30 11:32:12,799 Machine:1: unit.deploy DEBUG: Downloading charm local:raring/oscied-orchestra-7 to /var/lib/juju/charms
2013-05-30 11:32:13,088 Machine:1: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x212a0d0> for oscied-orchestra/0 in /var/lib/juju
2013-05-30 11:32:13,088 Machine:1: unit.deploy DEBUG: Starting service unit oscied-orchestra/0...
2013-05-30 11:32:15,638 Machine:1: unit.deploy INFO: Started service unit oscied-orchestra/0
2013-05-30 11:32:18,448 unit:oscied-orchestra/0: hook.executor DEBUG: started
2013-05-30 11:32:18,457 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:32:18,482 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:32:18,497 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:32:18,556 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/install
2013-05-30 11:32:18,684 unit:oscied-orchestra/0: hook.output INFO: Install OSCIED Library

Extracting templates from packages: 73%hestra/0: hook.output INFO: 
Extracting templates from packages: 100%estra/0: hook.output INFO: 

2013-05-30 11:34:26,942 unit:oscied-orchestra/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 11:34:31,641 unit:oscied-orchestra/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 11:34:46,449 unit:oscied-orchestra/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 11:34:50,218 unit:oscied-orchestra/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 11:34:50,491 unit:oscied-orchestra/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 11:34:52,413 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 11:34:52,413 unit:oscied-orchestra/0: hook.output INFO: keyring `/tmp/tmpktnmx2/secring.gpg' created

2013-05-30 11:34:52,414 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 11:34:52,414 unit:oscied-orchestra/0: hook.output INFO: keyring `/tmp/tmpktnmx2/pubring.gpg' created

2013-05-30 11:34:52,417 unit:oscied-orchestra/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 11:34:52,658 unit:oscied-orchestra/0: hook.output INFO: gpg: /tmp/tmpktnmx2/trustdb.gpg: trustdb created

2013-05-30 11:34:52,658 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 11:34:52,663 unit:oscied-orchestra/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 11:34:52,737 unit:oscied-orchestra/0: hook.output INFO: OK

2013-05-30 11:34:52,785 unit:oscied-orchestra/0: hook.output INFO: Reading package lists...
2013-05-30 11:35:04,226 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 11:35:04,345 unit:oscied-orchestra/0: hook.output INFO: Building dependency tree...
2013-05-30 11:35:06,059 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 11:35:06,060 unit:oscied-orchestra/0: hook.output INFO: Reading state information...
2013-05-30 11:35:06,061 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 11:35:07,587 unit:oscied-orchestra/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:35:07,588 unit:oscied-orchestra/0: hook.output INFO:   python-shelltoolbox

2013-05-30 11:35:07,592 unit:oscied-orchestra/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:35:07,593 unit:oscied-orchestra/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 11:35:08,078 unit:oscied-orchestra/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 11:35:08,194 unit:oscied-orchestra/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 11:35:10,501 unit:oscied-orchestra/0: hook.output INFO: Fetched 19.9 kB in 0s (59.2 kB/s)

2013-05-30 11:35:10,983 unit:oscied-orchestra/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 11:35:10,984 unit:oscied-orchestra/0: hook.output INFO: (Reading database ... 
2013-05-30 11:35:11,392 unit:oscied-orchestra/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 11:35:11,510 unit:oscied-orchestra/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 11:35:12,061 unit:oscied-orchestra/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 11:35:12,150 unit:oscied-orchestra/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 11:35:12,840 unit:oscied-orchestra/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 11:35:14,113 unit:oscied-orchestra/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 11:35:22,035 Machine:2: juju.agents.machine INFO: Machine agent started id:2
2013-05-30 11:35:22,039 Machine:2: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-webui/0'])
2013-05-30 11:35:22,039 Machine:2: juju.agents.machine DEBUG: Starting service unit: oscied-webui/0 ...
2013-05-30 11:35:22,058 Machine:2: unit.deploy DEBUG: Downloading charm local:raring/oscied-webui-2 to /var/lib/juju/charms
2013-05-30 11:35:23,039 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:35:24,114 Machine:2: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x33f0190> for oscied-webui/0 in /var/lib/juju
2013-05-30 11:35:24,115 Machine:2: unit.deploy DEBUG: Starting service unit oscied-webui/0...
2013-05-30 11:35:25,073 unit:oscied-webui/0: hook.executor DEBUG: started
2013-05-30 11:35:25,075 Machine:2: unit.deploy INFO: Started service unit oscied-webui/0
2013-05-30 11:35:25,100 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:35:25,100 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:35:25,119 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:35:25,182 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/install
2013-05-30 11:35:26,011 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:35:28,849 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:35:29,713 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - install
2013-05-30 11:35:29,786 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring Release.gpg

2013-05-30 11:35:29,794 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates Release.gpg

2013-05-30 11:35:29,809 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring Release

2013-05-30 11:35:29,815 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates Release

2013-05-30 11:35:29,830 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main Sources

2013-05-30 11:35:29,836 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe Sources

2013-05-30 11:35:29,842 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main amd64 Packages

2013-05-30 11:35:29,848 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe amd64 Packages

2013-05-30 11:35:29,853 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main Translation-en

2013-05-30 11:35:29,858 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe Translation-en

2013-05-30 11:35:29,866 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main Sources

2013-05-30 11:35:29,873 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe Sources

2013-05-30 11:35:29,885 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main amd64 Packages

2013-05-30 11:35:29,893 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe amd64 Packages

2013-05-30 11:35:29,901 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main Translation-en

2013-05-30 11:35:29,908 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe Translation-en

2013-05-30 11:35:29,926 unit:oscied-webui/0: hook.output INFO: Get:1 http://security.ubuntu.com raring-security Release.gpg [933 B]

2013-05-30 11:35:29,927 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring Release.gpg

2013-05-30 11:35:30,004 unit:oscied-webui/0: hook.output INFO: Get:2 http://security.ubuntu.com raring-security Release [40.8 kB]

2013-05-30 11:35:30,005 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring Release

2013-05-30 11:35:30,089 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring/main amd64 Packages

2013-05-30 11:35:30,253 unit:oscied-webui/0: hook.output INFO: Get:3 http://security.ubuntu.com raring-security/main Sources [13.9 kB]

2013-05-30 11:35:30,341 unit:oscied-webui/0: hook.output INFO: Get:4 http://security.ubuntu.com raring-security/universe Sources [3628 B]

2013-05-30 11:35:30,419 unit:oscied-webui/0: hook.output INFO: Get:5 http://security.ubuntu.com raring-security/main amd64 Packages [44.6 kB]

2013-05-30 11:35:30,479 unit:oscied-webui/0: hook.output INFO: Ign http://ppa.launchpad.net raring/main Translation-en

2013-05-30 11:35:30,651 unit:oscied-webui/0: hook.output INFO: Get:6 http://security.ubuntu.com raring-security/universe amd64 Packages [13.6 kB]

2013-05-30 11:35:30,728 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/main Translation-en

2013-05-30 11:35:30,805 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/universe Translation-en

2013-05-30 11:35:30,825 unit:oscied-webui/0: hook.output INFO: Fetched 117 kB in 1s (113 kB/s)
Reading package lists...
2013-05-30 11:35:31,987 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2fd66d0>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2fc5b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:35:33,754 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:33,772 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 11:35:33,777 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:33,786 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 11:35:33,951 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:33,951 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 11:35:33,952 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:34,087 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

2013-05-30 11:35:34,384 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Install and configure Network Time Protocol
2013-05-30 11:35:34,420 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 11:35:34,425 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:34,435 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 11:35:34,605 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:34,605 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 11:35:34,606 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:34,723 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:35:34,723 unit:oscied-webui/0: hook.output INFO:   libopts25

2013-05-30 11:35:34,724 unit:oscied-webui/0: hook.output INFO: Suggested packages:

2013-05-30 11:35:34,725 unit:oscied-webui/0: hook.output INFO:   ntp-doc

2013-05-30 11:35:34,726 unit:oscied-webui/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:35:34,727 unit:oscied-webui/0: hook.output INFO:   libopts25 ntp

2013-05-30 11:35:34,794 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 677 kB of archives.
After this operation, 1679 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libopts25 amd64 1:5.17.1-1ubuntu2 [62.2 kB]

2013-05-30 11:35:34,859 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main ntp amd64 1:4.2.6.p5+dfsg-2ubuntu1 [614 kB]

2013-05-30 11:35:35,010 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:35:35,151 unit:oscied-webui/0: hook.output INFO: Fetched 677 kB in 0s (5058 kB/s)

2013-05-30 11:35:35,228 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libopts25.

2013-05-30 11:35:35,229 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:35:35,274 unit:oscied-webui/0: hook.output INFO: 55913 files and directories currently installed.)

2013-05-30 11:35:35,277 unit:oscied-webui/0: hook.output INFO: Unpacking libopts25 (from .../libopts25_1%3a5.17.1-1ubuntu2_amd64.deb) ...

2013-05-30 11:35:35,459 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package ntp.

2013-05-30 11:35:35,471 unit:oscied-webui/0: hook.output INFO: Unpacking ntp (from .../ntp_1%3a4.2.6.p5+dfsg-2ubuntu1_amd64.deb) ...

2013-05-30 11:35:35,646 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 11:35:36,725 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:35:36,807 unit:oscied-webui/0: hook.output INFO: Setting up libopts25 (1:5.17.1-1ubuntu2) ...

2013-05-30 11:35:36,858 unit:oscied-webui/0: hook.output INFO: Setting up ntp (1:4.2.6.p5+dfsg-2ubuntu1) ...

2013-05-30 11:35:37,538 unit:oscied-webui/0: hook.output INFO:  * Starting NTP server ntpd

2013-05-30 11:35:37,556 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:35:37,568 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 11:35:37,577 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 11:35:37,599 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:35:37,959 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook install
2013-05-30 11:35:38,580 unit:oscied-webui/0: hook.output INFO:  * Stopping NTP server ntpd

2013-05-30 11:35:38,584 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:35:40,600 unit:oscied-webui/0: hook.output INFO:  * Starting NTP server ntpd

2013-05-30 11:35:40,613 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:35:40,923 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Install and configure MySQL
2013-05-30 11:35:40,861 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:35:41,497 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 11:35:41,503 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:41,512 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 11:35:41,690 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:41,690 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 11:35:41,691 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:35:41,817 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:35:41,817 unit:oscied-webui/0: hook.output INFO:   fuse-utils glusterfs-common libaio1 libdbd-mysql-perl libdbi-perl

2013-05-30 11:35:41,818 unit:oscied-webui/0: hook.output INFO:   libgssglue1 libhtml-template-perl libibverbs1 libmysqlclient18

2013-05-30 11:35:41,818 unit:oscied-webui/0: hook.output INFO:   libnet-daemon-perl libnfsidmap2 libplrpc-perl libterm-readkey-perl libtirpc1

2013-05-30 11:35:41,818 unit:oscied-webui/0: hook.output INFO:   mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server-5.5

2013-05-30 11:35:41,819 unit:oscied-webui/0: hook.output INFO:   mysql-server-core-5.5 rpcbind

2013-05-30 11:35:41,820 unit:oscied-webui/0: hook.output INFO: Suggested packages:

2013-05-30 11:35:41,820 unit:oscied-webui/0: hook.output INFO:   glusterfs-examples libipc-sharedcache-perl tinyca mailx open-iscsi watchdog

2013-05-30 11:35:41,822 unit:oscied-webui/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:35:41,822 unit:oscied-webui/0: hook.output INFO:   fuse-utils glusterfs-client glusterfs-common libaio1 libdbd-mysql-perl

2013-05-30 11:35:41,823 unit:oscied-webui/0: hook.output INFO:   libdbi-perl libgssglue1 libhtml-template-perl libibverbs1 libmysqlclient18

2013-05-30 11:35:41,823 unit:oscied-webui/0: hook.output INFO:   libnet-daemon-perl libnfsidmap2 libplrpc-perl libterm-readkey-perl libtirpc1

2013-05-30 11:35:41,826 unit:oscied-webui/0: hook.output INFO:   mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server
  mysql-server-5.5 mysql-server-core-5.5 nfs-common rpcbind

2013-05-30 11:35:41,882 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 23 newly installed, 0 to remove and 0 not upgraded.
Need to get 37.9 MB of archives.
After this operation, 139 MB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaio1 amd64 0.3.109-3 [6328 B]

2013-05-30 11:35:41,938 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libgssglue1 amd64 0.4-2 [22.6 kB]

2013-05-30 11:35:41,981 unit:oscied-webui/0: hook.output INFO: Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-common all 5.5.31-0ubuntu0.13.04.1 [13.2 kB]

2013-05-30 11:35:42,064 unit:oscied-webui/0: hook.output INFO: Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main libmysqlclient18 amd64 5.5.31-0ubuntu0.13.04.1 [926 kB]

2013-05-30 11:35:42,133 unit:oscied-webui/0: hook.output INFO: Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libnfsidmap2 amd64 0.25-4ubuntu1 [32.3 kB]

2013-05-30 11:35:42,243 unit:oscied-webui/0: hook.output INFO: Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libnet-daemon-perl all 0.48-1 [43.1 kB]

2013-05-30 11:35:42,307 unit:oscied-webui/0: hook.output INFO: Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libplrpc-perl all 0.2020-2 [36.0 kB]

2013-05-30 11:35:42,369 unit:oscied-webui/0: hook.output INFO: Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libdbi-perl amd64 1.622-1 [852 kB]

2013-05-30 11:35:42,449 unit:oscied-webui/0: hook.output INFO: Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libdbd-mysql-perl amd64 4.021-1 [97.7 kB]

2013-05-30 11:35:42,530 unit:oscied-webui/0: hook.output INFO: Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-client-core-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [1884 kB]

2013-05-30 11:35:42,642 unit:oscied-webui/0: hook.output INFO: Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libterm-readkey-perl amd64 2.30-4build4 [28.4 kB]

2013-05-30 11:35:42,706 unit:oscied-webui/0: hook.output INFO: Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-client-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [8188 kB]

2013-05-30 11:35:43,173 unit:oscied-webui/0: hook.output INFO: Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server-core-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [5876 kB]

2013-05-30 11:35:43,669 unit:oscied-webui/0: hook.output INFO: Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [8815 kB]

2013-05-30 11:35:43,916 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 11:35:44,157 unit:oscied-webui/0: hook.output INFO: Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libtirpc1 amd64 0.2.2-5build1 [84.9 kB]

2013-05-30 11:35:44,212 unit:oscied-webui/0: hook.output INFO: Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main rpcbind amd64 0.2.0-8ubuntu1 [43.5 kB]

2013-05-30 11:35:44,247 unit:oscied-webui/0: hook.output INFO: Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main fuse-utils all 2.9.0-1ubuntu3 [1756 B]

2013-05-30 11:35:44,285 unit:oscied-webui/0: hook.output INFO: Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libibverbs1 amd64 1.1.6-1ubuntu1 [28.0 kB]

2013-05-30 11:35:44,402 unit:oscied-webui/0: hook.output INFO: Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe glusterfs-common amd64 3.2.7-3ubuntu1 [10.6 MB]

2013-05-30 11:35:45,029 unit:oscied-webui/0: hook.output INFO: Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe glusterfs-client amd64 3.2.7-3ubuntu1 [8236 B]

2013-05-30 11:35:45,076 unit:oscied-webui/0: hook.output INFO: Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libhtml-template-perl all 2.91-1 [65.1 kB]

2013-05-30 11:35:45,129 unit:oscied-webui/0: hook.output INFO: Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server all 5.5.31-0ubuntu0.13.04.1 [11.4 kB]

2013-05-30 11:35:45,196 unit:oscied-webui/0: hook.output INFO: Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main nfs-common amd64 1:1.2.6-3ubuntu2 [249 kB]

2013-05-30 11:35:45,527 unit:oscied-webui/0: hook.output INFO: Preconfiguring packages ...

2013-05-30 11:35:45,684 unit:oscied-webui/0: hook.output INFO: Fetched 37.9 MB in 3s (11.3 MB/s)

2013-05-30 11:35:45,761 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaio1:amd64.

2013-05-30 11:35:45,761 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:35:45,807 unit:oscied-webui/0: hook.output INFO: 55956 files and directories currently installed.)

2013-05-30 11:35:45,811 unit:oscied-webui/0: hook.output INFO: Unpacking libaio1:amd64 (from .../libaio1_0.3.109-3_amd64.deb) ...

2013-05-30 11:35:45,919 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libgssglue1:amd64.

2013-05-30 11:35:45,934 unit:oscied-webui/0: hook.output INFO: Unpacking libgssglue1:amd64 (from .../libgssglue1_0.4-2_amd64.deb) ...

2013-05-30 11:35:46,039 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-common.

2013-05-30 11:35:46,051 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-common (from .../mysql-common_5.5.31-0ubuntu0.13.04.1_all.deb) ...

2013-05-30 11:35:46,155 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libmysqlclient18:amd64.

2013-05-30 11:35:46,166 unit:oscied-webui/0: hook.output INFO: Unpacking libmysqlclient18:amd64 (from .../libmysqlclient18_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 11:35:46,411 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libnfsidmap2:amd64.

2013-05-30 11:35:46,425 unit:oscied-webui/0: hook.output INFO: Unpacking libnfsidmap2:amd64 (from .../libnfsidmap2_0.25-4ubuntu1_amd64.deb) ...

2013-05-30 11:35:46,547 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libnet-daemon-perl.

2013-05-30 11:35:46,561 unit:oscied-webui/0: hook.output INFO: Unpacking libnet-daemon-perl (from .../libnet-daemon-perl_0.48-1_all.deb) ...

2013-05-30 11:35:46,671 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libplrpc-perl.

2013-05-30 11:35:46,683 unit:oscied-webui/0: hook.output INFO: Unpacking libplrpc-perl (from .../libplrpc-perl_0.2020-2_all.deb) ...

2013-05-30 11:35:46,787 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libdbi-perl.

2013-05-30 11:35:46,802 unit:oscied-webui/0: hook.output INFO: Unpacking libdbi-perl (from .../libdbi-perl_1.622-1_amd64.deb) ...

2013-05-30 11:35:47,007 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libdbd-mysql-perl.

2013-05-30 11:35:47,019 unit:oscied-webui/0: hook.output INFO: Unpacking libdbd-mysql-perl (from .../libdbd-mysql-perl_4.021-1_amd64.deb) ...

2013-05-30 11:35:47,105 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 11:35:47,271 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-client-core-5.5.

2013-05-30 11:35:47,283 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-client-core-5.5 (from .../mysql-client-core-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 11:35:47,695 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libterm-readkey-perl.

2013-05-30 11:35:47,709 unit:oscied-webui/0: hook.output INFO: Unpacking libterm-readkey-perl (from .../libterm-readkey-perl_2.30-4build4_amd64.deb) ...

2013-05-30 11:35:47,815 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-client-5.5.

2013-05-30 11:35:47,826 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-client-5.5 (from .../mysql-client-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 11:35:48,995 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server-core-5.5.

2013-05-30 11:35:49,008 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server-core-5.5 (from .../mysql-server-core-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 11:35:49,760 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 11:35:50,165 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 11:35:51,459 unit:oscied-webui/0: hook.output INFO: Setting up mysql-common (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:35:51,604 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server-5.5.

2013-05-30 11:35:51,604 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:35:51,574 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:35:51,651 unit:oscied-webui/0: hook.output INFO: 56357 files and directories currently installed.)

2013-05-30 11:35:51,656 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server-5.5 (from .../mysql-server-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 11:35:52,135 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:35:52,443 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 11:35:53,132 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:35:53,431 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libtirpc1:amd64.

2013-05-30 11:35:53,444 unit:oscied-webui/0: hook.output INFO: Unpacking libtirpc1:amd64 (from .../libtirpc1_0.2.2-5build1_amd64.deb) ...

2013-05-30 11:35:53,844 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:35:54,169 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package rpcbind.

2013-05-30 11:35:54,121 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:35:54,185 unit:oscied-webui/0: hook.output INFO: Unpacking rpcbind (from .../rpcbind_0.2.0-8ubuntu1_amd64.deb) ...

2013-05-30 11:35:54,311 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package fuse-utils.

2013-05-30 11:35:54,323 unit:oscied-webui/0: hook.output INFO: Unpacking fuse-utils (from .../fuse-utils_2.9.0-1ubuntu3_all.deb) ...

2013-05-30 11:35:54,423 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libibverbs1.

2013-05-30 11:35:54,438 unit:oscied-webui/0: hook.output INFO: Unpacking libibverbs1 (from .../libibverbs1_1.1.6-1ubuntu1_amd64.deb) ...

2013-05-30 11:35:54,547 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package glusterfs-common.

2013-05-30 11:35:54,559 unit:oscied-webui/0: hook.output INFO: Unpacking glusterfs-common (from .../glusterfs-common_3.2.7-3ubuntu1_amd64.deb) ...

2013-05-30 11:35:55,700 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:35:55,907 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package glusterfs-client.

2013-05-30 11:35:55,923 unit:oscied-webui/0: hook.output INFO: Unpacking glusterfs-client (from .../glusterfs-client_3.2.7-3ubuntu1_amd64.deb) ...

2013-05-30 11:35:56,023 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libhtml-template-perl.

2013-05-30 11:35:56,038 unit:oscied-webui/0: hook.output INFO: Unpacking libhtml-template-perl (from .../libhtml-template-perl_2.91-1_all.deb) ...

2013-05-30 11:35:56,143 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server.

2013-05-30 11:35:56,158 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server (from .../mysql-server_5.5.31-0ubuntu0.13.04.1_all.deb) ...

2013-05-30 11:35:56,265 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package nfs-common.

2013-05-30 11:35:56,281 unit:oscied-webui/0: hook.output INFO: Unpacking nfs-common (from .../nfs-common_1%3a1.2.6-3ubuntu2_amd64.deb) ...

2013-05-30 11:35:56,396 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 11:35:57,778 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:35:57,865 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:35:57,960 unit:oscied-webui/0: hook.output INFO: Setting up libaio1:amd64 (0.3.109-3) ...

2013-05-30 11:35:58,009 unit:oscied-webui/0: hook.output INFO: Setting up libgssglue1:amd64 (0.4-2) ...

2013-05-30 11:35:58,054 unit:oscied-webui/0: hook.output INFO: Setting up libmysqlclient18:amd64 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:35:58,092 unit:oscied-webui/0: hook.output INFO: Setting up libnfsidmap2:amd64 (0.25-4ubuntu1) ...

2013-05-30 11:35:58,129 unit:oscied-webui/0: hook.output INFO: Setting up libnet-daemon-perl (0.48-1) ...

2013-05-30 11:35:58,147 unit:oscied-webui/0: hook.output INFO: Setting up libplrpc-perl (0.2020-2) ...

2013-05-30 11:35:58,167 unit:oscied-webui/0: hook.output INFO: Setting up libdbi-perl (1.622-1) ...

2013-05-30 11:35:58,187 unit:oscied-webui/0: hook.output INFO: Setting up libdbd-mysql-perl (4.021-1) ...

2013-05-30 11:35:58,206 unit:oscied-webui/0: hook.output INFO: Setting up mysql-client-core-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:35:58,225 unit:oscied-webui/0: hook.output INFO: Setting up libterm-readkey-perl (2.30-4build4) ...

2013-05-30 11:35:58,244 unit:oscied-webui/0: hook.output INFO: Setting up mysql-client-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:35:58,263 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server-core-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:35:58,283 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:36:12,524 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 11:36:12,831 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 5442

2013-05-30 11:36:13,058 unit:oscied-webui/0: hook.output INFO: Setting up libtirpc1:amd64 (0.2.2-5build1) ...

2013-05-30 11:36:13,135 unit:oscied-webui/0: hook.output INFO: Setting up rpcbind (0.2.0-8ubuntu1) ...

2013-05-30 11:36:13,258 unit:oscied-webui/0: hook.output INFO:  Removing any system startup links for /etc/init.d/rpcbind ...

2013-05-30 11:36:13,380 unit:oscied-webui/0: hook.output INFO: portmap start/running, process 5546

2013-05-30 11:36:13,398 unit:oscied-webui/0: hook.output INFO: Setting up fuse-utils (2.9.0-1ubuntu3) ...

2013-05-30 11:36:13,428 unit:oscied-webui/0: hook.output INFO: Setting up libibverbs1 (1.1.6-1ubuntu1) ...

2013-05-30 11:36:13,485 unit:oscied-webui/0: hook.output INFO: Setting up glusterfs-common (3.2.7-3ubuntu1) ...

2013-05-30 11:36:13,557 unit:oscied-webui/0: hook.output INFO: Setting up glusterfs-client (3.2.7-3ubuntu1) ...

2013-05-30 11:36:13,591 unit:oscied-webui/0: hook.output INFO: Setting up libhtml-template-perl (2.91-1) ...

2013-05-30 11:36:13,707 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:36:13,794 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 11:36:13,837 unit:oscied-webui/0: hook.output INFO: Setting up nfs-common (1:1.2.6-3ubuntu2) ...

2013-05-30 11:36:14,731 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:14,733 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/idmapd.conf with new version

2013-05-30 11:36:15,271 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:15,272 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/default/nfs-common with new version

2013-05-30 11:36:15,502 unit:oscied-webui/0: hook.output INFO: Adding system user `statd' (UID 108) ...
Adding new user `statd' (UID 108) with group `nogroup' ...

2013-05-30 11:36:15,587 unit:oscied-webui/0: hook.output INFO: Not creating home directory `/var/lib/nfs'.

2013-05-30 11:36:15,699 unit:oscied-webui/0: hook.output INFO: statd start/running, process 5851

2013-05-30 11:36:15,786 unit:oscied-webui/0: hook.output INFO: gssd stop/pre-start, process 5880

2013-05-30 11:36:15,951 unit:oscied-webui/0: hook.output INFO: idmapd start/running, process 5922

2013-05-30 11:36:15,967 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 11:36:15,976 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 11:36:16,000 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:36:17,914 unit:oscied-webui/0: hook.output INFO: mysql stop/waiting

2013-05-30 11:36:20,031 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 5953

2013-05-30 11:36:20,690 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Import Web User Interface database
2013-05-30 11:36:21,050 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create Web User Interface user
2013-05-30 11:36:21,380 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Install and configure Apache2 + PHP
2013-05-30 11:36:22,758 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 11:36:22,764 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:22,773 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 11:36:22,950 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:22,951 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 11:36:22,952 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:23,081 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:36:23,082 unit:oscied-webui/0: hook.output INFO:   apache2-mpm-prefork apache2-utils apache2.2-bin apache2.2-common

2013-05-30 11:36:23,082 unit:oscied-webui/0: hook.output INFO:   dbconfig-common javascript-common libapache2-mod-php5 libapr1 libaprutil1

2013-05-30 11:36:23,082 unit:oscied-webui/0: hook.output INFO:   libaprutil1-dbd-sqlite3 libaprutil1-ldap libgd2-xpm libjs-codemirror

2013-05-30 11:36:23,083 unit:oscied-webui/0: hook.output INFO:   libjs-jquery-cookie libjs-jquery-event-drag libjs-jquery-metadata

2013-05-30 11:36:23,083 unit:oscied-webui/0: hook.output INFO:   libjs-jquery-mousewheel libjs-jquery-tablesorter libjs-jquery-ui libmcrypt4

2013-05-30 11:36:23,084 unit:oscied-webui/0: hook.output INFO:   php-gettext php5-common php5-mcrypt ssl-cert wwwconfig-common

2013-05-30 11:36:23,085 unit:oscied-webui/0: hook.output INFO: Suggested packages:

2013-05-30 11:36:23,085 unit:oscied-webui/0: hook.output INFO:   apache2-doc apache2-suexec apache2-suexec-custom php-pear libgd-tools

2013-05-30 11:36:23,086 unit:oscied-webui/0: hook.output INFO:   libjs-jquery-ui-docs libmcrypt-dev mcrypt openssl-blacklist
  postgresql-client

2013-05-30 11:36:23,087 unit:oscied-webui/0: hook.output INFO: The following packages will be REMOVED:

2013-05-30 11:36:23,088 unit:oscied-webui/0: hook.output INFO:   libgd2-noxpm

2013-05-30 11:36:23,089 unit:oscied-webui/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:36:23,095 unit:oscied-webui/0: hook.output INFO:   apache2 apache2-mpm-prefork apache2-utils apache2.2-bin apache2.2-common
  dbconfig-common javascript-common libapache2-mod-auth-mysql
  libapache2-mod-php5 libapr1 libaprutil1 libaprutil1-dbd-sqlite3
  libaprutil1-ldap libgd2-xpm libjs-codemirror libjs-jquery-cookie
  libjs-jquery-event-drag libjs-jquery-metadata libjs-jquery-mousewheel
  libjs-jquery-tablesorter libjs-jquery-ui libmcrypt4 php-gettext php5
  php5-cli php5-common php5-curl php5-gd php5-mcrypt php5-mysql phpmyadmin
  ssl-cert wwwconfig-common

2013-05-30 11:36:23,205 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 33 newly installed, 1 to remove and 0 not upgraded.
Need to get 17.3 MB of archives.
After this operation, 54.3 MB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libgd2-xpm amd64 2.0.36~rc1~dfsg-6.1ubuntu1 [202 kB]

2013-05-30 11:36:23,306 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-common amd64 5.4.9-4ubuntu2 [431 kB]

2013-05-30 11:36:23,410 unit:oscied-webui/0: hook.output INFO: Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-cli amd64 5.4.9-4ubuntu2 [2631 kB]

2013-05-30 11:36:23,569 unit:oscied-webui/0: hook.output INFO: Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapr1 amd64 1.4.6-3ubuntu1 [90.3 kB]

2013-05-30 11:36:23,677 unit:oscied-webui/0: hook.output INFO: Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1 amd64 1.4.1-3 [83.8 kB]

2013-05-30 11:36:23,711 unit:oscied-webui/0: hook.output INFO: Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1-dbd-sqlite3 amd64 1.4.1-3 [12.0 kB]

2013-05-30 11:36:23,748 unit:oscied-webui/0: hook.output INFO: Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1-ldap amd64 1.4.1-3 [9568 B]

2013-05-30 11:36:23,812 unit:oscied-webui/0: hook.output INFO: Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2.2-bin amd64 2.2.22-6ubuntu5 [3127 kB]

2013-05-30 11:36:24,008 unit:oscied-webui/0: hook.output INFO: Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2-utils amd64 2.2.22-6ubuntu5 [90.5 kB]

2013-05-30 11:36:24,106 unit:oscied-webui/0: hook.output INFO: Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2.2-common amd64 2.2.22-6ubuntu5 [227 kB]

2013-05-30 11:36:24,217 unit:oscied-webui/0: hook.output INFO: Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2-mpm-prefork amd64 2.2.22-6ubuntu5 [2354 B]

2013-05-30 11:36:24,338 unit:oscied-webui/0: hook.output INFO: Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapache2-mod-php5 amd64 5.4.9-4ubuntu2 [2735 kB]

2013-05-30 11:36:24,521 unit:oscied-webui/0: hook.output INFO: Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-curl amd64 5.4.9-4ubuntu2 [29.0 kB]

2013-05-30 11:36:24,560 unit:oscied-webui/0: hook.output INFO: Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-gd amd64 5.4.9-4ubuntu2 [35.2 kB]

2013-05-30 11:36:24,626 unit:oscied-webui/0: hook.output INFO: Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-mysql amd64 5.4.9-4ubuntu2 [79.1 kB]

2013-05-30 11:36:24,665 unit:oscied-webui/0: hook.output INFO: Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2 amd64 2.2.22-6ubuntu5 [1442 B]

2013-05-30 11:36:24,743 unit:oscied-webui/0: hook.output INFO: Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main dbconfig-common all 1.8.47+nmu1 [468 kB]

2013-05-30 11:36:24,826 unit:oscied-webui/0: hook.output INFO: Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe wwwconfig-common all 0.2.2 [18.0 kB]

2013-05-30 11:36:24,887 unit:oscied-webui/0: hook.output INFO: Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe javascript-common all 8 [4208 B]

2013-05-30 11:36:24,920 unit:oscied-webui/0: hook.output INFO: Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapache2-mod-auth-mysql amd64 4.3.9-13.1ubuntu1 [22.5 kB]

2013-05-30 11:36:24,961 unit:oscied-webui/0: hook.output INFO: Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-cookie all 8-2 [6502 B]

2013-05-30 11:36:25,001 unit:oscied-webui/0: hook.output INFO: Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-event-drag all 8-2 [11.2 kB]

2013-05-30 11:36:25,043 unit:oscied-webui/0: hook.output INFO: Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-metadata all 8-2 [6856 B]

2013-05-30 11:36:25,082 unit:oscied-webui/0: hook.output INFO: Get:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-mousewheel all 8-2 [7076 B]

2013-05-30 11:36:25,159 unit:oscied-webui/0: hook.output INFO: Get:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-tablesorter all 8-2 [64.0 kB]

2013-05-30 11:36:25,323 unit:oscied-webui/0: hook.output INFO: Get:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-ui all 1.8.ooops.21+dfsg-2 [384 kB]

2013-05-30 11:36:25,382 unit:oscied-webui/0: hook.output INFO: Get:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libmcrypt4 amd64 2.5.8-3.1 [87.6 kB]

2013-05-30 11:36:25,415 unit:oscied-webui/0: hook.output INFO: Get:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5 all 5.4.9-4ubuntu2 [1060 B]

2013-05-30 11:36:25,461 unit:oscied-webui/0: hook.output INFO: Get:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe php-gettext all 1.0.11-1 [17.2 kB]

2013-05-30 11:36:25,530 unit:oscied-webui/0: hook.output INFO: Get:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe php5-mcrypt amd64 5.4.6-0ubuntu1 [18.7 kB]

2013-05-30 11:36:25,572 unit:oscied-webui/0: hook.output INFO: Get:31 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main ssl-cert all 1.0.32 [16.4 kB]

2013-05-30 11:36:25,633 unit:oscied-webui/0: hook.output INFO: Get:32 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-codemirror all 2.23-1 [210 kB]

2013-05-30 11:36:25,907 unit:oscied-webui/0: hook.output INFO: Get:33 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe phpmyadmin all 4:3.5.8.1-1 [6196 kB]

Extracting templates from packages: 90%ui/0: hook.output INFO: 
Extracting templates from packages: 100%i/0: hook.output INFO: 

2013-05-30 11:36:26,591 unit:oscied-webui/0: hook.output INFO: Preconfiguring packages ...

2013-05-30 11:36:26,875 unit:oscied-webui/0: hook.output INFO: Fetched 17.3 MB in 3s (5625 kB/s)

2013-05-30 11:36:27,014 unit:oscied-webui/0: hook.output INFO: dpkg: libgd2-noxpm:amd64: dependency problems, but removing anyway as you requested:
 libgvc5 depends on libgd2-noxpm (>= 2.0.36~rc1~dfsg) | libgd2-xpm (>= 2.0.36~rc1~dfsg); however:
  Package libgd2-noxpm:amd64 is to be removed.
  Package libgd2-xpm is not installed.
 graphviz depends on libgd2-noxpm (>= 2.0.36~rc1~dfsg) | libgd2-xpm (>= 2.0.36~rc1~dfsg); however:
  Package libgd2-noxpm:amd64 is to be removed.
  Package libgd2-xpm is not installed.


2013-05-30 11:36:27,014 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:36:27,062 unit:oscied-webui/0: hook.output INFO: 56847 files and directories currently installed.)

2013-05-30 11:36:27,067 unit:oscied-webui/0: hook.output INFO: Removing libgd2-noxpm:amd64 ...

2013-05-30 11:36:27,137 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 11:36:27,151 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 11:36:27,288 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libgd2-xpm:amd64.

2013-05-30 11:36:27,288 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:36:27,335 unit:oscied-webui/0: hook.output INFO: 56838 files and directories currently installed.)

2013-05-30 11:36:27,340 unit:oscied-webui/0: hook.output INFO: Unpacking libgd2-xpm:amd64 (from .../libgd2-xpm_2.0.36~rc1~dfsg-6.1ubuntu1_amd64.deb) ...

2013-05-30 11:36:27,480 unit:oscied-webui/0: hook.output INFO: Setting up libgd2-xpm:amd64 (2.0.36~rc1~dfsg-6.1ubuntu1) ...

2013-05-30 11:36:27,529 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 11:36:27,540 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 11:36:27,685 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-common.

2013-05-30 11:36:27,686 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 11:36:27,732 unit:oscied-webui/0: hook.output INFO: 56847 files and directories currently installed.)

2013-05-30 11:36:27,737 unit:oscied-webui/0: hook.output INFO: Unpacking php5-common (from .../php5-common_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:27,887 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-cli.

2013-05-30 11:36:27,900 unit:oscied-webui/0: hook.output INFO: Unpacking php5-cli (from .../php5-cli_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:28,387 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapr1.

2013-05-30 11:36:28,400 unit:oscied-webui/0: hook.output INFO: Unpacking libapr1 (from .../libapr1_1.4.6-3ubuntu1_amd64.deb) ...

2013-05-30 11:36:28,519 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1.

2013-05-30 11:36:28,531 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1 (from .../libaprutil1_1.4.1-3_amd64.deb) ...

2013-05-30 11:36:28,639 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1-dbd-sqlite3.

2013-05-30 11:36:28,654 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1-dbd-sqlite3 (from .../libaprutil1-dbd-sqlite3_1.4.1-3_amd64.deb) ...

2013-05-30 11:36:28,811 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1-ldap.

2013-05-30 11:36:28,824 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1-ldap (from .../libaprutil1-ldap_1.4.1-3_amd64.deb) ...

2013-05-30 11:36:28,915 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.2-bin.

2013-05-30 11:36:28,928 unit:oscied-webui/0: hook.output INFO: Unpacking apache2.2-bin (from .../apache2.2-bin_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 11:36:29,371 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2-utils.

2013-05-30 11:36:29,384 unit:oscied-webui/0: hook.output INFO: Unpacking apache2-utils (from .../apache2-utils_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 11:36:29,515 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.2-common.

2013-05-30 11:36:29,530 unit:oscied-webui/0: hook.output INFO: Unpacking apache2.2-common (from .../apache2.2-common_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 11:36:29,848 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2-mpm-prefork.

2013-05-30 11:36:29,864 unit:oscied-webui/0: hook.output INFO: Unpacking apache2-mpm-prefork (from .../apache2-mpm-prefork_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 11:36:29,987 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapache2-mod-php5.

2013-05-30 11:36:30,003 unit:oscied-webui/0: hook.output INFO: Unpacking libapache2-mod-php5 (from .../libapache2-mod-php5_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:30,519 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-curl.

2013-05-30 11:36:30,535 unit:oscied-webui/0: hook.output INFO: Unpacking php5-curl (from .../php5-curl_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:30,663 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-gd.

2013-05-30 11:36:30,679 unit:oscied-webui/0: hook.output INFO: Unpacking php5-gd (from .../php5-gd_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:30,809 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-mysql.

2013-05-30 11:36:30,825 unit:oscied-webui/0: hook.output INFO: Unpacking php5-mysql (from .../php5-mysql_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 11:36:30,955 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.

2013-05-30 11:36:30,968 unit:oscied-webui/0: hook.output INFO: Unpacking apache2 (from .../apache2_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 11:36:31,097 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package dbconfig-common.

2013-05-30 11:36:31,113 unit:oscied-webui/0: hook.output INFO: Unpacking dbconfig-common (from .../dbconfig-common_1.8.47+nmu1_all.deb) ...

2013-05-30 11:36:31,371 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package wwwconfig-common.

2013-05-30 11:36:31,384 unit:oscied-webui/0: hook.output INFO: Unpacking wwwconfig-common (from .../wwwconfig-common_0.2.2_all.deb) ...

2013-05-30 11:36:31,515 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package javascript-common.

2013-05-30 11:36:31,527 unit:oscied-webui/0: hook.output INFO: Unpacking javascript-common (from .../javascript-common_8_all.deb) ...

2013-05-30 11:36:31,627 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapache2-mod-auth-mysql.

2013-05-30 11:36:31,642 unit:oscied-webui/0: hook.output INFO: Unpacking libapache2-mod-auth-mysql (from .../libapache2-mod-auth-mysql_4.3.9-13.1ubuntu1_amd64.deb) ...

2013-05-30 11:36:31,735 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-cookie.

2013-05-30 11:36:31,750 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-cookie (from .../libjs-jquery-cookie_8-2_all.deb) ...

2013-05-30 11:36:31,847 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-event-drag.

2013-05-30 11:36:31,858 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-event-drag (from .../libjs-jquery-event-drag_8-2_all.deb) ...

2013-05-30 11:36:31,955 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-metadata.

2013-05-30 11:36:31,968 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-metadata (from .../libjs-jquery-metadata_8-2_all.deb) ...

2013-05-30 11:36:32,071 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-mousewheel.

2013-05-30 11:36:32,083 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-mousewheel (from .../libjs-jquery-mousewheel_8-2_all.deb) ...

2013-05-30 11:36:32,175 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-tablesorter.

2013-05-30 11:36:32,190 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-tablesorter (from .../libjs-jquery-tablesorter_8-2_all.deb) ...

2013-05-30 11:36:32,311 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-ui.

2013-05-30 11:36:32,326 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-ui (from .../libjs-jquery-ui_1.8.ooops.21+dfsg-2_all.deb) ...

2013-05-30 11:36:32,530 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libmcrypt4.

2013-05-30 11:36:32,546 unit:oscied-webui/0: hook.output INFO: Unpacking libmcrypt4 (from .../libmcrypt4_2.5.8-3.1_amd64.deb) ...

2013-05-30 11:36:32,643 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5.

2013-05-30 11:36:32,657 unit:oscied-webui/0: hook.output INFO: Unpacking php5 (from .../php5_5.4.9-4ubuntu2_all.deb) ...

2013-05-30 11:36:32,751 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php-gettext.

2013-05-30 11:36:32,763 unit:oscied-webui/0: hook.output INFO: Unpacking php-gettext (from .../php-gettext_1.0.11-1_all.deb) ...

2013-05-30 11:36:32,871 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-mcrypt.

2013-05-30 11:36:32,883 unit:oscied-webui/0: hook.output INFO: Unpacking php5-mcrypt (from .../php5-mcrypt_5.4.6-0ubuntu1_amd64.deb) ...

2013-05-30 11:36:32,995 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package ssl-cert.

2013-05-30 11:36:33,010 unit:oscied-webui/0: hook.output INFO: Unpacking ssl-cert (from .../ssl-cert_1.0.32_all.deb) ...

2013-05-30 11:36:33,111 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-codemirror.

2013-05-30 11:36:33,126 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-codemirror (from .../libjs-codemirror_2.23-1_all.deb) ...

2013-05-30 11:36:33,320 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package phpmyadmin.

2013-05-30 11:36:33,336 unit:oscied-webui/0: hook.output INFO: Unpacking phpmyadmin (from .../phpmyadmin_4%3a3.5.8.1-1_all.deb) ...

2013-05-30 11:36:34,247 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 11:36:35,391 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:36:35,417 unit:oscied-webui/0: hook.output INFO: Processing triggers for ufw ...

2013-05-30 11:36:35,633 unit:oscied-webui/0: hook.output INFO: Setting up php5-common (5.4.9-4ubuntu2) ...

2013-05-30 11:36:36,044 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:36,046 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/pdo.ini with new version

2013-05-30 11:36:36,306 unit:oscied-webui/0: hook.output INFO: Setting up php5-cli (5.4.9-4ubuntu2) ...

2013-05-30 11:36:36,699 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:36,700 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/cli/php.ini with new version

2013-05-30 11:36:36,939 unit:oscied-webui/0: hook.output INFO: update-alternatives: 
2013-05-30 11:36:36,940 unit:oscied-webui/0: hook.output INFO: using /usr/bin/php5 to provide /usr/bin/php (php) in auto mode
2013-05-30 11:36:36,940 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:36,958 unit:oscied-webui/0: hook.output INFO: Setting up libapr1 (1.4.6-3ubuntu1) ...

2013-05-30 11:36:37,003 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1 (1.4.1-3) ...

2013-05-30 11:36:37,040 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1-dbd-sqlite3 (1.4.1-3) ...

2013-05-30 11:36:37,058 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1-ldap (1.4.1-3) ...

2013-05-30 11:36:37,078 unit:oscied-webui/0: hook.output INFO: Setting up apache2.2-bin (2.2.22-6ubuntu5) ...

2013-05-30 11:36:37,097 unit:oscied-webui/0: hook.output INFO: Setting up apache2-utils (2.2.22-6ubuntu5) ...

2013-05-30 11:36:37,116 unit:oscied-webui/0: hook.output INFO: Setting up apache2.2-common (2.2.22-6ubuntu5) ...

2013-05-30 11:36:37,955 unit:oscied-webui/0: hook.output INFO: Enabling site default.

2013-05-30 11:36:38,025 unit:oscied-webui/0: hook.output INFO: Enabling module alias.

2013-05-30 11:36:38,083 unit:oscied-webui/0: hook.output INFO: Enabling module autoindex.

2013-05-30 11:36:38,141 unit:oscied-webui/0: hook.output INFO: Enabling module dir.

2013-05-30 11:36:38,198 unit:oscied-webui/0: hook.output INFO: Enabling module env.

2013-05-30 11:36:38,255 unit:oscied-webui/0: hook.output INFO: Enabling module mime.

2013-05-30 11:36:38,312 unit:oscied-webui/0: hook.output INFO: Enabling module negotiation.

2013-05-30 11:36:38,370 unit:oscied-webui/0: hook.output INFO: Enabling module setenvif.

2013-05-30 11:36:38,427 unit:oscied-webui/0: hook.output INFO: Enabling module status.

2013-05-30 11:36:38,485 unit:oscied-webui/0: hook.output INFO: Enabling module auth_basic.

2013-05-30 11:36:38,542 unit:oscied-webui/0: hook.output INFO: Enabling module deflate.

2013-05-30 11:36:38,601 unit:oscied-webui/0: hook.output INFO: Enabling module authz_default.

2013-05-30 11:36:38,658 unit:oscied-webui/0: hook.output INFO: Enabling module authz_user.

2013-05-30 11:36:38,715 unit:oscied-webui/0: hook.output INFO: Enabling module authz_groupfile.

2013-05-30 11:36:38,774 unit:oscied-webui/0: hook.output INFO: Enabling module authn_file.

2013-05-30 11:36:38,834 unit:oscied-webui/0: hook.output INFO: Enabling module authz_host.

2013-05-30 11:36:38,910 unit:oscied-webui/0: hook.output INFO: Enabling module reqtimeout.

2013-05-30 11:36:38,953 unit:oscied-webui/0: hook.output INFO: Setting up php5-curl (5.4.9-4ubuntu2) ...

2013-05-30 11:36:39,445 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:39,446 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/curl.ini with new version

2013-05-30 11:36:39,705 unit:oscied-webui/0: hook.output INFO: Setting up php5-gd (5.4.9-4ubuntu2) ...

2013-05-30 11:36:40,116 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:40,117 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/gd.ini with new version

2013-05-30 11:36:40,380 unit:oscied-webui/0: hook.output INFO: Setting up php5-mysql (5.4.9-4ubuntu2) ...

2013-05-30 11:36:40,799 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:40,800 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/mysql.ini with new version

2013-05-30 11:36:41,452 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:41,453 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/mysqli.ini with new version

2013-05-30 11:36:42,110 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:42,112 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/pdo_mysql.ini with new version

2013-05-30 11:36:42,385 unit:oscied-webui/0: hook.output INFO: Setting up dbconfig-common (1.8.47+nmu1) ...

2013-05-30 11:36:42,833 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:42,834 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/dbconfig-common/config with new version

2013-05-30 11:36:43,092 unit:oscied-webui/0: hook.output INFO: Setting up wwwconfig-common (0.2.2) ...

2013-05-30 11:36:43,110 unit:oscied-webui/0: hook.output INFO: Setting up javascript-common (8) ...

2013-05-30 11:36:43,170 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-cookie (8-2) ...

2013-05-30 11:36:43,191 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-event-drag (8-2) ...

2013-05-30 11:36:43,212 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-metadata (8-2) ...

2013-05-30 11:36:43,232 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-mousewheel (8-2) ...

2013-05-30 11:36:43,251 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-tablesorter (8-2) ...

2013-05-30 11:36:43,271 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-ui (1.8.ooops.21+dfsg-2) ...

2013-05-30 11:36:43,291 unit:oscied-webui/0: hook.output INFO: Setting up libmcrypt4 (2.5.8-3.1) ...

2013-05-30 11:36:43,329 unit:oscied-webui/0: hook.output INFO: Setting up php-gettext (1.0.11-1) ...

2013-05-30 11:36:43,347 unit:oscied-webui/0: hook.output INFO: Setting up php5-mcrypt (5.4.6-0ubuntu1) ...

2013-05-30 11:36:43,374 unit:oscied-webui/0: hook.output INFO: Setting up ssl-cert (1.0.32) ...

2013-05-30 11:36:44,161 unit:oscied-webui/0: hook.output INFO: Setting up libjs-codemirror (2.23-1) ...

2013-05-30 11:36:44,180 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 11:36:44,196 unit:oscied-webui/0: hook.output INFO: Processing triggers for ufw ...

2013-05-30 11:36:44,323 unit:oscied-webui/0: hook.output INFO: Setting up libapache2-mod-auth-mysql (4.3.9-13.1ubuntu1) ...

2013-05-30 11:36:44,362 unit:oscied-webui/0: hook.output INFO: Setting up apache2-mpm-prefork (2.2.22-6ubuntu5) ...

2013-05-30 11:36:44,551 unit:oscied-webui/0: hook.output INFO:  * Starting web server apache2

2013-05-30 11:36:44,603 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:36:44,624 unit:oscied-webui/0: hook.output INFO: Setting up libapache2-mod-php5 (5.4.9-4ubuntu2) ...

2013-05-30 11:36:45,051 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:45,053 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/apache2/php.ini with new version

2013-05-30 11:36:45,474 unit:oscied-webui/0: hook.output INFO:  * Restarting web server apache2

2013-05-30 11:36:45,593 unit:oscied-webui/0: hook.output INFO:  ... waiting 
2013-05-30 11:36:46,655 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:36:46,672 unit:oscied-webui/0: hook.output INFO: Setting up apache2 (2.2.22-6ubuntu5) ...

2013-05-30 11:36:46,711 unit:oscied-webui/0: hook.output INFO: Setting up php5 (5.4.9-4ubuntu2) ...

2013-05-30 11:36:46,731 unit:oscied-webui/0: hook.output INFO: Setting up phpmyadmin (4:3.5.8.1-1) ...

2013-05-30 11:36:47,135 unit:oscied-webui/0: hook.output INFO: dbconfig-common: writing config to /etc/dbconfig-common/phpmyadmin.conf

2013-05-30 11:36:47,334 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:47,336 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/dbconfig-common/phpmyadmin.conf with new version

2013-05-30 11:36:47,648 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 11:36:47,649 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/phpmyadmin/config-db.php with new version

2013-05-30 11:36:47,784 unit:oscied-webui/0: hook.output INFO: granting access to database phpmyadmin for phpmyadmin@localhost: 
2013-05-30 11:36:47,852 unit:oscied-webui/0: hook.output INFO: success.
verifying access for phpmyadmin@localhost: 
2013-05-30 11:36:47,886 unit:oscied-webui/0: hook.output INFO: success.

2013-05-30 11:36:47,910 unit:oscied-webui/0: hook.output INFO: creating database phpmyadmin: 
2013-05-30 11:36:47,975 unit:oscied-webui/0: hook.output INFO: success.
verifying database phpmyadmin exists: 
2013-05-30 11:36:48,010 unit:oscied-webui/0: hook.output INFO: success.
populating database via sql...  
2013-05-30 11:36:48,106 unit:oscied-webui/0: hook.output INFO: done.

2013-05-30 11:36:48,111 unit:oscied-webui/0: hook.output INFO: dbconfig-common: flushing administrative password

2013-05-30 11:36:48,195 unit:oscied-webui/0: hook.output INFO:  * Reloading web server config

2013-05-30 11:36:48,331 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:36:48,523 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 11:36:48,533 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 11:36:49,461 unit:oscied-webui/0: hook.output INFO: Enabling module rewrite.
To activate the new configuration, you need to run:
  service apache2 restart

2013-05-30 11:36:49,764 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Copy and configure Web User Interface
2013-05-30 11:36:49,807 unit:oscied-webui/0: hook.output INFO: sending incremental file list

2013-05-30 11:36:49,812 unit:oscied-webui/0: hook.output INFO: ./

2013-05-30 11:36:49,812 unit:oscied-webui/0: hook.output INFO: deleting index.html

2013-05-30 11:36:49,813 unit:oscied-webui/0: hook.output INFO: .htaccess

         352 100%    0.00kB/s    0:00:00  0: hook.output INFO: 
         352 100%    0.00kB/s    0:00:00 (xfer#1, to-check=402/404)

2013-05-30 11:36:49,814 unit:oscied-webui/0: hook.output INFO: index.php

       6.36K 100%    6.06MB/s    0:00:00  0: hook.output INFO: 
       6.36K 100%    6.06MB/s    0:00:00 (xfer#2, to-check=401/404)

2013-05-30 11:36:49,815 unit:oscied-webui/0: hook.output INFO: license.txt

       2.50K 100%    1.19MB/s    0:00:00 (xfer#3, to-check=400/404)

2013-05-30 11:36:49,817 unit:oscied-webui/0: hook.output INFO: application/
application/.htaccess
          13 100%    3.17kB/s    0:00:00 (xfer#4, to-check=393/404)
application/index.html
         114 100%   27.83kB/s    0:00:00 (xfer#5, to-check=392/404)

2013-05-30 11:36:49,818 unit:oscied-webui/0: hook.output INFO: application/cache/
application/cache/.htaccess
          13 100%    2.54kB/s    0:00:00 (xfer#6, to-check=378/404)
application/cache/index.html
         114 100%   22.27kB/s    0:00:00 (xfer#7, to-check=377/404)

2013-05-30 11:36:49,819 unit:oscied-webui/0: hook.output INFO: application/config/
application/config/autoload.php
       3.15K 100%  614.26kB/s    0:00:00 (xfer#8, to-check=376/404)
application/config/config.php

      14.28K 100%    1.13MB/s    0:00:00 (xfer#9, to-check=375/404)
application/config/constants.php
       1.71K 100%  139.32kB/s    0:00:00 (xfer#10, to-check=374/404)
application/config/database.php

       3.24K 100%  243.24kB/s    0:00:00 (xfer#11, to-check=373/404)
application/config/doctypes.php
       1.14K 100%   79.38kB/s    0:00:00 (xfer#12, to-check=372/404)
application/config/foreign_chars.php

       1.78K 100%  108.70kB/s    0:00:00 (xfer#13, to-check=371/404)
application/config/hooks.php
         498 100%   30.40kB/s    0:00:00 (xfer#14, to-check=370/404)
application/config/index.html
         114 100%    6.96kB/s    0:00:00 (xfer#15, to-check=369/404)
application/config/migration.php
       1.28K 100%   78.25kB/s    0:00:00 (xfer#16, to-check=368/404)
application/config/mimes.php

       5.42K 100%  240.81kB/s    0:00:00 (xfer#17, to-check=367/404)
application/config/pagination.php
       1.03K 100%   45.68kB/s    0:00:00 (xfer#18, to-check=366/404)
application/config/profiler.php
         564 100%   25.04kB/s    0:00:00 (xfer#19, to-check=365/404)
application/config/routes.php
       1.57K 100%   69.82kB/s    0:00:00 (xfer#20, to-check=364/404)
application/config/smileys.php

       3.29K 100%  139.90kB/s    0:00:00 (xfer#21, to-check=363/404)

2013-05-30 11:36:49,837 unit:oscied-webui/0: hook.output INFO: application/config/user_agents.php
       5.59K 100%  237.30kB/s    0:00:00 (xfer#22, to-check=362/404)

2013-05-30 11:36:49,837 unit:oscied-webui/0: hook.output INFO: application/controllers/
application/controllers/index.html
         114 100%    4.64kB/s    0:00:00 (xfer#23, to-check=361/404)
application/controllers/media.php

       8.48K 100%  331.21kB/s    0:00:00 (xfer#24, to-check=360/404)
application/controllers/misc.php
         620 100%   24.22kB/s    0:00:00 (xfer#25, to-check=359/404)
application/controllers/profile.php

       5.61K 100%  210.82kB/s    0:00:00 (xfer#26, to-check=358/404)
application/controllers/publisher.php

       5.16K 100%  186.49kB/s    0:00:00 (xfer#27, to-check=357/404)
application/controllers/transform.php

       5.84K 100%  203.54kB/s    0:00:00 (xfer#28, to-check=356/404)
application/controllers/upload_files.php
       2.53K 100%   88.34kB/s    0:00:00  
       2.53K 100%   88.34kB/s    0:00:00 (xfer#29, to-check=355/404)

2013-05-30 11:36:49,843 unit:oscied-webui/0: hook.output INFO: application/controllers/users.php

      10.32K 100%  335.84kB/s    0:00:00 (xfer#30, to-check=354/404)

2013-05-30 11:36:49,844 unit:oscied-webui/0: hook.output INFO: application/core/
application/core/MY_Controller.php
         733 100%   23.86kB/s    0:00:00 (xfer#31, to-check=353/404)
application/core/MY_Loader.php
       7.11K 100%  231.28kB/s    0:00:00 (xfer#32, to-check=352/404)

2013-05-30 11:36:49,845 unit:oscied-webui/0: hook.output INFO: application/core/index.html
         114 100%    3.59kB/s    0:00:00 (xfer#33, to-check=351/404)

2013-05-30 11:36:49,846 unit:oscied-webui/0: hook.output INFO: application/errors/
application/errors/error_404.php
       1.16K 100%   35.40kB/s    0:00:00 (xfer#34, to-check=350/404)
application/errors/error_db.php
       1.16K 100%   35.28kB/s    0:00:00 (xfer#35, to-check=349/404)
application/errors/error_general.php
       1.15K 100%   35.00kB/s    0:00:00 (xfer#36, to-check=348/404)
application/errors/error_php.php
         288 100%    8.79kB/s    0:00:00 (xfer#37, to-check=347/404)
application/errors/index.html
         114 100%    3.48kB/s    0:00:00 (xfer#38, to-check=346/404)
application/helpers/
application/helpers/MY_download_helper.php
       3.12K 100%   95.18kB/s    0:00:00 (xfer#39, to-check=345/404)
application/helpers/flash_message_helper.php

       1.39K 100%   41.05kB/s    0:00:00 (xfer#40, to-check=344/404)
application/helpers/index.html
         114 100%    3.37kB/s    0:00:00 (xfer#41, to-check=343/404)
application/helpers/simple_html_dom_helper.php

      32.77K  61%  864.86kB/s    0:00:00  0: hook.output INFO: 
      53.22K 100%    1.34MB/s    0:00:00 (xfer#42, to-check=342/404)

2013-05-30 11:36:49,852 unit:oscied-webui/0: hook.output INFO: application/hooks/
application/hooks/index.html
         114 100%    2.85kB/s    0:00:00 (xfer#43, to-check=341/404)
application/language/
application/language/english/
application/language/english/index.html
         114 100%    2.85kB/s    0:00:00 (xfer#44, to-check=339/404)
application/libraries/
application/libraries/Css_js.php
         794 100%   19.88kB/s    0:00:00 (xfer#45, to-check=338/404)
application/libraries/MY_Form_validation.php
         488 100%   12.22kB/s    0:00:00 (xfer#46, to-check=337/404)
application/libraries/User.php
       1.41K 100%   35.18kB/s    0:00:00 (xfer#47, to-check=336/404)
application/libraries/index.html
         114 100%    2.85kB/s    0:00:00 (xfer#48, to-check=335/404)

2013-05-30 11:36:49,853 unit:oscied-webui/0: hook.output INFO: application/logs/
application/logs/index.html
         114 100%    2.85kB/s    0:00:00 (xfer#49, to-check=334/404)
application/models/
application/models/files_model.php
       1.66K 100%   41.47kB/s    0:00:00 (xfer#50, to-check=333/404)
application/models/index.html
         114 100%    2.78kB/s    0:00:00 (xfer#51, to-check=332/404)
application/models/tmp_files_model.php
       1.49K 100%   36.33kB/s    0:00:00 (xfer#52, to-check=331/404)

2013-05-30 11:36:49,855 unit:oscied-webui/0: hook.output INFO: application/third_party/
application/third_party/index.html
         114 100%    2.78kB/s    0:00:00 (xfer#53, to-check=330/404)
application/views/
application/views/contact.php
          11 100%    0.27kB/s    0:00:00 (xfer#54, to-check=329/404)
application/views/homepage.php
          24 100%    0.59kB/s    0:00:00 (xfer#55, to-check=328/404)
application/views/index.html
         114 100%    2.78kB/s    0:00:00 (xfer#56, to-check=327/404)
application/views/fileupload/
application/views/fileupload/scripts.php
       4.63K 100%  110.35kB/s    0:00:00 (xfer#57, to-check=319/404)
application/views/fileupload/upload.php
         968 100%   23.06kB/s    0:00:00 (xfer#58, to-check=318/404)
application/views/layouts/
application/views/layouts/default.php
       1.77K 100%   42.14kB/s    0:00:00 (xfer#59, to-check=317/404)
application/views/layouts/default_header.php
       3.79K 100%   90.32kB/s    0:00:00 (xfer#60, to-check=316/404)
application/views/media/
application/views/media/add_media_form.php
       3.60K 100%   85.77kB/s    0:00:00 (xfer#61, to-check=315/404)
application/views/media/show.php
         642 100%   15.29kB/s    0:00:00 (xfer#62, to-check=314/404)

2013-05-30 11:36:49,858 unit:oscied-webui/0: hook.output INFO: application/views/media/show_medias.php
       2.70K 100%   61.41kB/s    0:00:00 (xfer#63, to-check=313/404)
application/views/profile/
application/views/profile/add_profile_form.php
       1.72K 100%   39.04kB/s    0:00:00 (xfer#64, to-check=312/404)
application/views/profile/show.php
         660 100%   14.99kB/s    0:00:00 (xfer#65, to-check=311/404)
application/views/profile/show_profiles.php
       1.39K 100%   30.89kB/s    0:00:00 (xfer#66, to-check=310/404)

2013-05-30 11:36:49,858 unit:oscied-webui/0: hook.output INFO: application/views/publisher/
application/views/publisher/launch_publish_form.php
       1.40K 100%   30.32kB/s    0:00:00 (xfer#67, to-check=309/404)
application/views/publisher/show.php
         654 100%   14.19kB/s    0:00:00 (xfer#68, to-check=308/404)

2013-05-30 11:36:49,859 unit:oscied-webui/0: hook.output INFO: application/views/publisher/show_jobs.php

       4.50K 100%   95.64kB/s    0:00:00 (xfer#69, to-check=307/404)

2013-05-30 11:36:49,861 unit:oscied-webui/0: hook.output INFO: application/views/transform/
application/views/transform/launch_transform_form.php
       1.84K 100%   38.34kB/s    0:00:00 (xfer#70, to-check=306/404)
application/views/transform/show.php
         654 100%   13.59kB/s    0:00:00 (xfer#71, to-check=305/404)

2013-05-30 11:36:49,861 unit:oscied-webui/0: hook.output INFO: application/views/transform/show_jobs.php

       4.79K 100%   97.49kB/s    0:00:00 (xfer#72, to-check=304/404)

2013-05-30 11:36:49,864 unit:oscied-webui/0: hook.output INFO: application/views/users/
application/views/users/add_user_form.php
       1.80K 100%   35.93kB/s    0:00:00 (xfer#73, to-check=303/404)
application/views/users/login_modal.php
       1.60K 100%   31.93kB/s    0:00:00 (xfer#74, to-check=302/404)
application/views/users/show.php
       1.82K 100%   36.33kB/s    0:00:00 (xfer#75, to-check=301/404)

2013-05-30 11:36:49,865 unit:oscied-webui/0: hook.output INFO: application/views/users/show_users.php
       3.32K 100%   63.57kB/s    0:00:00 (xfer#76, to-check=300/404)
assets/
assets/index.html
         114 100%    2.18kB/s    0:00:00 (xfer#77, to-check=299/404)
assets/css/
assets/css/bootstrap-responsive.css

      21.75K 100%  400.78kB/s    0:00:00 (xfer#78, to-check=295/404)
assets/css/bootstrap-responsive.min.css

      16.55K 100%  293.91kB/s    0:00:00 (xfer#79, to-check=294/404)
assets/css/bootstrap.css

      32.77K  26%  571.43kB/s    0:00:00  0: hook.output INFO: 
     124.22K 100%    2.01MB/s    0:00:00 (xfer#80, to-check=293/404)
assets/css/bootstrap.min.css

      32.77K  31%  524.59kB/s    0:00:00  0: hook.output INFO: 
     103.31K 100%    1.56MB/s    0:00:00 (xfer#81, to-check=292/404)
assets/css/custom.css
       1.30K 100%   20.09kB/s    0:00:00 (xfer#82, to-check=291/404)

2013-05-30 11:36:49,877 unit:oscied-webui/0: hook.output INFO: assets/css/style.css
       2.14K 100%   33.11kB/s    0:00:00 (xfer#83, to-check=290/404)
assets/css/fileupload/
assets/css/fileupload/bootstrap-image-gallery.min.css
       1.69K 100%   26.23kB/s    0:00:00 (xfer#84, to-check=288/404)
assets/css/fileupload/jquery-ui.css

      33.40K 100%  501.85kB/s    0:00:00 (xfer#85, to-check=287/404)

2013-05-30 11:36:49,879 unit:oscied-webui/0: hook.output INFO: assets/css/fileupload/jquery.fileupload-ui.css
       1.28K 100%   19.17kB/s    0:00:00 (xfer#86, to-check=286/404)
assets/img/
assets/img/glyphicons-halflings-white.png

       8.78K 100%  127.93kB/s    0:00:00 (xfer#87, to-check=285/404)
assets/img/glyphicons-halflings.png

      12.80K 100%  183.81kB/s    0:00:00 (xfer#88, to-check=284/404)
assets/img/home-bg.jpg

      32.77K   0%  457.14kB/s    0:00:20  0: hook.output INFO: 
       9.26M 100%   37.27MB/s    0:00:00 (xfer#89, to-check=283/404)

2013-05-30 11:36:50,051 unit:oscied-webui/0: hook.output INFO: assets/img/home-bg11.jpg

      32.77K  39%  133.33kB/s    0:00:00  0: hook.output INFO: 
      82.00K 100%  332.27kB/s    0:00:00 (xfer#90, to-check=282/404)

2013-05-30 11:36:50,054 unit:oscied-webui/0: hook.output INFO: assets/img/fileupload/
assets/img/fileupload/loading.gif
       3.90K 100%   15.73kB/s    0:00:00 (xfer#91, to-check=279/404)
assets/img/fileupload/progressbar.gif
       3.32K 100%   13.41kB/s    0:00:00 (xfer#92, to-check=278/404)

2013-05-30 11:36:50,055 unit:oscied-webui/0: hook.output INFO: assets/img/icons/
assets/img/icons/add.png

       5.49K 100%   22.08kB/s    0:00:00 (xfer#93, to-check=277/404)
assets/img/icons/calendar.png

       3.98K 100%   15.94kB/s    0:00:00 (xfer#94, to-check=276/404)
assets/img/icons/chat.png

       5.54K 100%   22.17kB/s    0:00:00 (xfer#95, to-check=275/404)
assets/img/icons/comment.png

       5.24K 100%   20.87kB/s    0:00:00 (xfer#96, to-check=274/404)
assets/img/icons/contacts.png

       5.90K 100%   23.50kB/s    0:00:00 (xfer#97, to-check=273/404)
assets/img/icons/contacts2.png

       5.77K 100%   22.91kB/s    0:00:00 (xfer#98, to-check=272/404)
assets/img/icons/delete.png

       5.49K 100%   21.71kB/s    0:00:00 (xfer#99, to-check=271/404)
assets/img/icons/edit.png

       5.08K 100%   20.02kB/s    0:00:00 (xfer#100, to-check=270/404)
assets/img/icons/edit2.png

       4.36K 100%   17.18kB/s    0:00:00 (xfer#101, to-check=269/404)
assets/img/icons/email.png

       4.56K 100%   17.88kB/s    0:00:00 (xfer#102, to-check=268/404)
assets/img/icons/favorite.png

       5.04K 100%   19.67kB/s    0:00:00 (xfer#103, to-check=267/404)
assets/img/icons/picture.png

       4.29K 100%   16.69kB/s    0:00:00 (xfer#104, to-check=266/404)
assets/img/icons/preferences.png

       6.26K 100%   24.34kB/s    0:00:00 (xfer#105, to-check=265/404)
assets/img/icons/rss.png
       4.91K 100%   19.01kB/s    0:00:00 (xfer#106, to-check=264/404)
assets/img/icons/save.png

       3.69K 100%   14.30kB/s    0:00:00 (xfer#107, to-check=263/404)
assets/img/icons/search.png
       5.12K 100%   19.86kB/s    0:00:00 (xfer#108, to-check=262/404)
assets/img/icons/user.png

       4.05K 100%   15.64kB/s    0:00:00 (xfer#109, to-check=261/404)
assets/img/icons/validate.png
       4.41K 100%   17.02kB/s    0:00:00 (xfer#110, to-check=260/404)

2013-05-30 11:36:50,068 unit:oscied-webui/0: hook.output INFO: assets/img/icons/video.png
       4.27K 100%   16.41kB/s    0:00:00 (xfer#111, to-check=259/404)
assets/img/icons/pack1/
assets/img/icons/pack1/calendar.png
       4.18K 100%   15.99kB/s    0:00:00 (xfer#112, to-check=257/404)
assets/img/icons/pack1/comment.png

       4.12K 100%   15.73kB/s    0:00:00 (xfer#113, to-check=256/404)
assets/img/icons/pack1/comment2.png
       4.16K 100%   15.87kB/s    0:00:00 (xfer#114, to-check=255/404)
assets/img/icons/pack1/delete.png

       4.48K 100%   17.02kB/s    0:00:00 (xfer#115, to-check=254/404)
assets/img/icons/pack1/edit.png
       4.36K 100%   16.58kB/s    0:00:00 (xfer#116, to-check=253/404)
assets/img/icons/pack1/info.png
       4.44K 100%   16.81kB/s    0:00:00 (xfer#117, to-check=252/404)
assets/img/icons/pack1/picture.png
       4.53K 100%   17.14kB/s    0:00:00 (xfer#118, to-check=251/404)
assets/img/icons/pack1/save.png
       3.77K 100%   14.26kB/s    0:00:00 (xfer#119, to-check=250/404)
assets/img/icons/pack1/search.png

       4.66K 100%   17.56kB/s    0:00:00 (xfer#120, to-check=249/404)
assets/img/icons/pack1/validate.png
       4.14K 100%   15.60kB/s    0:00:00 (xfer#121, to-check=248/404)

2013-05-30 11:36:50,073 unit:oscied-webui/0: hook.output INFO: assets/img/icons/pack1/video.png
       3.87K 100%   14.52kB/s    0:00:00 (xfer#122, to-check=247/404)
assets/js/
assets/js/bootstrap.js

      32.77K  55%  121.67kB/s    0:00:00  0: hook.output INFO: 
      58.52K 100%  216.46kB/s    0:00:00 (xfer#123, to-check=246/404)
assets/js/bootstrap.min.js

      31.60K 100%  116.44kB/s    0:00:00 (xfer#124, to-check=245/404)

2013-05-30 11:36:50,079 unit:oscied-webui/0: hook.output INFO: assets/js/jquery-1.8.0.min.js

      32.77K  35%  119.85kB/s    0:00:00  0: hook.output INFO: 
      92.56K 100%  337.26kB/s    0:00:00 (xfer#125, to-check=244/404)
assets/js/fileupload/
assets/js/fileupload/canvas-to-blob.js
         859 100%    3.13kB/s    0:00:00 (xfer#126, to-check=242/404)
assets/js/fileupload/jquery-ui.min.js

      32.77K  16%  118.52kB/s    0:00:01  0: hook.output INFO: 
     200.10K 100%  713.19kB/s    0:00:00 (xfer#127, to-check=241/404)
assets/js/fileupload/jquery.fileupload-fp.js

       8.40K 100%   29.83kB/s    0:00:00 (xfer#128, to-check=240/404)
assets/js/fileupload/jquery.fileupload-ui.js

      27.99K 100%   99.04kB/s    0:00:00 (xfer#129, to-check=239/404)
assets/js/fileupload/jquery.fileupload.js

      32.77K  77%  115.11kB/s    0:00:00  0: hook.output INFO: 
      42.37K 100%  148.84kB/s    0:00:00 (xfer#130, to-check=238/404)
assets/js/fileupload/jquery.iframe-transport.js

       8.09K 100%   28.31kB/s    0:00:00 (xfer#131, to-check=237/404)
assets/js/fileupload/load-image.js
       1.28K 100%    4.47kB/s    0:00:00 (xfer#132, to-check=236/404)
assets/js/fileupload/locale.js
         781 100%    2.73kB/s    0:00:00 (xfer#133, to-check=235/404)
assets/js/fileupload/main.js

       1.89K 100%    6.59kB/s    0:00:00 (xfer#134, to-check=234/404)
assets/js/fileupload/tmpl.js
         971 100%    3.39kB/s    0:00:00 (xfer#135, to-check=233/404)

2013-05-30 11:36:50,093 unit:oscied-webui/0: hook.output INFO: assets/js/fileupload/tmpl.min.js
         971 100%    3.39kB/s    0:00:00 (xfer#136, to-check=232/404)
assets/js/fileupload/cors/
assets/js/fileupload/cors/jquery.postmessage-transport.js
       4.00K 100%   13.95kB/s    0:00:00 (xfer#137, to-check=229/404)
assets/js/fileupload/cors/jquery.xdr-transport.js

       3.21K 100%   11.17kB/s    0:00:00 (xfer#138, to-check=228/404)
assets/js/fileupload/cors/result.html
         504 100%    1.75kB/s    0:00:00 (xfer#139, to-check=227/404)
assets/js/fileupload/vendor/
assets/js/fileupload/vendor/jquery.ui.widget.js
       7.28K 100%   25.30kB/s    0:00:00 (xfer#140, to-check=226/404)
profiles/
profiles/default_profile.png
       2.15K 100%    7.46kB/s    0:00:00 (xfer#141, to-check=225/404)

2013-05-30 11:36:50,095 unit:oscied-webui/0: hook.output INFO: profiles/profile_1.jpg
       4.00K 100%   13.84kB/s    0:00:00 (xfer#142, to-check=224/404)
sparks/
sparks/curl/

2013-05-30 11:36:50,096 unit:oscied-webui/0: hook.output INFO: sparks/curl/1.2.1/
sparks/curl/1.2.1/README.md
       2.40K 100%    8.27kB/s    0:00:00 (xfer#143, to-check=220/404)
sparks/curl/1.2.1/spark.info
          58 100%    0.20kB/s    0:00:00 (xfer#144, to-check=219/404)

2013-05-30 11:36:50,097 unit:oscied-webui/0: hook.output INFO: sparks/curl/1.2.1/config/
sparks/curl/1.2.1/config/autoload.php
          99 100%    0.34kB/s    0:00:00 (xfer#145, to-check=216/404)
sparks/curl/1.2.1/libraries/
sparks/curl/1.2.1/libraries/Curl.php

       9.68K 100%   33.18kB/s    0:00:00 (xfer#146, to-check=215/404)

2013-05-30 11:36:50,099 unit:oscied-webui/0: hook.output INFO: sparks/restclient/
sparks/restclient/2.1.0/
sparks/restclient/2.1.0/README.md
         862 100%    2.94kB/s    0:00:00 (xfer#147, to-check=213/404)
sparks/restclient/2.1.0/spark.info
          79 100%    0.27kB/s    0:00:00 (xfer#148, to-check=212/404)
sparks/restclient/2.1.0/config/
sparks/restclient/2.1.0/config/autoload.php
          95 100%    0.32kB/s    0:00:00 (xfer#149, to-check=209/404)
sparks/restclient/2.1.0/libraries/
sparks/restclient/2.1.0/libraries/Rest.php
       8.22K 100%   27.98kB/s    0:00:00 (xfer#150, to-check=208/404)

2013-05-30 11:36:50,100 unit:oscied-webui/0: hook.output INFO: sparks/restclient/2.1.0/libraries/index.html
         114 100%    0.39kB/s    0:00:00 (xfer#151, to-check=207/404)
system/
system/.htaccess
          13 100%    0.04kB/s    0:00:00 (xfer#152, to-check=206/404)
system/index.html
         114 100%    0.39kB/s    0:00:00 (xfer#153, to-check=205/404)
system/core/
system/core/Benchmark.php
       2.95K 100%   10.00kB/s    0:00:00 (xfer#154, to-check=198/404)
system/core/CodeIgniter.php

      11.39K 100%   38.49kB/s    0:00:00 (xfer#155, to-check=197/404)
system/core/Common.php

      13.42K 100%   45.18kB/s    0:00:00 (xfer#156, to-check=196/404)
system/core/Config.php

       8.16K 100%   27.39kB/s    0:00:00 (xfer#157, to-check=195/404)
system/core/Controller.php

       1.57K 100%    5.24kB/s    0:00:00 (xfer#158, to-check=194/404)
system/core/Exceptions.php

       4.70K 100%   15.70kB/s    0:00:00 (xfer#159, to-check=193/404)
system/core/Hooks.php

       4.70K 100%   15.65kB/s    0:00:00 (xfer#160, to-check=192/404)
system/core/Input.php

      18.43K 100%   61.21kB/s    0:00:00 (xfer#161, to-check=191/404)
system/core/Lang.php
       3.63K 100%   12.06kB/s    0:00:00 (xfer#162, to-check=190/404)
system/core/Loader.php

      30.58K 100%  101.22kB/s    0:00:00 (xfer#163, to-check=189/404)
system/core/Model.php
       1.19K 100%    3.94kB/s    0:00:00 (xfer#164, to-check=188/404)
system/core/Output.php

      12.94K 100%   42.68kB/s    0:00:00 (xfer#165, to-check=187/404)
system/core/Router.php

      12.39K 100%   40.75kB/s    0:00:00 (xfer#166, to-check=186/404)
system/core/Security.php

      21.92K 100%   71.84kB/s    0:00:00 (xfer#167, to-check=185/404)
system/core/URI.php

      14.44K 100%   47.17kB/s    0:00:00 (xfer#168, to-check=184/404)
system/core/Utf8.php

       3.58K 100%   11.71kB/s    0:00:00 (xfer#169, to-check=183/404)

2013-05-30 11:36:50,113 unit:oscied-webui/0: hook.output INFO: system/core/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#170, to-check=182/404)
system/database/
system/database/DB.php
       4.19K 100%   13.64kB/s    0:00:00 (xfer#171, to-check=181/404)
system/database/DB_active_rec.php

      32.77K  76%  106.31kB/s    0:00:00  0: hook.output INFO: 
      42.98K 100%  138.97kB/s    0:00:00 (xfer#172, to-check=180/404)
system/database/DB_cache.php

       4.38K 100%   14.16kB/s    0:00:00 (xfer#173, to-check=179/404)
system/database/DB_driver.php

      32.65K 100%  104.88kB/s    0:00:00 (xfer#174, to-check=178/404)
system/database/DB_forge.php

       7.45K 100%   23.92kB/s    0:00:00 (xfer#175, to-check=177/404)
system/database/DB_result.php
       9.02K 100%   28.97kB/s    0:00:00 (xfer#176, to-check=176/404)
system/database/DB_utility.php
       9.80K 100%   31.39kB/s    0:00:00 (xfer#177, to-check=175/404)

2013-05-30 11:36:50,118 unit:oscied-webui/0: hook.output INFO: system/database/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#178, to-check=174/404)
system/database/drivers/
system/database/drivers/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#179, to-check=172/404)
system/database/drivers/cubrid/
system/database/drivers/cubrid/cubrid_driver.php

      17.89K 100%   57.10kB/s    0:00:00 (xfer#180, to-check=161/404)
system/database/drivers/cubrid/cubrid_forge.php
       7.06K 100%   22.45kB/s    0:00:00 (xfer#181, to-check=160/404)
system/database/drivers/cubrid/cubrid_result.php

       4.51K 100%   14.29kB/s    0:00:00 (xfer#182, to-check=159/404)
system/database/drivers/cubrid/cubrid_utility.php
       2.87K 100%    9.10kB/s    0:00:00 (xfer#183, to-check=158/404)

2013-05-30 11:36:50,122 unit:oscied-webui/0: hook.output INFO: system/database/drivers/cubrid/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#184, to-check=157/404)
system/database/drivers/mssql/
system/database/drivers/mssql/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#185, to-check=156/404)
system/database/drivers/mssql/mssql_driver.php
      14.84K 100%   46.89kB/s    0:00:00 (xfer#186, to-check=155/404)
system/database/drivers/mssql/mssql_forge.php
       5.79K 100%   18.31kB/s    0:00:00 (xfer#187, to-check=154/404)
system/database/drivers/mssql/mssql_result.php
       3.37K 100%   10.66kB/s    0:00:00 (xfer#188, to-check=153/404)

2013-05-30 11:36:50,122 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mssql/mssql_utility.php
       1.98K 100%    6.23kB/s    0:00:00 (xfer#189, to-check=152/404)

2013-05-30 11:36:50,123 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysql/
system/database/drivers/mysql/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#190, to-check=151/404)
system/database/drivers/mysql/mysql_driver.php

      17.37K 100%   54.55kB/s    0:00:00 (xfer#191, to-check=150/404)
system/database/drivers/mysql/mysql_forge.php
       6.44K 100%   20.16kB/s    0:00:00 (xfer#192, to-check=149/404)
system/database/drivers/mysql/mysql_result.php
       3.62K 100%   11.35kB/s    0:00:00 (xfer#193, to-check=148/404)

2013-05-30 11:36:50,125 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysql/mysql_utility.php
       4.61K 100%   14.38kB/s    0:00:00 (xfer#194, to-check=147/404)

2013-05-30 11:36:50,126 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysqli/
system/database/drivers/mysqli/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#195, to-check=146/404)
system/database/drivers/mysqli/mysqli_driver.php

      17.41K 100%   54.14kB/s    0:00:00 (xfer#196, to-check=145/404)
system/database/drivers/mysqli/mysqli_forge.php
       6.10K 100%   18.98kB/s    0:00:00 (xfer#197, to-check=144/404)
system/database/drivers/mysqli/mysqli_result.php

       3.64K 100%   11.29kB/s    0:00:00 (xfer#198, to-check=143/404)
system/database/drivers/mysqli/mysqli_utility.php
       1.98K 100%    6.15kB/s    0:00:00 (xfer#199, to-check=142/404)
system/database/drivers/oci8/
system/database/drivers/oci8/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#200, to-check=141/404)
system/database/drivers/oci8/oci8_driver.php

      18.55K 100%   57.31kB/s    0:00:00 (xfer#201, to-check=140/404)
system/database/drivers/oci8/oci8_forge.php

       5.61K 100%   17.28kB/s    0:00:00 (xfer#202, to-check=139/404)
system/database/drivers/oci8/oci8_result.php

       4.49K 100%   13.79kB/s    0:00:00 (xfer#203, to-check=138/404)
system/database/drivers/oci8/oci8_utility.php
       1.93K 100%    5.92kB/s    0:00:00 (xfer#204, to-check=137/404)
system/database/drivers/odbc/
system/database/drivers/odbc/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#205, to-check=136/404)
system/database/drivers/odbc/odbc_driver.php

      13.89K 100%   42.53kB/s    0:00:00 (xfer#206, to-check=135/404)
system/database/drivers/odbc/odbc_forge.php
       6.12K 100%   18.73kB/s    0:00:00 (xfer#207, to-check=134/404)
system/database/drivers/odbc/odbc_result.php

       4.59K 100%   14.02kB/s    0:00:00 (xfer#208, to-check=133/404)

2013-05-30 11:36:50,134 unit:oscied-webui/0: hook.output INFO: system/database/drivers/odbc/odbc_utility.php
       2.26K 100%    6.90kB/s    0:00:00 (xfer#209, to-check=132/404)
system/database/drivers/pdo/
system/database/drivers/pdo/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#210, to-check=131/404)
system/database/drivers/pdo/pdo_driver.php

      17.61K 100%   53.40kB/s    0:00:00 (xfer#211, to-check=130/404)
system/database/drivers/pdo/pdo_forge.php

       6.09K 100%   18.48kB/s    0:00:00 (xfer#212, to-check=129/404)
system/database/drivers/pdo/pdo_result.php
       3.51K 100%   10.64kB/s    0:00:00 (xfer#213, to-check=128/404)
system/database/drivers/pdo/pdo_utility.php
       2.24K 100%    6.76kB/s    0:00:00 (xfer#214, to-check=127/404)
system/database/drivers/postgre/
system/database/drivers/postgre/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#215, to-check=126/404)
system/database/drivers/postgre/postgre_driver.php

      15.51K 100%   46.75kB/s    0:00:00 (xfer#216, to-check=125/404)
system/database/drivers/postgre/postgre_forge.php

       7.35K 100%   22.15kB/s    0:00:00 (xfer#217, to-check=124/404)
system/database/drivers/postgre/postgre_result.php
       3.44K 100%   10.33kB/s    0:00:00 (xfer#218, to-check=123/404)

2013-05-30 11:36:50,138 unit:oscied-webui/0: hook.output INFO: system/database/drivers/postgre/postgre_utility.php
       1.85K 100%    5.57kB/s    0:00:00 (xfer#219, to-check=122/404)
system/database/drivers/sqlite/
system/database/drivers/sqlite/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#220, to-check=121/404)
system/database/drivers/sqlite/sqlite_driver.php

      14.05K 100%   42.10kB/s    0:00:00 (xfer#221, to-check=120/404)
system/database/drivers/sqlite/sqlite_forge.php

       6.30K 100%   18.71kB/s    0:00:00 (xfer#222, to-check=119/404)
system/database/drivers/sqlite/sqlite_result.php
       3.55K 100%   10.53kB/s    0:00:00 (xfer#223, to-check=118/404)
system/database/drivers/sqlite/sqlite_utility.php
       2.15K 100%    6.38kB/s    0:00:00 (xfer#224, to-check=117/404)
system/database/drivers/sqlsrv/
system/database/drivers/sqlsrv/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#225, to-check=116/404)
system/database/drivers/sqlsrv/sqlsrv_driver.php
      13.54K 100%   40.08kB/s    0:00:00 (xfer#226, to-check=115/404)
system/database/drivers/sqlsrv/sqlsrv_forge.php
       5.79K 100%   17.14kB/s    0:00:00 (xfer#227, to-check=114/404)
system/database/drivers/sqlsrv/sqlsrv_result.php
       3.42K 100%   10.08kB/s    0:00:00 (xfer#228, to-check=113/404)
system/database/drivers/sqlsrv/sqlsrv_utility.php
       1.98K 100%    5.84kB/s    0:00:00 (xfer#229, to-check=112/404)
system/fonts/
system/fonts/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#230, to-check=111/404)
system/fonts/texb.ttf
      32.77K  22%   96.10kB/s    0:00:01  
     143.83K 100%  419.28kB/s    0:00:00 (xfer#231, to-check=110/404)

2013-05-30 11:36:50,149 unit:oscied-webui/0: hook.output INFO: system/helpers/
system/helpers/array_helper.php
       2.51K 100%    7.31kB/s    0:00:00 (xfer#232, to-check=109/404)
system/helpers/captcha_helper.php
       6.17K 100%   17.93kB/s    0:00:00 (xfer#233, to-check=108/404)
system/helpers/cookie_helper.php
       2.59K 100%    7.53kB/s    0:00:00 (xfer#234, to-check=107/404)
system/helpers/date_helper.php
      12.97K 100%   37.70kB/s    0:00:00 (xfer#235, to-check=106/404)
system/helpers/directory_helper.php

       2.06K 100%    5.98kB/s    0:00:00 (xfer#236, to-check=105/404)
system/helpers/download_helper.php

       2.75K 100%    7.96kB/s    0:00:00 (xfer#237, to-check=104/404)
system/helpers/email_helper.php
       1.48K 100%    4.30kB/s    0:00:00 (xfer#238, to-check=103/404)
system/helpers/file_helper.php

      11.38K 100%   32.89kB/s    0:00:00 (xfer#239, to-check=102/404)
system/helpers/form_helper.php

      21.77K 100%   62.53kB/s    0:00:00 (xfer#240, to-check=101/404)
system/helpers/html_helper.php

       8.80K 100%   25.26kB/s    0:00:00 (xfer#241, to-check=100/404)
system/helpers/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#242, to-check=99/404)
system/helpers/inflector_helper.php

       5.37K 100%   15.37kB/s    0:00:00 (xfer#243, to-check=98/404)
system/helpers/language_helper.php
       1.41K 100%    4.04kB/s    0:00:00 (xfer#244, to-check=97/404)
system/helpers/number_helper.php
       1.86K 100%    5.32kB/s    0:00:00 (xfer#245, to-check=96/404)
system/helpers/path_helper.php
       1.78K 100%    5.09kB/s    0:00:00 (xfer#246, to-check=95/404)
system/helpers/security_helper.php
       2.67K 100%    7.66kB/s    0:00:00 (xfer#247, to-check=94/404)
system/helpers/smiley_helper.php
       6.47K 100%   18.52kB/s    0:00:00 (xfer#248, to-check=93/404)
system/helpers/string_helper.php

       6.43K 100%   18.37kB/s    0:00:00 (xfer#249, to-check=92/404)
system/helpers/text_helper.php

      13.13K 100%   37.29kB/s    0:00:00 (xfer#250, to-check=91/404)
system/helpers/typography_helper.php

       2.24K 100%    6.34kB/s    0:00:00 (xfer#251, to-check=90/404)
system/helpers/url_helper.php

      12.36K 100%   34.99kB/s    0:00:00 (xfer#252, to-check=89/404)
system/helpers/xml_helper.php
       1.79K 100%    5.05kB/s    0:00:00 (xfer#253, to-check=88/404)
system/language/
system/language/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#254, to-check=87/404)
system/language/english/
system/language/english/calendar_lang.php
       1.44K 100%    4.04kB/s    0:00:00 (xfer#255, to-check=84/404)
system/language/english/date_lang.php
       3.18K 100%    8.94kB/s    0:00:00 (xfer#256, to-check=83/404)
system/language/english/db_lang.php
       2.27K 100%    6.40kB/s    0:00:00 (xfer#257, to-check=82/404)
system/language/english/email_lang.php
       1.71K 100%    4.80kB/s    0:00:00 (xfer#258, to-check=81/404)
system/language/english/form_validation_lang.php
       1.82K 100%    5.12kB/s    0:00:00 (xfer#259, to-check=80/404)
system/language/english/ftp_lang.php
       1.28K 100%    3.62kB/s    0:00:00 (xfer#260, to-check=79/404)
system/language/english/imglib_lang.php

       2.01K 100%    5.64kB/s    0:00:00 (xfer#261, to-check=78/404)
system/language/english/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#262, to-check=77/404)
system/language/english/migration_lang.php
         715 100%    2.01kB/s    0:00:00 (xfer#263, to-check=76/404)
system/language/english/number_lang.php
         249 100%    0.70kB/s    0:00:00 (xfer#264, to-check=75/404)
system/language/english/profiler_lang.php
       1.12K 100%    3.13kB/s    0:00:00 (xfer#265, to-check=74/404)
system/language/english/unit_test_lang.php
         808 100%    2.26kB/s    0:00:00 (xfer#266, to-check=73/404)
system/language/english/upload_lang.php
       1.62K 100%    4.53kB/s    0:00:00 (xfer#267, to-check=72/404)
system/language/french/
system/language/french/calendar_lang.php
       1.44K 100%    4.02kB/s    0:00:00 (xfer#268, to-check=71/404)
system/language/french/date_lang.php
       3.18K 100%    8.89kB/s    0:00:00 (xfer#269, to-check=70/404)
system/language/french/db_lang.php
       2.27K 100%    6.36kB/s    0:00:00 (xfer#270, to-check=69/404)
system/language/french/email_lang.php

       1.71K 100%    4.76kB/s    0:00:00 (xfer#271, to-check=68/404)
system/language/french/form_validation_lang.php
       2.00K 100%    5.59kB/s    0:00:00 (xfer#272, to-check=67/404)
system/language/french/ftp_lang.php
       1.28K 100%    3.59kB/s    0:00:00 (xfer#273, to-check=66/404)
system/language/french/imglib_lang.php
       2.01K 100%    5.61kB/s    0:00:00 (xfer#274, to-check=65/404)
system/language/french/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#275, to-check=64/404)
system/language/french/migration_lang.php
         715 100%    1.99kB/s    0:00:00 (xfer#276, to-check=63/404)
system/language/french/number_lang.php
         249 100%    0.69kB/s    0:00:00 (xfer#277, to-check=62/404)
system/language/french/profiler_lang.php
       1.12K 100%    3.11kB/s    0:00:00 (xfer#278, to-check=61/404)
system/language/french/unit_test_lang.php
         808 100%    2.25kB/s    0:00:00 (xfer#279, to-check=60/404)

2013-05-30 11:36:50,164 unit:oscied-webui/0: hook.output INFO: system/language/french/upload_lang.php
       1.62K 100%    4.50kB/s    0:00:00 (xfer#280, to-check=59/404)

2013-05-30 11:36:50,165 unit:oscied-webui/0: hook.output INFO: system/libraries/
system/libraries/Calendar.php

      12.67K 100%   34.94kB/s    0:00:00 (xfer#281, to-check=58/404)
system/libraries/Cart.php

      15.07K 100%   41.46kB/s    0:00:00 (xfer#282, to-check=57/404)
system/libraries/Driver.php

       5.42K 100%   14.81kB/s    0:00:00 (xfer#283, to-check=56/404)
system/libraries/Email.php

      32.77K  68%   89.39kB/s    0:00:00  0: hook.output INFO: 
      47.97K 100%  130.48kB/s    0:00:00 (xfer#284, to-check=55/404)
system/libraries/Encrypt.php

      11.52K 100%   31.34kB/s    0:00:00 (xfer#285, to-check=54/404)
system/libraries/Form_validation.php

      29.59K 100%   80.28kB/s    0:00:00 (xfer#286, to-check=53/404)
system/libraries/Ftp.php

      12.57K 100%   34.00kB/s    0:00:00 (xfer#287, to-check=52/404)
system/libraries/Image_lib.php

      32.77K  87%   88.15kB/s    0:00:00  0: hook.output INFO: 
      37.34K 100%  100.46kB/s    0:00:00 (xfer#288, to-check=51/404)
system/libraries/Javascript.php

      20.12K 100%   53.97kB/s    0:00:00 (xfer#289, to-check=50/404)
system/libraries/Log.php
       2.70K 100%    7.23kB/s    0:00:00 (xfer#290, to-check=49/404)
system/libraries/Migration.php

       8.23K 100%   22.07kB/s    0:00:00 (xfer#291, to-check=48/404)
system/libraries/Pagination.php

       9.05K 100%   24.09kB/s    0:00:00 (xfer#292, to-check=47/404)
system/libraries/Parser.php
       4.43K 100%   11.78kB/s    0:00:00 (xfer#293, to-check=46/404)
system/libraries/Profiler.php

      19.28K 100%   51.16kB/s    0:00:00 (xfer#294, to-check=45/404)
system/libraries/Session.php

      19.22K 100%   50.86kB/s    0:00:00 (xfer#295, to-check=44/404)
system/libraries/Sha1.php

       5.00K 100%   13.18kB/s    0:00:00 (xfer#296, to-check=43/404)
system/libraries/Table.php

      11.37K 100%   29.93kB/s    0:00:00 (xfer#297, to-check=42/404)
system/libraries/Trackback.php
      11.99K 100%   31.57kB/s    0:00:00 (xfer#298, to-check=41/404)
system/libraries/Typography.php

      12.72K 100%   33.39kB/s    0:00:00 (xfer#299, to-check=40/404)
system/libraries/Unit_test.php

       8.20K 100%   21.47kB/s    0:00:00 (xfer#300, to-check=39/404)
system/libraries/Upload.php

      27.55K 100%   71.93kB/s    0:00:00 (xfer#301, to-check=38/404)
system/libraries/User_agent.php

      10.51K 100%   27.36kB/s    0:00:00 (xfer#302, to-check=37/404)
system/libraries/Xmlrpc.php

      32.77K  97%   85.11kB/s    0:00:00  0: hook.output INFO: 
      33.57K 100%   87.18kB/s    0:00:00 (xfer#303, to-check=36/404)
system/libraries/Xmlrpcs.php
      15.55K 100%   40.29kB/s    0:00:00 (xfer#304, to-check=35/404)
system/libraries/Zip.php
      10.16K 100%   26.33kB/s    0:00:00 (xfer#305, to-check=34/404)
system/libraries/index.html
         114 100%    0.30kB/s    0:00:00 (xfer#306, to-check=33/404)
system/libraries/Cache/
system/libraries/Cache/Cache.php

       4.68K 100%   12.09kB/s    0:00:00 (xfer#307, to-check=30/404)
system/libraries/Cache/drivers/
system/libraries/Cache/drivers/Cache_apc.php
       3.31K 100%    8.54kB/s    0:00:00 (xfer#308, to-check=28/404)
system/libraries/Cache/drivers/Cache_dummy.php
       2.66K 100%    6.86kB/s    0:00:00 (xfer#309, to-check=27/404)
system/libraries/Cache/drivers/Cache_file.php
       4.15K 100%   10.69kB/s    0:00:00 (xfer#310, to-check=26/404)
system/libraries/Cache/drivers/Cache_memcached.php
       5.03K 100%   12.96kB/s    0:00:00 (xfer#311, to-check=25/404)

2013-05-30 11:36:50,196 unit:oscied-webui/0: hook.output INFO: system/libraries/javascript/
system/libraries/javascript/Jquery.php
      24.19K 100%   61.69kB/s    0:00:00 (xfer#312, to-check=24/404)

2013-05-30 11:36:50,198 unit:oscied-webui/0: hook.output INFO: tools/
tools/README.md
       1.04K 100%    2.65kB/s    0:00:00 (xfer#313, to-check=23/404)
tools/spark
         746 100%    1.90kB/s    0:00:00 (xfer#314, to-check=22/404)
tools/lib/
tools/lib/spark/
tools/lib/spark/sources
          68 100%    0.17kB/s    0:00:00 (xfer#315, to-check=18/404)
tools/lib/spark/spark_cli.php
       8.74K 100%   22.17kB/s    0:00:00 (xfer#316, to-check=17/404)
tools/lib/spark/spark_exception.php
          52 100%    0.13kB/s    0:00:00 (xfer#317, to-check=16/404)
tools/lib/spark/spark_source.php
       3.47K 100%    8.80kB/s    0:00:00 (xfer#318, to-check=15/404)
tools/lib/spark/spark_type.php

       4.82K 100%   12.19kB/s    0:00:00 (xfer#319, to-check=14/404)
tools/lib/spark/spark_utils.php
       2.66K 100%    6.74kB/s    0:00:00 (xfer#320, to-check=13/404)
tools/lib/spark/spark_types/
tools/lib/spark/spark_types/git_spark.php
       1.27K 100%    3.21kB/s    0:00:00 (xfer#321, to-check=11/404)
tools/lib/spark/spark_types/hg_spark.php
       1.04K 100%    2.64kB/s    0:00:00 (xfer#322, to-check=10/404)
tools/lib/spark/spark_types/zip_spark.php
       1.27K 100%    3.23kB/s    0:00:00 (xfer#323, to-check=9/404)
tools/test/
tools/test/install_test.php
       1.87K 100%    4.71kB/s    0:00:00 (xfer#324, to-check=8/404)
tools/test/phpunit.xml
         250 100%    0.63kB/s    0:00:00 (xfer#325, to-check=7/404)
tools/test/remove_test.php
       2.43K 100%    6.14kB/s    0:00:00 (xfer#326, to-check=6/404)
tools/test/search_test.php
         381 100%    0.96kB/s    0:00:00 (xfer#327, to-check=5/404)
tools/test/version_test.php
       1.04K 100%    2.62kB/s    0:00:00 (xfer#328, to-check=4/404)
tools/test/lib/
tools/test/lib/bootstrap.php
         887 100%    2.24kB/s    0:00:00 (xfer#329, to-check=2/404)
tools/test/lib/test-sparks/
tools/test/lib/test-sparks/.gitkeep
           0 100%    0.00kB/s    0:00:00 (xfer#330, to-check=0/404)

2013-05-30 11:36:50,251 unit:oscied-webui/0: hook.output INFO: 
sent 11.93M bytes  received 6.58K bytes  7.96M bytes/sec
total size is 11.90M  speedup is 1.00

2013-05-30 11:36:50,668 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Expose Apache 2 service
2013-05-30 11:36:51,012 unit:oscied-webui/0: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 11:36:51,334 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - config changed
2013-05-30 11:36:51,660 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 11:36:51,705 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 11:36:51,824 unit:oscied-webui/0: hook.output INFO:  ... waiting 
2013-05-30 11:36:52,827 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 11:36:53,722 unit:oscied-webui/0: hook.output INFO: mysql stop/waiting

2013-05-30 11:36:54,046 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Set limits (upload size, execution time, ...)
2013-05-30 11:36:54,453 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 11:36:54,802 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No shared storage !
2013-05-30 11:36:54,832 unit:oscied-webui/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:36:54,832 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/install
2013-05-30 11:36:54,851 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:36:54,863 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:36:54,863 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:36:54,863 unit:oscied-webui/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:36:54,864 unit:oscied-webui/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:36:54,887 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:36:54,898 unit:oscied-webui/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-webui-0/charm/hooks/config-changed
2013-05-30 11:36:54,919 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:36:54,932 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/start
2013-05-30 11:36:59,666 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 11:37:00,001 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No shared storage !
2013-05-30 11:37:00,035 unit:oscied-webui/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:37:00,035 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/start
2013-05-30 11:37:00,036 unit:oscied-webui/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:37:00,036 unit:oscied-webui/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:37:00,049 unit:oscied-webui/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:37:00,050 unit:oscied-webui/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:37:00,054 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:37:00,055 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:37:00,067 unit:oscied-webui/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:37:00,079 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:37:00,088 unit:oscied-webui/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:37:00,097 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:37:00,097 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:37:00,118 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:37:00,133 unit:oscied-webui/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-webui-0/charm/hooks/config-changed
2013-05-30 11:37:00,134 unit:oscied-webui/0: unit.lifecycle DEBUG: configured unit
2013-05-30 11:37:00,143 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:37:00,150 unit:oscied-webui/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:37:41,559 Machine:3: juju.agents.machine INFO: Machine agent started id:3
2013-05-30 11:37:41,622 Machine:3: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-storage/0'])
2013-05-30 11:37:41,622 Machine:3: juju.agents.machine DEBUG: Starting service unit: oscied-storage/0 ...
2013-05-30 11:37:41,734 Machine:3: unit.deploy DEBUG: Downloading charm local:raring/oscied-storage-14 to /var/lib/juju/charms
2013-05-30 11:37:41,909 Machine:3: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x1e4e550> for oscied-storage/0 in /var/lib/juju
2013-05-30 11:37:41,910 Machine:3: unit.deploy DEBUG: Starting service unit oscied-storage/0...
2013-05-30 11:37:44,858 Machine:3: unit.deploy INFO: Started service unit oscied-storage/0
2013-05-30 11:37:47,266 unit:oscied-storage/0: hook.executor DEBUG: started
2013-05-30 11:37:47,302 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:37:47,302 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:37:47,397 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 11:37:47,398 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:37:47,443 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/install
2013-05-30 11:37:47,658 unit:oscied-storage/0: hook.output INFO: Install OSCIED Library

Extracting templates from packages: 73%rage/0: hook.output INFO: 
Extracting templates from packages: 100%age/0: hook.output INFO: 

2013-05-30 11:38:25,376 Machine:5: juju.agents.machine INFO: Machine agent started id:5
2013-05-30 11:38:25,379 Machine:5: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-publisher/0'])
2013-05-30 11:38:25,380 Machine:5: juju.agents.machine DEBUG: Starting service unit: oscied-publisher/0 ...
2013-05-30 11:38:25,407 Machine:5: unit.deploy DEBUG: Downloading charm local:raring/oscied-publisher-6 to /var/lib/juju/charms
2013-05-30 11:38:25,617 Machine:5: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x2532110> for oscied-publisher/0 in /var/lib/juju
2013-05-30 11:38:25,617 Machine:5: unit.deploy DEBUG: Starting service unit oscied-publisher/0...
2013-05-30 11:38:26,171 unit:oscied-publisher/0: hook.executor DEBUG: started
2013-05-30 11:38:26,181 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:38:26,182 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:38:26,201 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:38:26,213 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/install
2013-05-30 11:38:26,233 unit:oscied-publisher/0: hook.output INFO: Install OSCIED Library

2013-05-30 11:38:26,305 Machine:5: unit.deploy INFO: Started service unit oscied-publisher/0
Extracting templates from packages: 73%lisher/0: hook.output INFO: 
Extracting templates from packages: 100%isher/0: hook.output INFO: 

2013-05-30 11:38:33,396 Machine:4: juju.agents.machine INFO: Machine agent started id:4
2013-05-30 11:38:33,399 Machine:4: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-transform/0'])
2013-05-30 11:38:33,399 Machine:4: juju.agents.machine DEBUG: Starting service unit: oscied-transform/0 ...
2013-05-30 11:38:33,421 Machine:4: unit.deploy DEBUG: Downloading charm local:raring/oscied-transform-7 to /var/lib/juju/charms
2013-05-30 11:38:33,973 Machine:4: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x2cdf110> for oscied-transform/0 in /var/lib/juju
2013-05-30 11:38:33,974 Machine:4: unit.deploy DEBUG: Starting service unit oscied-transform/0...
2013-05-30 11:38:34,650 unit:oscied-transform/0: hook.executor DEBUG: started
2013-05-30 11:38:34,659 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 11:38:34,659 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 11:38:34,691 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:38:34,705 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/install
2013-05-30 11:38:34,747 unit:oscied-transform/0: hook.output INFO: Install OSCIED Library

2013-05-30 11:38:34,745 Machine:4: unit.deploy INFO: Started service unit oscied-transform/0
Extracting templates from packages: 73%nsform/0: hook.output INFO: 
Extracting templates from packages: 100%sform/0: hook.output INFO: 

2013-05-30 11:39:17,013 unit:oscied-publisher/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 11:39:21,777 unit:oscied-publisher/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 11:39:25,440 unit:oscied-publisher/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 11:39:29,392 unit:oscied-publisher/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 11:39:29,659 unit:oscied-publisher/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 11:39:30,700 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 11:39:30,701 unit:oscied-publisher/0: hook.output INFO: keyring `/tmp/tmpcv7f9f/secring.gpg' created

2013-05-30 11:39:30,701 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 11:39:30,702 unit:oscied-publisher/0: hook.output INFO: keyring `/tmp/tmpcv7f9f/pubring.gpg' created

2013-05-30 11:39:30,704 unit:oscied-publisher/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 11:39:30,955 unit:oscied-publisher/0: hook.output INFO: gpg: /tmp/tmpcv7f9f/trustdb.gpg: trustdb created

2013-05-30 11:39:30,956 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 11:39:30,960 unit:oscied-publisher/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 11:39:31,029 unit:oscied-publisher/0: hook.output INFO: OK

2013-05-30 11:39:31,076 unit:oscied-publisher/0: hook.output INFO: Reading package lists...
2013-05-30 11:39:32,178 unit:oscied-transform/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 11:39:33,919 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 11:39:33,929 unit:oscied-publisher/0: hook.output INFO: Building dependency tree...
2013-05-30 11:39:34,078 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 11:39:34,079 unit:oscied-publisher/0: hook.output INFO: Reading state information...
2013-05-30 11:39:34,080 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 11:39:34,218 unit:oscied-publisher/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:39:34,219 unit:oscied-publisher/0: hook.output INFO:   python-shelltoolbox

2013-05-30 11:39:34,223 unit:oscied-publisher/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:39:34,224 unit:oscied-publisher/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 11:39:34,316 unit:oscied-publisher/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 11:39:34,513 unit:oscied-publisher/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 11:39:34,818 unit:oscied-publisher/0: hook.output INFO: Fetched 19.9 kB in 0s (58.1 kB/s)

2013-05-30 11:39:34,888 unit:oscied-publisher/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 11:39:34,889 unit:oscied-publisher/0: hook.output INFO: (Reading database ... 
2013-05-30 11:39:34,935 unit:oscied-publisher/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 11:39:34,943 unit:oscied-publisher/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 11:39:35,040 unit:oscied-publisher/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 11:39:35,053 unit:oscied-publisher/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 11:39:35,175 unit:oscied-publisher/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 11:39:35,317 unit:oscied-publisher/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 11:39:36,867 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:39:36,934 unit:oscied-transform/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 11:39:37,159 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:39:37,444 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:39:37,743 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x21fac08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:39:38,024 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:39:38,293 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook install
2013-05-30 11:39:38,565 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:39:38,833 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 11:39:39,119 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 11:39:39,398 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:39:39,672 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:39:39,946 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:39:40,220 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 11:39:41,291 unit:oscied-transform/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 11:39:43,167 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge apache2.2-common
2013-05-30 11:39:43,772 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:39:45,878 unit:oscied-transform/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 11:39:46,192 unit:oscied-transform/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 11:39:47,638 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 11:39:47,639 unit:oscied-transform/0: hook.output INFO: keyring `/tmp/tmp409rg0/secring.gpg' created

2013-05-30 11:39:47,640 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 11:39:47,640 unit:oscied-transform/0: hook.output INFO: keyring `/tmp/tmp409rg0/pubring.gpg' created

2013-05-30 11:39:47,641 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 11:39:47,642 unit:oscied-transform/0: hook.output INFO: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 11:39:47,877 unit:oscied-transform/0: hook.output INFO: gpg: /tmp/tmp409rg0/trustdb.gpg: trustdb created
gpg: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 11:39:47,963 unit:oscied-transform/0: hook.output INFO: OK

2013-05-30 11:39:48,006 unit:oscied-transform/0: hook.output INFO: Reading package lists...
2013-05-30 11:39:48,359 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:39:48,638 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:39:50,015 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:39:50,697 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 11:39:50,709 unit:oscied-transform/0: hook.output INFO: Building dependency tree...
2013-05-30 11:39:50,868 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 11:39:50,869 unit:oscied-transform/0: hook.output INFO: Reading state information...
2013-05-30 11:39:50,870 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 11:39:50,975 unit:oscied-transform/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:39:50,976 unit:oscied-transform/0: hook.output INFO:   python-shelltoolbox

2013-05-30 11:39:50,978 unit:oscied-transform/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:39:50,978 unit:oscied-transform/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 11:39:51,030 unit:oscied-transform/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 11:39:51,165 unit:oscied-transform/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 11:39:51,504 unit:oscied-transform/0: hook.output INFO: Fetched 19.9 kB in 0s (86.0 kB/s)

2013-05-30 11:39:51,589 unit:oscied-transform/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 11:39:51,589 unit:oscied-transform/0: hook.output INFO: (Reading database ... 
2013-05-30 11:39:51,637 unit:oscied-transform/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 11:39:51,640 unit:oscied-transform/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 11:39:51,782 unit:oscied-transform/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 11:39:51,797 unit:oscied-transform/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 11:39:51,975 unit:oscied-transform/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 11:39:52,136 unit:oscied-transform/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 11:39:53,875 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:39:53,909 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:39:54,220 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:39:54,553 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:39:54,887 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x14cec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:39:55,216 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:39:55,545 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook install
2013-05-30 11:39:55,876 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 11:39:56,205 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 11:39:56,588 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 11:39:56,931 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 11:39:57,130 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 11:39:57,260 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 11:39:57,589 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 11:39:58,223 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:39:58,180 unit:oscied-storage/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 11:39:58,862 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:39:59,195 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 11:40:00,522 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:40:00,730 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:40:00,851 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:40:03,290 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Expose RESTful API, MongoDB & RabbitMQ service
2013-05-30 11:40:03,641 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5000/tcp
2013-05-30 11:40:04,007 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 27017/tcp
2013-05-30 11:40:04,362 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5672/tcp
2013-05-30 11:40:04,493 unit:oscied-storage/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 11:40:04,714 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2fd66d0>
2013-05-30 11:40:05,136 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:40:05,241 unit:oscied-orchestra/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:40:05,242 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/install
2013-05-30 11:40:05,266 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:40:05,280 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:40:05,280 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:40:05,281 unit:oscied-orchestra/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:40:05,281 unit:oscied-orchestra/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:40:05,313 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:05,333 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 11:40:05,635 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:40:06,538 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:06,892 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:07,222 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:07,566 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x153aa50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x1549b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:40:07,886 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:40:08,223 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 11:40:08,610 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 11:40:08,950 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 11:40:09,433 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 11:40:09,518 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 11:40:09,959 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 11:40:10,504 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': '', 'bind_ip': None, 'noauth': ''}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x153a890>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 11:40:10,850 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:40:11,206 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:40:12,223 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:40:12,994 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:40:13,573 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:40:14,232 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:40:14,827 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:40:15,388 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:40:15,986 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:40:16,370 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 11:40:16,770 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 11:40:17,103 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x153aa50>
2013-05-30 11:40:17,477 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:40:17,540 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:40:17,541 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 11:40:17,598 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:17,621 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 11:40:18,564 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:18,891 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:19,225 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:19,553 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x158ea50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x159db18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:40:19,898 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:40:20,179 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook start
2013-05-30 11:40:22,063 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Do not start orchestra daemon : No shared storage !
2013-05-30 11:40:22,832 unit:oscied-storage/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 11:40:25,068 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x158ea50>
2013-05-30 11:40:26,696 unit:oscied-storage/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 11:40:26,956 unit:oscied-storage/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 11:40:27,172 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:40:27,450 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:40:27,960 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 11:40:27,961 unit:oscied-storage/0: hook.output INFO: keyring `/tmp/tmpolrn0q/secring.gpg' created

2013-05-30 11:40:27,961 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 11:40:27,962 unit:oscied-storage/0: hook.output INFO: keyring `/tmp/tmpolrn0q/pubring.gpg' created

2013-05-30 11:40:27,964 unit:oscied-storage/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 11:40:28,228 unit:oscied-storage/0: hook.output INFO: gpg: /tmp/tmpolrn0q/trustdb.gpg: trustdb created

2013-05-30 11:40:28,229 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 11:40:28,231 unit:oscied-storage/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 11:40:28,229 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:40:28,305 unit:oscied-storage/0: hook.output INFO: OK

2013-05-30 11:40:28,347 unit:oscied-storage/0: hook.output INFO: Reading package lists...
2013-05-30 11:40:28,701 unit:oscied-orchestra/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:40:28,702 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 11:40:28,702 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:40:28,702 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:40:28,768 unit:oscied-orchestra/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:40:28,769 unit:oscied-orchestra/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:40:28,773 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:40:28,774 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:40:28,837 unit:oscied-orchestra/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:40:28,892 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:40:28,924 unit:oscied-orchestra/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:40:28,932 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:40:28,932 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:40:29,034 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:29,090 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 11:40:29,804 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Compile and install Apache H.264 streaming module
2013-05-30 11:40:30,128 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute which apxs2
2013-05-30 11:40:30,426 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ./configure --with-apxs=/usr/bin/apxs2

2013-05-30 11:40:32,896 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 11:40:33,001 unit:oscied-storage/0: hook.output INFO: Building dependency tree...
2013-05-30 11:40:34,645 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 11:40:34,646 unit:oscied-storage/0: hook.output INFO: Reading state information...
2013-05-30 11:40:34,647 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 11:40:36,164 unit:oscied-storage/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 11:40:36,164 unit:oscied-storage/0: hook.output INFO:   python-shelltoolbox

2013-05-30 11:40:36,168 unit:oscied-storage/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 11:40:36,169 unit:oscied-storage/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 11:40:36,612 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:36,697 unit:oscied-storage/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 11:40:36,701 unit:oscied-storage/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 11:40:38,880 unit:oscied-storage/0: hook.output INFO: Fetched 19.9 kB in 0s (73.0 kB/s)

2013-05-30 11:40:39,358 unit:oscied-storage/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 11:40:39,359 unit:oscied-storage/0: hook.output INFO: (Reading database ... 
2013-05-30 11:40:39,780 unit:oscied-storage/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 11:40:39,898 unit:oscied-storage/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 11:40:39,878 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:40,423 unit:oscied-storage/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 11:40:40,538 unit:oscied-storage/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 11:40:40,682 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:40:40,814 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 11:40:41,022 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:40:41,177 unit:oscied-storage/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 11:40:42,419 unit:oscied-storage/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 11:40:43,322 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:43,448 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Compile and install GPAC/DashCast
2013-05-30 11:40:46,598 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ./configure
2013-05-30 11:40:46,724 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22faa50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2309b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 11:40:47,049 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 11:40:47,576 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register Apache H.264 streaming module
2013-05-30 11:40:47,866 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Expose Apache 2 service
2013-05-30 11:40:48,252 unit:oscied-publisher/0: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 11:40:48,560 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:40:48,855 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:40:48,918 unit:oscied-publisher/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:40:48,918 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/install
2013-05-30 11:40:48,934 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:40:48,943 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:40:48,943 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:40:48,943 unit:oscied-publisher/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:40:48,943 unit:oscied-publisher/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:40:48,973 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:48,986 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 11:40:50,031 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:50,110 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 11:40:50,372 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:50,733 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:51,088 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x1836c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:40:51,252 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:51,399 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:40:51,701 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 11:40:51,980 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 11:40:52,021 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:40:52,334 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:40:52,389 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:40:52,389 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 11:40:52,410 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:52,424 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 11:40:53,184 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:53,477 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:53,549 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 11:40:53,772 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:54,057 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x1952c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:40:54,227 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:54,340 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:40:54,611 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook start
2013-05-30 11:40:54,883 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No shared storage !
2013-05-30 11:40:55,161 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:40:55,442 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:40:55,496 unit:oscied-publisher/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:40:55,496 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 11:40:55,497 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:40:55,497 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:40:55,509 unit:oscied-publisher/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:40:55,510 unit:oscied-publisher/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:40:55,514 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:40:55,515 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:40:55,533 unit:oscied-publisher/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:40:55,541 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:40:55,550 unit:oscied-publisher/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:40:55,562 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:40:55,562 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:40:55,580 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:40:55,596 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 11:40:56,361 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:40:56,662 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:40:56,718 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 11:40:56,947 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:57,135 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:40:57,229 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x1298c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 11:40:59,676 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 11:41:00,122 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 11:41:00,174 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': False, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x17f9e60>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x1b5eed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:41:03,504 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 11:41:03,543 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:41:03,989 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 11:41:05,342 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:41:05,613 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 11:41:05,666 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:41:05,666 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 11:41:05,666 unit:oscied-publisher/0: unit.lifecycle DEBUG: configured unit
2013-05-30 11:41:05,685 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:41:05,691 unit:oscied-publisher/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:41:06,559 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook install
2013-05-30 11:41:07,504 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 11:41:09,500 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Uninstall prerequisites, remove files & bricks and load default configuration
2013-05-30 11:41:11,578 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': None, 'bind_ip': None, 'noauth': None}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x22fa750>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 11:41:12,492 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 11:41:14,724 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 11:41:15,520 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-server nfs-common
2013-05-30 11:41:17,955 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 11:41:22,089 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 11:41:23,220 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 11:41:25,810 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 11:41:26,086 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 11:41:28,437 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 11:41:33,607 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 11:41:37,786 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 11:41:38,672 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 11:41:43,985 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 11:41:44,241 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install ntp glusterfs-server nfs-common
2013-05-30 11:41:46,599 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 11:41:47,088 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 11:41:47,375 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 11:41:47,659 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 11:41:47,942 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22faa50>
2013-05-30 11:41:48,228 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 11:41:48,278 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:41:48,278 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 11:41:48,278 unit:oscied-orchestra/0: unit.lifecycle DEBUG: configured unit
2013-05-30 11:41:48,290 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:41:48,304 unit:oscied-orchestra/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:42:02,547 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 11:42:05,706 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 11:42:11,260 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Create and start a replica=1 volume medias_volume_0 with 1 brick
2013-05-30 11:42:14,190 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume create medias_volume_0  ip-10-99-67-21.ec2.internal:/exp0
2013-05-30 11:42:18,313 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume start medias_volume_0 
2013-05-30 11:42:28,514 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 11:42:32,434 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-99-67-21.ec2.internal:/exp0\n'
2013-05-30 11:42:35,270 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-99-67-21.ec2.internal:/exp0'], 'auth_allow': '', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:42:38,216 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume rebalance medias_volume_0 status
2013-05-30 11:42:41,942 unit:oscied-storage/0: unit.hook.api INFO: [INFO] nothing to rebalance on volume medias_volume_0

2013-05-30 11:42:44,898 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Expose GlusterFS Server service
2013-05-30 11:42:47,992 unit:oscied-storage/0: unit.hook.api DEBUG: opened 111/tcp
2013-05-30 11:42:48,768 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24007/tcp
2013-05-30 11:42:49,109 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24009/tcp
2013-05-30 11:42:49,468 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x17f9e60>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:42:49,826 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:42:49,895 unit:oscied-storage/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:42:49,896 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/install
2013-05-30 11:42:49,909 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:42:49,918 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:42:49,918 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:42:49,919 unit:oscied-storage/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:42:49,919 unit:oscied-storage/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:42:49,986 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 11:42:49,986 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:42:49,995 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 11:42:50,855 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:42:51,187 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:42:51,511 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:42:51,830 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x15b9960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x1b52ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:42:52,146 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:42:52,450 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 11:42:55,360 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *
2013-05-30 11:42:58,610 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*"
2013-05-30 11:43:05,091 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 11:43:08,844 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-99-67-21.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:43:11,769 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 11:43:15,507 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-99-67-21.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:43:18,328 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-99-67-21.ec2.internal:/exp0'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:43:20,593 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x15b9960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:43:20,877 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:43:20,929 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:43:20,930 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 11:43:20,952 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 11:43:20,953 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:43:20,966 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 11:43:21,657 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:43:21,946 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:43:22,224 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:43:22,497 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1b56700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x1e85ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:43:22,772 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:43:23,050 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook start
2013-05-30 11:43:23,331 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 11:43:23,620 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1b56700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:43:23,896 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:43:23,943 unit:oscied-storage/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:43:23,944 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 11:43:23,944 unit:oscied-storage/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:43:23,944 unit:oscied-storage/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:43:23,959 unit:oscied-storage/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:43:23,959 unit:oscied-storage/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:43:23,963 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>]
2013-05-30 11:43:23,964 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:43:24,008 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 11:43:24,018 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 11:43:24,019 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 11:43:24,019 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 11:43:24,033 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 11:43:24,033 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:peer lifecycle
2013-05-30 11:43:24,110 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 11:43:24,111 unit:oscied-storage/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:43:24,123 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:43:24,139 unit:oscied-storage/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:43:24,147 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:43:24,148 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:43:24,189 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['peer:0']
2013-05-30 11:43:24,197 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 11:43:24,889 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:43:25,172 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:43:25,451 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:43:25,731 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x245c960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x29f5ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 11:43:26,005 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 11:43:26,281 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 11:43:27,106 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *
2013-05-30 11:43:29,923 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*"
2013-05-30 11:43:35,775 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 11:43:39,554 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-99-67-21.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:43:42,448 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 11:43:46,122 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-99-67-21.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 11:43:48,948 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-99-67-21.ec2.internal:/exp0'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 11:43:51,884 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x245c960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 11:43:54,708 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 11:43:55,179 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:43:55,337 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 11:43:55,338 unit:oscied-storage/0: unit.lifecycle DEBUG: configured unit
2013-05-30 11:43:55,361 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:43:55,368 unit:oscied-storage/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 11:44:07,171 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 11:44:09,223 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:44:09,557 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:44:09,609 unit:oscied-transform/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 11:44:09,610 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/install
2013-05-30 11:44:09,622 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 11:44:09,638 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 11:44:09,639 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 11:44:09,639 unit:oscied-transform/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 11:44:09,639 unit:oscied-transform/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 11:44:09,665 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:44:09,675 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 11:44:10,603 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:44:10,947 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:44:11,282 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:44:11,623 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x155fc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:44:11,955 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:44:12,288 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 11:44:12,619 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:44:12,951 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:44:13,000 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:44:13,000 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 11:44:13,028 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:44:13,039 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 11:44:14,061 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:44:14,449 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:44:14,788 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:44:15,128 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x1a84c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:44:15,461 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:44:15,793 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook start
2013-05-30 11:44:16,127 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No shared storage !
2013-05-30 11:44:16,456 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:44:16,788 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:44:16,836 unit:oscied-transform/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 11:44:16,837 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 11:44:16,838 unit:oscied-transform/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 11:44:16,838 unit:oscied-transform/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 11:44:16,843 unit:oscied-transform/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 11:44:16,843 unit:oscied-transform/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 11:44:16,849 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:None new:[]
2013-05-30 11:44:16,851 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 11:44:16,861 unit:oscied-transform/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 11:44:16,869 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 11:44:16,878 unit:oscied-transform/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 11:44:16,889 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 11:44:16,889 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 11:44:16,909 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 11:44:16,918 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 11:44:17,837 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 11:44:18,180 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 11:44:18,514 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 11:44:18,851 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x1cb4c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 11:44:19,184 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 11:44:19,522 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 11:44:19,853 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 11:44:20,197 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 11:44:20,247 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 11:44:20,247 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 11:44:20,248 unit:oscied-transform/0: unit.lifecycle DEBUG: configured unit
2013-05-30 11:44:20,262 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 11:44:20,268 unit:oscied-transform/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 13:37:14,261 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>] new:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 13:37:14,262 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:37:14,249 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>]
2013-05-30 13:37:14,250 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:37:14,384 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:37:14,407 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:37:14,407 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:37:14,408 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 13:37:14,400 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:37:14,420 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:37:14,420 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:37:14,416 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:37:14,416 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:37:14,416 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 13:37:14,427 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 13:37:14,428 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 13:37:14,429 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 13:37:14,437 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:37:14,435 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:37:14,435 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:37:14,443 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 13:37:14,444 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 13:37:14,445 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 13:37:14,447 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:37:14,476 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 13:37:14,486 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:37:14,486 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 13:37:14,496 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0']
2013-05-30 13:37:14,514 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:37:14,514 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:37:15,307 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:37:15,423 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:37:15,585 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:37:15,892 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:37:16,167 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:37:16,234 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:37:16,450 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1a5d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x1d63ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 13:37:16,578 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x1c7bc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 13:37:16,731 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 13:37:16,914 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 13:37:17,004 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 13:37:17,250 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-joined
2013-05-30 13:37:17,279 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 13:37:17,585 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:37:17,921 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 13:37:17,971 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:37:17,992 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 13:37:17,994 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 13:37:18,030 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 13:37:18,040 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:37:18,040 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 13:37:18,353 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1a5d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal'}
2013-05-30 13:37:18,622 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 13:37:18,667 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:37:19,733 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000001/settings/unit-0000000002' state: connected handle:0>
2013-05-30 13:37:19,751 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:37:19,752 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 13:37:19,765 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:1'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 13:37:19,765 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:37:19,768 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 13:37:19,816 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0']
2013-05-30 13:37:19,826 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:37:19,826 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 13:37:20,104 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:37:20,470 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:37:20,815 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x254ec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 13:37:21,153 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 13:37:21,490 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 13:37:23,180 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 13:37:23,517 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 13:37:23,866 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 13:37:24,200 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 13:37:24,534 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 13:37:24,868 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-99-67-21.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 13:37:25,238 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-99-67-21.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 13:37:33,762 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 13:37:34,097 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 13:37:34,432 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:37:34,770 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 13:37:34,820 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 13:37:34,826 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 13:37:34,828 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 13:37:34,851 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 13:37:34,869 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:37:34,869 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 13:37:35,803 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:37:36,160 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:37:36,500 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:37:36,841 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x275dc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 13:37:37,176 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 13:37:37,511 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 13:37:39,199 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 13:37:39,533 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 13:37:39,882 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 13:37:40,219 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 13:37:40,554 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 13:37:40,893 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:37:41,235 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 13:37:41,285 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 13:37:41,296 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 13:47:51,303 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>]
2013-05-30 13:47:51,303 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:47:51,303 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 13:47:51,303 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:47:51,456 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:47:51,469 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:47:51,470 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:47:51,470 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 13:47:51,475 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:47:51,487 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:47:51,487 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:47:51,493 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:47:51,494 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:47:51,494 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 13:47:51,493 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 13:47:51,494 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 13:47:51,496 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 13:47:51,503 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:47:51,515 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:47:51,516 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:47:51,526 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 13:47:51,527 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 13:47:51,529 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 13:47:51,536 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:47:51,572 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 13:47:51,583 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:47:51,583 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 13:47:51,624 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1']
2013-05-30 13:47:51,643 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:47:51,643 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:47:52,338 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:47:52,346 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:47:52,626 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:47:52,642 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:47:52,903 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:47:52,926 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:47:53,177 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1d93700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x2099ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 13:47:53,210 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x11c9c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 13:47:53,453 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 13:47:53,486 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 13:47:53,718 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 13:47:53,761 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-joined
2013-05-30 13:47:53,985 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 13:47:54,030 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:47:54,315 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 13:47:54,373 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:47:54,379 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 13:47:54,382 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 13:47:54,421 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 13:47:54,434 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:47:54,435 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 13:47:54,832 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1d93700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal,ip-10-242-202-232.ec2.internal'}
2013-05-30 13:47:55,100 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 13:47:55,149 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:47:55,179 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000002/settings/unit-0000000002' state: connected handle:0>
2013-05-30 13:47:55,184 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 13:47:55,202 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:2'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 13:47:55,203 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:47:55,205 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 13:47:55,210 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:47:55,337 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1']
2013-05-30 13:47:55,350 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:47:55,350 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 13:47:55,511 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:47:55,792 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:47:56,071 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x1103c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 13:47:56,349 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 13:47:56,636 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 13:47:58,014 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 13:47:58,281 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 13:47:58,621 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 13:48:00,001 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 13:48:00,293 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 13:48:00,577 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 13:48:00,865 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-99-67-21.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 13:48:01,222 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-99-67-21.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 13:48:09,708 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 13:48:10,000 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 13:48:11,157 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:48:14,028 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 13:48:14,604 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 13:48:14,703 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 13:48:14,705 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 13:48:14,809 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 13:48:14,877 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:48:14,878 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 13:48:22,830 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:48:25,847 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:48:28,640 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:48:31,663 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x2afdc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 13:48:34,587 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 13:48:37,319 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 13:48:43,129 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 13:48:43,411 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 13:48:43,702 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 13:48:44,092 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 13:48:44,365 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 13:48:44,653 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 13:48:44,932 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 13:48:45,214 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 13:48:45,270 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 13:48:45,284 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 13:59:46,063 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>]
2013-05-30 13:59:46,067 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:59:46,073 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>]
2013-05-30 13:59:46,073 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 13:59:46,233 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:59:46,249 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 13:59:46,248 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:59:46,248 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:59:46,249 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 13:59:46,266 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 13:59:46,267 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 13:59:46,267 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 13:59:46,269 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:59:46,269 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:59:46,286 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 13:59:46,286 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 13:59:46,282 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 13:59:46,282 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 13:59:46,284 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 13:59:46,286 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:59:46,302 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 13:59:46,303 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 13:59:46,305 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 13:59:46,307 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 13:59:46,342 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 13:59:46,353 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:59:46,353 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 13:59:46,458 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2']
2013-05-30 13:59:46,469 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 13:59:46,470 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:59:47,088 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:59:47,158 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:59:47,388 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:59:47,450 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:59:47,669 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:59:47,724 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:59:47,962 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1b3da90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x1b4cb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 13:59:48,001 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1510700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal,ip-10-242-202-232.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x1816ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 13:59:48,256 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 13:59:48,273 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 13:59:48,542 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-joined
2013-05-30 13:59:48,537 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 13:59:48,806 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 13:59:48,828 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1b3da90>
2013-05-30 13:59:49,120 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 13:59:49,171 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:59:49,177 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 13:59:49,180 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 13:59:49,218 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 13:59:49,229 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:59:49,230 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 13:59:49,630 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1510700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal,ip-10-242-202-232.ec2.internal,ip-10-196-109-159.ec2.internal'}
2013-05-30 13:59:49,900 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 13:59:49,946 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 13:59:49,980 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 13:59:50,002 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000003/settings/unit-0000000002' state: connected handle:0>
2013-05-30 13:59:50,007 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 13:59:50,025 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:3'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 13:59:50,026 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 13:59:50,029 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 13:59:50,224 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2']
2013-05-30 13:59:50,293 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 13:59:50,294 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 13:59:50,312 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 13:59:50,612 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 13:59:50,966 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x249aa90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x24a9b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 13:59:51,255 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 13:59:51,543 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 13:59:52,950 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 13:59:53,221 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 13:59:53,557 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 13:59:56,239 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 13:59:56,590 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 13:59:56,873 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 13:59:57,162 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 13:59:57,455 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-99-67-21.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 13:59:57,737 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-99-67-21.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 14:00:06,231 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 14:00:06,509 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x249aa90>
2013-05-30 14:00:06,781 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 14:00:07,209 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 14:00:12,032 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:00:12,319 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:00:13,434 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:00:13,554 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 14:00:13,558 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:13,554 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[] new:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 14:00:13,558 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:13,678 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:00:13,686 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:13,686 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:13,687 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:00:13,687 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:00:13,792 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:13,792 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:13,793 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:00:13,792 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:13,793 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 14:00:13,802 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 14:00:13,803 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 14:00:13,804 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 14:00:13,806 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:13,816 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:13,817 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:00:13,823 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 14:00:13,824 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 14:00:13,825 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 14:00:13,827 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:13,856 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': []
2013-05-30 14:00:13,866 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:00:13,867 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 14:00:13,938 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:00:14,018 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 14:00:14,026 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:00:14,027 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:00:14,425 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:00:14,732 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:14,918 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:00:15,032 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:15,312 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:15,438 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:00:15,592 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x204d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal,ip-10-242-202-232.ec2.internal,ip-10-196-109-159.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-139-198.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-99-67-21.ec2.internal', 'juju_log': <function callable_command at 0x2353ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:00:15,866 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:00:15,938 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:00:16,138 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 14:00:16,410 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 14:00:16,442 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:00:16,720 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:00:17,238 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x204d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-165-39-161.ec2.internal,ip-10-242-202-232.ec2.internal,ip-10-196-109-159.ec2.internal,ip-10-154-154-107.ec2.internal'}
2013-05-30 14:00:17,519 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:00:17,567 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:00:17,625 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000004/settings/unit-0000000002' state: connected handle:0>
2013-05-30 14:00:17,630 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 14:00:17,652 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:4'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 14:00:17,652 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:00:17,657 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 14:00:17,858 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 14:00:17,866 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:00:17,867 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 14:00:18,520 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation joined
2013-05-30 14:00:18,547 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:00:18,553 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 14:00:18,565 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:00:18,600 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': []
2013-05-30 14:00:18,610 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:00:18,610 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 14:00:22,128 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 14:00:23,033 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>, <ServiceRelationState name:transform role:client id:relation-0000000005 scope:global>]
2013-05-30 14:00:23,034 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:23,058 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 14:00:23,059 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:23,264 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation changed
2013-05-30 14:00:23,253 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 14:00:23,271 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:23,271 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:23,271 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 14:00:23,301 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 14:00:23,283 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:23,284 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 14:00:23,295 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:00:23,296 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:00:23,318 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:23,318 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:23,319 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:00:23,302 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:00:23,303 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:23,336 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:23,336 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 14:00:23,350 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 14:00:23,351 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 14:00:23,353 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 14:00:23,355 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:23,377 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:00:23,386 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 14:00:23,387 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 14:00:23,434 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:3']
2013-05-30 14:00:23,449 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 14:00:23,609 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 14:00:23,904 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x249aa90>
2013-05-30 14:00:24,188 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:00:24,239 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:00:24,245 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:00:24,246 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:00:24,246 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 14:00:24,309 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:24,390 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['transform:5']
2013-05-30 14:00:24,407 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:00:24,656 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:24,891 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Storage IP is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:00:24,990 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:25,107 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:25,214 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 14:00:25,255 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 14:00:25,327 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x3190c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:00:25,344 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:00:25,410 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:25,658 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister shared storage
2013-05-30 14:00:25,658 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:00:25,702 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:25,993 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2d13a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2d22b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:00:25,987 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-joined
2013-05-30 14:00:26,012 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:00:26,280 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:00:26,322 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:26,339 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Mount shared storage [ip-10-99-67-21.ec2.internal] ip-10-99-67-21.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 14:00:26,562 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-joined
2013-05-30 14:00:26,655 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:00:26,706 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 14:00:26,751 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 14:00:26,755 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:00:27,088 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:00:27,099 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:00:27,099 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:00:28,038 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:28,397 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:28,736 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:28,943 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>, <ServiceRelationState name:publisher role:client id:relation-0000000006 scope:global>]
2013-05-30 14:00:28,943 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:29,086 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 14:00:29,094 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:29,095 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:29,095 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 14:00:29,083 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x1b86c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:00:29,111 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 14:00:29,176 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:29,176 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 14:00:29,192 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:29,223 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:00:29,412 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:00:29,571 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:00:29,575 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 14:00:29,584 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:00:29,585 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:00:29,586 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:00:29,658 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:00:29,677 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 14:00:29,678 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 14:00:29,697 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:00:29,697 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:00:29,697 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:00:29,741 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 14:00:29,937 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:00:29,937 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 14:00:30,053 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 14:00:30,054 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 14:00:30,058 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 14:00:30,159 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:00:30,530 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:30,826 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:31,071 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-196-109-159.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 14:00:31,111 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:31,397 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x2e11c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:00:31,402 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:00:31,679 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:00:31,734 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:31,950 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-joined
2013-05-30 14:00:32,070 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:00:32,120 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:00:32,145 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:00:32,218 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:32,240 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:3', 'transform:5']
2013-05-30 14:00:32,360 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 14:00:32,469 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2d13a90>
2013-05-30 14:00:32,493 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:00:32,548 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 14:00:32,578 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 14:00:32,583 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:00:32,694 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:00:32,710 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:00:32,710 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:00:33,510 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:33,810 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:34,098 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:34,390 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x27cdc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:00:34,672 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:00:34,907 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create medias path in storage
2013-05-30 14:00:34,941 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 14:00:35,238 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI medias path to medias path in storage
2013-05-30 14:00:35,547 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:00:35,570 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=root:root mod=(d=755,f=644)) of medias path in storage
2013-05-30 14:00:35,935 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create uploads path in storage
2013-05-30 14:00:36,016 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-196-109-159.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 14:00:36,126 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 14:00:36,240 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000005/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:00:36,265 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'transform-relation-joined' on 'transform:5'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-196-109-159.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-196-109-159.ec2.internal:5672/celery' (was unset)
2013-05-30 14:00:36,265 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 14:00:36,268 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 14:00:36,269 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:00:36,249 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:00:36,251 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:00:36,268 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI uploads path to uploads path in storage
2013-05-30 14:00:36,298 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:00:36,324 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:00:36,345 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:00:36,345 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:00:36,574 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:36,591 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=www-data:www-data mod=(d=755,f=644)) of uploads path in storage
2013-05-30 14:00:36,855 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:00:36,907 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:00:36,935 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:00:36,937 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register shared storage
2013-05-30 14:00:37,287 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:00:37,308 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:37,615 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No Orchestrator API !
2013-05-30 14:00:37,642 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:00:37,648 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 14:00:37,659 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:37,999 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:38,212 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['publisher:6', 'storage:3']
2013-05-30 14:00:38,319 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:00:38,335 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-184-72-173-46.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-165-39-161.ec2.internal', 'juju_log': <function callable_command at 0x2e44c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:00:38,664 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:00:38,992 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 14:00:40,320 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-196-109-159.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-196-109-159.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-196-109-159.ec2.internal:5672/celery
2013-05-30 14:00:40,651 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:00:40,993 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 14:00:41,322 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 14:00:41,657 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 14:00:41,993 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:42,325 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:00:45,114 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:00:47,687 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:00:48,027 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Transform successfully started !
2013-05-30 14:00:48,357 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:00:48,435 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:00:48,686 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:00:48,734 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:00:48,772 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:00:51,671 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:00:54,957 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2aa0a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2aafb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:00:58,129 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:01:00,308 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>] new:[<ServiceRelationState name:api role:client id:relation-0000000007 scope:global>, <ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 14:01:00,308 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:01:00,410 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 14:01:00,426 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:01:00,426 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:01:00,427 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 14:01:00,471 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>] new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:api role:server id:relation-0000000007 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 14:01:00,530 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:01:00,531 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 14:01:00,564 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:01:00,570 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:01:01,250 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:01:01,257 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:01:01,259 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:01:01,262 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:01:01,332 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:01:01,343 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 14:01:01,344 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 14:01:01,718 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 14:01:02,171 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:01:02,172 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:01:02,172 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:01:02,417 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:01:02,417 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 14:01:02,519 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 14:01:02,521 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 14:01:02,522 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 14:01:02,625 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:01:03,185 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 14:01:05,726 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 14:01:05,853 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 14:01:06,076 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation joined
2013-05-30 14:01:06,113 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 14:01:06,140 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 14:01:06,144 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:01:06,213 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:01:06,223 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:01:06,224 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:01:10,887 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 14:01:11,863 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-196-109-159.ec2.internal, API URL is 
2013-05-30 14:01:12,191 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:01:12,219 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:01:12,246 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:01:21,785 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-99-67-21.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:01:24,952 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:01:28,241 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-S', '15323.Orchestra', '-X', 'quit']
2013-05-30 14:01:31,487 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 14:01:41,682 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 14:01:42,949 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:01:43,230 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 14:01:43,515 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2aa0a90>
2013-05-30 14:01:43,794 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 14:01:44,217 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 14:01:46,159 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:01:46,439 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:01:46,925 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:01:47,420 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:01:47,906 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:01:48,390 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:01:48,888 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:01:49,365 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:01:49,840 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:01:50,112 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:01:55,413 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 14:01:55,711 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 14:01:55,987 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2aa0a90>
2013-05-30 14:01:56,267 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:01:56,316 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:01:56,346 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:01:56,347 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 14:02:00,152 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:02:04,228 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:02:07,587 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:02:10,762 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2ec5a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2ed4b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:02:13,928 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:02:17,097 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-joined
2013-05-30 14:02:23,388 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2ec5a90>
2013-05-30 14:02:26,557 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:02:27,134 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 14:02:27,140 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000006/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:02:27,145 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:02:27,147 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:02:27,254 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:02:27,265 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:02:27,265 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:02:27,426 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'publisher-relation-joined' on 'publisher:6'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-196-109-159.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-196-109-159.ec2.internal:5672/celery' (was unset)
2013-05-30 14:02:27,426 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 14:02:27,501 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 14:02:27,502 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 14:02:28,037 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:02:28,325 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:02:28,605 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:02:28,877 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-67-202-52-176.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-242-202-232.ec2.internal', 'juju_log': <function callable_command at 0x2881c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:02:29,145 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:02:29,415 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 14:02:29,943 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['api:7', 'storage:3', 'transform:5']
2013-05-30 14:02:30,052 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:02:30,500 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-196-109-159.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-196-109-159.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-196-109-159.ec2.internal:5672/celery
2013-05-30 14:02:30,809 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:02:31,090 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 14:02:31,439 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 14:02:31,713 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 14:02:32,013 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 14:02:32,281 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:02:32,548 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 start
2013-05-30 14:02:32,885 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:02:36,629 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:02:38,272 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:02:38,554 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Publisher successfully started !
2013-05-30 14:02:38,823 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-67-202-52-176.compute-1.amazonaws.com', 'storage_address': 'ip-10-99-67-21.ec2.internal', 'celery_config_file': 'oscied_lib/celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:02:39,111 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:02:39,164 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:02:39,200 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:02:39,820 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:02:42,984 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:02:46,389 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2963a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2972b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:02:49,448 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:02:52,493 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-changed
2013-05-30 14:02:58,844 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Transform address is ip-10-165-39-161.ec2.internal
2013-05-30 14:03:02,495 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2963a90>
2013-05-30 14:03:03,056 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:03:03,114 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:03:03,176 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 14:03:03,177 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 14:03:04,054 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:03:04,424 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:03:04,741 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:03:05,030 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2cfda50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2d0cb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:03:05,322 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:03:05,604 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-joined
2013-05-30 14:03:06,177 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2cfda50>
2013-05-30 14:03:06,462 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:03:06,515 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 14:03:06,575 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000007/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:03:06,580 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:03:06,581 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:03:06,610 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'api-relation-joined' on 'api:7'
    Setting changed: u'api_url'=u'http://ip-10-196-109-159.ec2.internal:5000' (was unset)
2013-05-30 14:03:06,611 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 14:03:06,613 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 14:03:06,614 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 14:03:06,680 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:03:06,690 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:03:06,691 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:03:06,865 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 14:03:06,877 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:03:07,476 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:03:07,776 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:03:08,061 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:03:08,352 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x12d1a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x12e0b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:03:08,631 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:03:08,913 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-changed
2013-05-30 14:03:09,489 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Publisher address is ip-10-242-202-232.ec2.internal
2013-05-30 14:03:09,786 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x12d1a90>
2013-05-30 14:03:10,079 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:03:10,138 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:03:10,244 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 14:03:10,245 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 14:03:11,012 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:03:11,309 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:03:11,302 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 14:03:11,593 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:03:11,878 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2252a90>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-234-56-238.compute-1.amazonaws.com', 'env_uuid': 'ffb1065c05324a52933c546f31a8003c', 'private_address': 'ip-10-196-109-159.ec2.internal', 'juju_log': <function callable_command at 0x2261b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:03:12,162 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:03:12,289 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-196-109-159.ec2.internal, API URL is http://ip-10-196-109-159.ec2.internal:5000
2013-05-30 14:03:12,443 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-changed
2013-05-30 14:03:12,626 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 14:03:12,667 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 14:03:12,751 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:03:13,073 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register the Orchestrator
2013-05-30 14:03:13,435 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:03:15,344 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Web UI address is ip-10-154-154-107.ec2.internal
2013-05-30 14:03:15,608 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 9627

2013-05-30 14:03:15,635 unit:oscied-webui/0: hook.output INFO:  * Starting web server apache2

2013-05-30 14:03:15,767 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:03:15,768 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:03:15,820 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:03:18,521 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2252a90>
2013-05-30 14:03:21,670 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:03:22,246 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:03:22,646 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 14:13:05,754 unit:oscied-webui/0: unit.lifecycle DEBUG: pre-stop acquire, running:True
2013-05-30 14:13:07,013 ERROR SSH forwarding error: Connection to ec2-50-16-122-10.compute-1.amazonaws.com closed by remote host.

2013-05-30 14:13:07,013 ERROR connection loss /settings
david@GaViD:~/David/git/OSCIED/scripts$ clear

david@GaViD:~/David/git/OSCIED/scripts$ juju debug-log
2013-05-30 14:20:26,627 WARNING ssl-hostname-verification is disabled for this environment
2013-05-30 14:20:26,627 WARNING EC2 API calls encrypted but not authenticated
2013-05-30 14:20:26,627 WARNING S3 API calls encrypted but not authenticated
2013-05-30 14:20:26,627 WARNING Ubuntu Cloud Image lookups encrypted but not authenticated
2013-05-30 14:20:26,628 INFO Connecting to environment...
The authenticity of host 'ec2-54-235-49-4.compute-1.amazonaws.com (54.235.49.4)' can't be established.
ECDSA key fingerprint is 6c:45:89:67:e7:c4:85:cc:18:55:09:f9:16:f6:cd:d8.
Are you sure you want to continue connecting (yes/no)? yes
2013-05-30 14:22:17,497 INFO Connected to environment.
2013-05-30 14:22:17,497 INFO Enabling distributed debug log.
2013-05-30 14:22:17,772 INFO Tailing logs - Ctrl-C to stop.
2013-05-30 14:22:19,499 Machine:0: juju.agents.machine INFO: Machine agent started id:0
2013-05-30 14:24:27,027 Machine:1: juju.agents.machine INFO: Machine agent started id:1
2013-05-30 14:24:27,030 Machine:1: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-orchestra/0'])
2013-05-30 14:24:27,030 Machine:1: juju.agents.machine DEBUG: Starting service unit: oscied-orchestra/0 ...
2013-05-30 14:24:27,059 Machine:1: unit.deploy DEBUG: Downloading charm local:raring/oscied-orchestra-7 to /var/lib/juju/charms
2013-05-30 14:24:27,138 Machine:1: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x2bb80d0> for oscied-orchestra/0 in /var/lib/juju
2013-05-30 14:24:27,139 Machine:1: unit.deploy DEBUG: Starting service unit oscied-orchestra/0...
2013-05-30 14:24:27,761 unit:oscied-orchestra/0: hook.executor DEBUG: started
2013-05-30 14:24:27,776 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 14:24:27,776 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 14:24:27,804 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:24:27,807 Machine:1: unit.deploy INFO: Started service unit oscied-orchestra/0
2013-05-30 14:24:27,828 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/install
2013-05-30 14:24:27,849 unit:oscied-orchestra/0: hook.output INFO: Install OSCIED Library

Extracting templates from packages: 73%hestra/0: hook.output INFO: 
Extracting templates from packages: 100%estra/0: hook.output INFO: 

2013-05-30 14:24:57,344 Machine:2: juju.agents.machine INFO: Machine agent started id:2
2013-05-30 14:24:57,349 Machine:2: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-webui/0'])
2013-05-30 14:24:57,349 Machine:2: juju.agents.machine DEBUG: Starting service unit: oscied-webui/0 ...
2013-05-30 14:24:57,511 Machine:2: unit.deploy DEBUG: Downloading charm local:raring/oscied-webui-2 to /var/lib/juju/charms
2013-05-30 14:25:00,718 Machine:2: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x2e53050> for oscied-webui/0 in /var/lib/juju
2013-05-30 14:25:00,719 Machine:2: unit.deploy DEBUG: Starting service unit oscied-webui/0...
2013-05-30 14:25:01,680 unit:oscied-webui/0: hook.executor DEBUG: started
2013-05-30 14:25:01,690 Machine:2: unit.deploy INFO: Started service unit oscied-webui/0
2013-05-30 14:25:01,694 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 14:25:01,694 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 14:25:01,788 unit:oscied-webui/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:25:01,788 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:25:01,811 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/install
2013-05-30 14:25:06,318 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - install
2013-05-30 14:25:06,385 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring Release.gpg

2013-05-30 14:25:06,392 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates Release.gpg

2013-05-30 14:25:06,412 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring Release
Hit http://security.ubuntu.com raring-security Release.gpg

2013-05-30 14:25:06,419 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates Release

2013-05-30 14:25:06,427 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security Release

2013-05-30 14:25:06,430 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main Sources

2013-05-30 14:25:06,438 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe Sources

2013-05-30 14:25:06,444 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main amd64 Packages

2013-05-30 14:25:06,450 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe amd64 Packages

2013-05-30 14:25:06,457 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/main Translation-en

2013-05-30 14:25:06,458 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/main Sources

2013-05-30 14:25:06,463 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring/universe Translation-en

2013-05-30 14:25:06,470 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main Sources

2013-05-30 14:25:06,472 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/universe Sources

2013-05-30 14:25:06,476 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe Sources

2013-05-30 14:25:06,483 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main amd64 Packages

2013-05-30 14:25:06,486 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/main amd64 Packages

2013-05-30 14:25:06,489 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe amd64 Packages

2013-05-30 14:25:06,496 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/main Translation-en

2013-05-30 14:25:06,500 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/universe amd64 Packages

2013-05-30 14:25:06,504 unit:oscied-webui/0: hook.output INFO: Hit http://us-east-1.ec2.archive.ubuntu.com raring-updates/universe Translation-en

2013-05-30 14:25:06,515 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/main Translation-en

2013-05-30 14:25:06,529 unit:oscied-webui/0: hook.output INFO: Hit http://security.ubuntu.com raring-security/universe Translation-en

2013-05-30 14:25:06,549 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring Release.gpg

2013-05-30 14:25:06,637 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring Release

2013-05-30 14:25:06,730 unit:oscied-webui/0: hook.output INFO: Hit http://ppa.launchpad.net raring/main amd64 Packages

2013-05-30 14:25:07,169 unit:oscied-webui/0: hook.output INFO: Ign http://ppa.launchpad.net raring/main Translation-en

2013-05-30 14:25:07,186 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 14:25:10,038 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,057 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 14:25:10,062 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,071 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 14:25:10,233 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,233 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 14:25:10,234 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,361 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

2013-05-30 14:25:10,653 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Install and configure Network Time Protocol
2013-05-30 14:25:10,687 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 14:25:10,692 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,701 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 14:25:10,854 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,854 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 14:25:10,855 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:10,968 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:25:10,969 unit:oscied-webui/0: hook.output INFO:   libopts25

2013-05-30 14:25:10,970 unit:oscied-webui/0: hook.output INFO: Suggested packages:

2013-05-30 14:25:10,970 unit:oscied-webui/0: hook.output INFO:   ntp-doc

2013-05-30 14:25:10,972 unit:oscied-webui/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:25:10,972 unit:oscied-webui/0: hook.output INFO:   libopts25 ntp

2013-05-30 14:25:11,055 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 677 kB of archives.
After this operation, 1679 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libopts25 amd64 1:5.17.1-1ubuntu2 [62.2 kB]

2013-05-30 14:25:11,102 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main ntp amd64 1:4.2.6.p5+dfsg-2ubuntu1 [614 kB]

2013-05-30 14:25:11,401 unit:oscied-webui/0: hook.output INFO: Fetched 677 kB in 0s (4950 kB/s)

2013-05-30 14:25:11,477 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libopts25.

2013-05-30 14:25:11,478 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:25:11,523 unit:oscied-webui/0: hook.output INFO: 55913 files and directories currently installed.)

2013-05-30 14:25:11,527 unit:oscied-webui/0: hook.output INFO: Unpacking libopts25 (from .../libopts25_1%3a5.17.1-1ubuntu2_amd64.deb) ...

2013-05-30 14:25:11,647 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package ntp.

2013-05-30 14:25:11,659 unit:oscied-webui/0: hook.output INFO: Unpacking ntp (from .../ntp_1%3a4.2.6.p5+dfsg-2ubuntu1_amd64.deb) ...

2013-05-30 14:25:11,857 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 14:25:12,968 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:25:13,047 unit:oscied-webui/0: hook.output INFO: Setting up libopts25 (1:5.17.1-1ubuntu2) ...

2013-05-30 14:25:13,257 unit:oscied-webui/0: hook.output INFO: Setting up ntp (1:4.2.6.p5+dfsg-2ubuntu1) ...

2013-05-30 14:25:13,945 unit:oscied-webui/0: hook.output INFO:  * Starting NTP server ntpd

2013-05-30 14:25:13,957 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:25:13,972 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 14:25:13,982 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 14:25:14,013 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:25:14,890 unit:oscied-webui/0: hook.output INFO:  * Stopping NTP server ntpd

2013-05-30 14:25:14,894 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:25:16,910 unit:oscied-webui/0: hook.output INFO:  * Starting NTP server ntpd

2013-05-30 14:25:16,923 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:25:17,231 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Install and configure MySQL
2013-05-30 14:25:17,803 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 14:25:17,810 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:17,819 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 14:25:17,971 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:17,972 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 14:25:17,973 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:18,079 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:25:18,080 unit:oscied-webui/0: hook.output INFO:   fuse-utils glusterfs-common libaio1 libdbd-mysql-perl libdbi-perl

2013-05-30 14:25:18,080 unit:oscied-webui/0: hook.output INFO:   libgssglue1 libhtml-template-perl libibverbs1 libmysqlclient18

2013-05-30 14:25:18,081 unit:oscied-webui/0: hook.output INFO:   libnet-daemon-perl libnfsidmap2 libplrpc-perl libterm-readkey-perl libtirpc1

2013-05-30 14:25:18,081 unit:oscied-webui/0: hook.output INFO:   mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server-5.5

2013-05-30 14:25:18,082 unit:oscied-webui/0: hook.output INFO:   mysql-server-core-5.5 rpcbind

2013-05-30 14:25:18,083 unit:oscied-webui/0: hook.output INFO: Suggested packages:

2013-05-30 14:25:18,083 unit:oscied-webui/0: hook.output INFO:   glusterfs-examples libipc-sharedcache-perl tinyca mailx open-iscsi watchdog

2013-05-30 14:25:18,085 unit:oscied-webui/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:25:18,086 unit:oscied-webui/0: hook.output INFO:   fuse-utils glusterfs-client glusterfs-common libaio1 libdbd-mysql-perl

2013-05-30 14:25:18,086 unit:oscied-webui/0: hook.output INFO:   libdbi-perl libgssglue1 libhtml-template-perl libibverbs1 libmysqlclient18

2013-05-30 14:25:18,091 unit:oscied-webui/0: hook.output INFO:   libnet-daemon-perl libnfsidmap2 libplrpc-perl libterm-readkey-perl libtirpc1
  mysql-client-5.5 mysql-client-core-5.5 mysql-common mysql-server
  mysql-server-5.5 mysql-server-core-5.5 nfs-common rpcbind

2013-05-30 14:25:18,155 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 23 newly installed, 0 to remove and 0 not upgraded.
Need to get 37.9 MB of archives.
After this operation, 139 MB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaio1 amd64 0.3.109-3 [6328 B]

2013-05-30 14:25:18,201 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libgssglue1 amd64 0.4-2 [22.6 kB]

2013-05-30 14:25:18,270 unit:oscied-webui/0: hook.output INFO: Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-common all 5.5.31-0ubuntu0.13.04.1 [13.2 kB]

2013-05-30 14:25:18,345 unit:oscied-webui/0: hook.output INFO: Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main libmysqlclient18 amd64 5.5.31-0ubuntu0.13.04.1 [926 kB]

2013-05-30 14:25:18,568 unit:oscied-webui/0: hook.output INFO: Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libnfsidmap2 amd64 0.25-4ubuntu1 [32.3 kB]

2013-05-30 14:25:18,599 unit:oscied-webui/0: hook.output INFO: Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libnet-daemon-perl all 0.48-1 [43.1 kB]

2013-05-30 14:25:18,649 unit:oscied-webui/0: hook.output INFO: Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libplrpc-perl all 0.2020-2 [36.0 kB]

2013-05-30 14:25:18,716 unit:oscied-webui/0: hook.output INFO: Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libdbi-perl amd64 1.622-1 [852 kB]

2013-05-30 14:25:18,792 unit:oscied-webui/0: hook.output INFO: Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libdbd-mysql-perl amd64 4.021-1 [97.7 kB]

2013-05-30 14:25:18,938 unit:oscied-webui/0: hook.output INFO: Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-client-core-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [1884 kB]

2013-05-30 14:25:19,230 unit:oscied-webui/0: hook.output INFO: Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libterm-readkey-perl amd64 2.30-4build4 [28.4 kB]

2013-05-30 14:25:19,367 unit:oscied-webui/0: hook.output INFO: Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-client-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [8188 kB]

2013-05-30 14:25:19,831 unit:oscied-webui/0: hook.output INFO: Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server-core-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [5876 kB]

2013-05-30 14:25:20,341 unit:oscied-webui/0: hook.output INFO: Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server-5.5 amd64 5.5.31-0ubuntu0.13.04.1 [8815 kB]

2013-05-30 14:25:20,830 unit:oscied-webui/0: hook.output INFO: Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libtirpc1 amd64 0.2.2-5build1 [84.9 kB]

2013-05-30 14:25:20,871 unit:oscied-webui/0: hook.output INFO: Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main rpcbind amd64 0.2.0-8ubuntu1 [43.5 kB]

2013-05-30 14:25:20,919 unit:oscied-webui/0: hook.output INFO: Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main fuse-utils all 2.9.0-1ubuntu3 [1756 B]

2013-05-30 14:25:20,971 unit:oscied-webui/0: hook.output INFO: Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libibverbs1 amd64 1.1.6-1ubuntu1 [28.0 kB]

2013-05-30 14:25:21,053 unit:oscied-webui/0: hook.output INFO: Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe glusterfs-common amd64 3.2.7-3ubuntu1 [10.6 MB]

2013-05-30 14:25:21,643 unit:oscied-webui/0: hook.output INFO: Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe glusterfs-client amd64 3.2.7-3ubuntu1 [8236 B]

2013-05-30 14:25:21,694 unit:oscied-webui/0: hook.output INFO: Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libhtml-template-perl all 2.91-1 [65.1 kB]

2013-05-30 14:25:21,734 unit:oscied-webui/0: hook.output INFO: Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring-updates/main mysql-server all 5.5.31-0ubuntu0.13.04.1 [11.4 kB]

2013-05-30 14:25:21,777 unit:oscied-webui/0: hook.output INFO: Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main nfs-common amd64 1:1.2.6-3ubuntu2 [249 kB]

2013-05-30 14:25:22,103 unit:oscied-webui/0: hook.output INFO: Preconfiguring packages ...

2013-05-30 14:25:22,254 unit:oscied-webui/0: hook.output INFO: Fetched 37.9 MB in 3s (10.3 MB/s)

2013-05-30 14:25:22,341 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaio1:amd64.

2013-05-30 14:25:22,341 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:25:22,388 unit:oscied-webui/0: hook.output INFO: 55956 files and directories currently installed.)

2013-05-30 14:25:22,392 unit:oscied-webui/0: hook.output INFO: Unpacking libaio1:amd64 (from .../libaio1_0.3.109-3_amd64.deb) ...

2013-05-30 14:25:22,523 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libgssglue1:amd64.

2013-05-30 14:25:22,537 unit:oscied-webui/0: hook.output INFO: Unpacking libgssglue1:amd64 (from .../libgssglue1_0.4-2_amd64.deb) ...

2013-05-30 14:25:22,715 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-common.

2013-05-30 14:25:22,729 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-common (from .../mysql-common_5.5.31-0ubuntu0.13.04.1_all.deb) ...

2013-05-30 14:25:22,867 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libmysqlclient18:amd64.

2013-05-30 14:25:22,881 unit:oscied-webui/0: hook.output INFO: Unpacking libmysqlclient18:amd64 (from .../libmysqlclient18_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 14:25:23,139 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libnfsidmap2:amd64.

2013-05-30 14:25:23,150 unit:oscied-webui/0: hook.output INFO: Unpacking libnfsidmap2:amd64 (from .../libnfsidmap2_0.25-4ubuntu1_amd64.deb) ...

2013-05-30 14:25:23,359 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libnet-daemon-perl.

2013-05-30 14:25:23,369 unit:oscied-webui/0: hook.output INFO: Unpacking libnet-daemon-perl (from .../libnet-daemon-perl_0.48-1_all.deb) ...

2013-05-30 14:25:23,499 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libplrpc-perl.

2013-05-30 14:25:23,510 unit:oscied-webui/0: hook.output INFO: Unpacking libplrpc-perl (from .../libplrpc-perl_0.2020-2_all.deb) ...

2013-05-30 14:25:23,647 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libdbi-perl.

2013-05-30 14:25:23,660 unit:oscied-webui/0: hook.output INFO: Unpacking libdbi-perl (from .../libdbi-perl_1.622-1_amd64.deb) ...

2013-05-30 14:25:23,887 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libdbd-mysql-perl.

2013-05-30 14:25:23,900 unit:oscied-webui/0: hook.output INFO: Unpacking libdbd-mysql-perl (from .../libdbd-mysql-perl_4.021-1_amd64.deb) ...

2013-05-30 14:25:24,227 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-client-core-5.5.

2013-05-30 14:25:24,242 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-client-core-5.5 (from .../mysql-client-core-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 14:25:24,575 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libterm-readkey-perl.

2013-05-30 14:25:24,586 unit:oscied-webui/0: hook.output INFO: Unpacking libterm-readkey-perl (from .../libterm-readkey-perl_2.30-4build4_amd64.deb) ...

2013-05-30 14:25:24,727 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-client-5.5.

2013-05-30 14:25:24,738 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-client-5.5 (from .../mysql-client-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 14:25:26,139 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server-core-5.5.

2013-05-30 14:25:26,151 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server-core-5.5 (from .../mysql-server-core-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 14:25:26,867 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 14:25:28,592 unit:oscied-webui/0: hook.output INFO: Setting up mysql-common (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:28,796 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server-5.5.

2013-05-30 14:25:28,797 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:25:28,842 unit:oscied-webui/0: hook.output INFO: 56357 files and directories currently installed.)

2013-05-30 14:25:28,845 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server-5.5 (from .../mysql-server-5.5_5.5.31-0ubuntu0.13.04.1_amd64.deb) ...

2013-05-30 14:25:31,363 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libtirpc1:amd64.

2013-05-30 14:25:31,378 unit:oscied-webui/0: hook.output INFO: Unpacking libtirpc1:amd64 (from .../libtirpc1_0.2.2-5build1_amd64.deb) ...

2013-05-30 14:25:31,631 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package rpcbind.

2013-05-30 14:25:31,646 unit:oscied-webui/0: hook.output INFO: Unpacking rpcbind (from .../rpcbind_0.2.0-8ubuntu1_amd64.deb) ...

2013-05-30 14:25:31,875 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package fuse-utils.

2013-05-30 14:25:31,888 unit:oscied-webui/0: hook.output INFO: Unpacking fuse-utils (from .../fuse-utils_2.9.0-1ubuntu3_all.deb) ...

2013-05-30 14:25:32,125 Machine:3: juju.agents.machine INFO: Machine agent started id:3
2013-05-30 14:25:32,131 Machine:3: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-storage/0'])
2013-05-30 14:25:32,131 Machine:3: juju.agents.machine DEBUG: Starting service unit: oscied-storage/0 ...
2013-05-30 14:25:32,165 Machine:3: unit.deploy DEBUG: Downloading charm local:raring/oscied-storage-14 to /var/lib/juju/charms
2013-05-30 14:25:32,059 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libibverbs1.

2013-05-30 14:25:32,072 unit:oscied-webui/0: hook.output INFO: Unpacking libibverbs1 (from .../libibverbs1_1.1.6-1ubuntu1_amd64.deb) ...

2013-05-30 14:25:32,270 Machine:3: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x1b5e210> for oscied-storage/0 in /var/lib/juju
2013-05-30 14:25:32,271 Machine:3: unit.deploy DEBUG: Starting service unit oscied-storage/0...
2013-05-30 14:25:32,243 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package glusterfs-common.

2013-05-30 14:25:32,258 unit:oscied-webui/0: hook.output INFO: Unpacking glusterfs-common (from .../glusterfs-common_3.2.7-3ubuntu1_amd64.deb) ...

2013-05-30 14:25:32,864 unit:oscied-storage/0: hook.executor DEBUG: started
2013-05-30 14:25:32,876 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 14:25:32,876 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 14:25:32,925 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:25:32,929 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:3
2013-05-30 14:25:32,933 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 14:25:32,942 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:25:32,947 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:25:32,948 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:25:32,956 Machine:3: unit.deploy INFO: Started service unit oscied-storage/0
2013-05-30 14:25:32,968 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/install
2013-05-30 14:25:32,989 unit:oscied-storage/0: hook.output INFO: Install OSCIED Library

2013-05-30 14:25:33,559 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package glusterfs-client.

2013-05-30 14:25:33,574 unit:oscied-webui/0: hook.output INFO: Unpacking glusterfs-client (from .../glusterfs-client_3.2.7-3ubuntu1_amd64.deb) ...

2013-05-30 14:25:33,751 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libhtml-template-perl.

2013-05-30 14:25:33,766 unit:oscied-webui/0: hook.output INFO: Unpacking libhtml-template-perl (from .../libhtml-template-perl_2.91-1_all.deb) ...

2013-05-30 14:25:33,967 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package mysql-server.

2013-05-30 14:25:33,981 unit:oscied-webui/0: hook.output INFO: Unpacking mysql-server (from .../mysql-server_5.5.31-0ubuntu0.13.04.1_all.deb) ...

2013-05-30 14:25:34,156 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package nfs-common.

2013-05-30 14:25:34,171 unit:oscied-webui/0: hook.output INFO: Unpacking nfs-common (from .../nfs-common_1%3a1.2.6-3ubuntu2_amd64.deb) ...

2013-05-30 14:25:34,366 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 14:25:35,882 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:25:35,996 unit:oscied-webui/0: hook.output INFO: Setting up libaio1:amd64 (0.3.109-3) ...

2013-05-30 14:25:36,090 unit:oscied-webui/0: hook.output INFO: Setting up libgssglue1:amd64 (0.4-2) ...

2013-05-30 14:25:36,186 unit:oscied-webui/0: hook.output INFO: Setting up libmysqlclient18:amd64 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:36,258 unit:oscied-webui/0: hook.output INFO: Setting up libnfsidmap2:amd64 (0.25-4ubuntu1) ...

2013-05-30 14:25:36,330 unit:oscied-webui/0: hook.output INFO: Setting up libnet-daemon-perl (0.48-1) ...

2013-05-30 14:25:36,378 unit:oscied-webui/0: hook.output INFO: Setting up libplrpc-perl (0.2020-2) ...

2013-05-30 14:25:36,430 unit:oscied-webui/0: hook.output INFO: Setting up libdbi-perl (1.622-1) ...

2013-05-30 14:25:36,482 unit:oscied-webui/0: hook.output INFO: Setting up libdbd-mysql-perl (4.021-1) ...

2013-05-30 14:25:36,533 unit:oscied-webui/0: hook.output INFO: Setting up mysql-client-core-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:36,670 unit:oscied-webui/0: hook.output INFO: Setting up libterm-readkey-perl (2.30-4build4) ...

2013-05-30 14:25:36,714 unit:oscied-webui/0: hook.output INFO: Setting up mysql-client-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:36,770 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server-core-5.5 (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:36,826 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server-5.5 (5.5.31-0ubuntu0.13.04.1) ...

Extracting templates from packages: 73%rage/0: hook.output INFO: 
Extracting templates from packages: 100%age/0: hook.output INFO: 

2013-05-30 14:25:51,660 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 5442

2013-05-30 14:25:51,873 unit:oscied-webui/0: hook.output INFO: Setting up libtirpc1:amd64 (0.2.2-5build1) ...

2013-05-30 14:25:52,123 unit:oscied-webui/0: hook.output INFO: Setting up rpcbind (0.2.0-8ubuntu1) ...

2013-05-30 14:25:52,347 unit:oscied-webui/0: hook.output INFO:  Removing any system startup links for /etc/init.d/rpcbind ...

2013-05-30 14:25:52,453 unit:oscied-webui/0: hook.output INFO: portmap start/running, process 5546

2013-05-30 14:25:52,475 unit:oscied-webui/0: hook.output INFO: Setting up fuse-utils (2.9.0-1ubuntu3) ...

2013-05-30 14:25:52,514 unit:oscied-webui/0: hook.output INFO: Setting up libibverbs1 (1.1.6-1ubuntu1) ...

2013-05-30 14:25:52,618 unit:oscied-webui/0: hook.output INFO: Setting up glusterfs-common (3.2.7-3ubuntu1) ...

2013-05-30 14:25:52,746 unit:oscied-webui/0: hook.output INFO: Setting up glusterfs-client (3.2.7-3ubuntu1) ...

2013-05-30 14:25:52,831 unit:oscied-webui/0: hook.output INFO: Setting up libhtml-template-perl (2.91-1) ...

2013-05-30 14:25:52,873 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:25:52,960 unit:oscied-webui/0: hook.output INFO: Setting up mysql-server (5.5.31-0ubuntu0.13.04.1) ...

2013-05-30 14:25:53,082 unit:oscied-webui/0: hook.output INFO: Setting up nfs-common (1:1.2.6-3ubuntu2) ...

2013-05-30 14:25:53,983 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:53,984 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/idmapd.conf with new version

2013-05-30 14:25:54,836 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:25:54,837 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/default/nfs-common with new version

2013-05-30 14:25:55,049 unit:oscied-webui/0: hook.output INFO: Adding system user `statd' (UID 108) ...
Adding new user `statd' (UID 108) with group `nogroup' ...

2013-05-30 14:25:55,203 unit:oscied-webui/0: hook.output INFO: Not creating home directory `/var/lib/nfs'.

2013-05-30 14:25:55,313 unit:oscied-webui/0: hook.output INFO: statd start/running, process 5852

2013-05-30 14:25:55,396 unit:oscied-webui/0: hook.output INFO: gssd stop/pre-start, process 5881

2013-05-30 14:25:55,555 unit:oscied-webui/0: hook.output INFO: idmapd start/running, process 5923

2013-05-30 14:25:55,586 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 14:25:55,604 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 14:25:55,642 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:25:57,509 unit:oscied-webui/0: hook.output INFO: mysql stop/waiting

2013-05-30 14:25:59,623 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 5954

2013-05-30 14:26:00,255 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Import Web User Interface database
2013-05-30 14:26:00,660 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create Web User Interface user
2013-05-30 14:26:00,976 Machine:4: juju.agents.machine INFO: Machine agent started id:4
2013-05-30 14:26:00,982 Machine:4: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-transform/0'])
2013-05-30 14:26:00,982 Machine:4: juju.agents.machine DEBUG: Starting service unit: oscied-transform/0 ...
2013-05-30 14:26:00,987 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Install and configure Apache2 + PHP
2013-05-30 14:26:01,019 Machine:4: unit.deploy DEBUG: Downloading charm local:raring/oscied-transform-7 to /var/lib/juju/charms
2013-05-30 14:26:01,888 Machine:4: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x3512110> for oscied-transform/0 in /var/lib/juju
2013-05-30 14:26:01,889 Machine:4: unit.deploy DEBUG: Starting service unit oscied-transform/0...
2013-05-30 14:26:02,473 unit:oscied-webui/0: hook.output INFO: Reading package lists...
2013-05-30 14:26:02,478 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:02,488 unit:oscied-webui/0: hook.output INFO: Building dependency tree...
2013-05-30 14:26:02,670 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:02,709 Machine:4: unit.deploy INFO: Started service unit oscied-transform/0
2013-05-30 14:26:02,671 unit:oscied-webui/0: hook.output INFO: Reading state information...
2013-05-30 14:26:02,672 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:02,746 unit:oscied-transform/0: hook.executor DEBUG: started
2013-05-30 14:26:02,781 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 14:26:02,782 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 14:26:02,815 Machine:5: juju.agents.machine INFO: Machine agent started id:5
2013-05-30 14:26:02,820 Machine:5: juju.agents.machine DEBUG: Units changed old:set([]) new:set(['oscied-publisher/0'])
2013-05-30 14:26:02,821 Machine:5: juju.agents.machine DEBUG: Starting service unit: oscied-publisher/0 ...
2013-05-30 14:26:02,795 unit:oscied-webui/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:26:02,796 unit:oscied-webui/0: hook.output INFO:   apache2-mpm-prefork apache2-utils apache2.2-bin apache2.2-common

2013-05-30 14:26:02,796 unit:oscied-webui/0: hook.output INFO:   dbconfig-common javascript-common libapache2-mod-php5 libapr1 libaprutil1

2013-05-30 14:26:02,797 unit:oscied-webui/0: hook.output INFO:   libaprutil1-dbd-sqlite3 libaprutil1-ldap libgd2-xpm libjs-codemirror

2013-05-30 14:26:02,797 unit:oscied-webui/0: hook.output INFO:   libjs-jquery-cookie libjs-jquery-event-drag libjs-jquery-metadata

2013-05-30 14:26:02,797 unit:oscied-webui/0: hook.output INFO:   libjs-jquery-mousewheel libjs-jquery-tablesorter libjs-jquery-ui libmcrypt4

2013-05-30 14:26:02,803 unit:oscied-webui/0: hook.output INFO:   php-gettext php5-common php5-mcrypt ssl-cert wwwconfig-common
Suggested packages:
  apache2-doc apache2-suexec apache2-suexec-custom php-pear libgd-tools
  libjs-jquery-ui-docs libmcrypt-dev mcrypt openssl-blacklist
  postgresql-client
The following packages will be REMOVED:
  libgd2-noxpm
The following NEW packages will be installed:
  apache2 apache2-mpm-prefork apache2-utils apache2.2-bin apache2.2-common
  dbconfig-common javascript-common libapache2-mod-auth-mysql
  libapache2-mod-php5 libapr1 libaprutil1 libaprutil1-dbd-sqlite3
  libaprutil1-ldap libgd2-xpm libjs-codemirror libjs-jquery-cookie
  libjs-jquery-event-drag libjs-jquery-metadata libjs-jquery-mousewheel
  libjs-jquery-tablesorter libjs-jquery-ui libmcrypt4 php-gettext php5
  php5-cli php5-common php5-curl php5-gd php5-mcrypt php5-mysql phpmyadmin
  ssl-cert wwwconfig-common

2013-05-30 14:26:02,834 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:26:02,859 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:26:02,860 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:26:02,873 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/install
2013-05-30 14:26:02,875 Machine:5: unit.deploy DEBUG: Downloading charm local:raring/oscied-publisher-6 to /var/lib/juju/charms
2013-05-30 14:26:02,899 unit:oscied-transform/0: hook.output INFO: Install OSCIED Library

2013-05-30 14:26:02,900 unit:oscied-webui/0: hook.output INFO: 0 upgraded, 33 newly installed, 1 to remove and 0 not upgraded.
Need to get 17.3 MB of archives.
After this operation, 54.3 MB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libgd2-xpm amd64 2.0.36~rc1~dfsg-6.1ubuntu1 [202 kB]

2013-05-30 14:26:03,048 unit:oscied-webui/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-common amd64 5.4.9-4ubuntu2 [431 kB]

2013-05-30 14:26:03,172 unit:oscied-webui/0: hook.output INFO: Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-cli amd64 5.4.9-4ubuntu2 [2631 kB]

2013-05-30 14:26:03,233 Machine:5: unit.deploy DEBUG: Using <juju.machine.unit.UnitMachineDeployment object at 0x27cf110> for oscied-publisher/0 in /var/lib/juju
2013-05-30 14:26:03,234 Machine:5: unit.deploy DEBUG: Starting service unit oscied-publisher/0...
2013-05-30 14:26:03,372 unit:oscied-webui/0: hook.output INFO: Get:4 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapr1 amd64 1.4.6-3ubuntu1 [90.3 kB]

2013-05-30 14:26:03,425 unit:oscied-webui/0: hook.output INFO: Get:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1 amd64 1.4.1-3 [83.8 kB]

2013-05-30 14:26:03,456 unit:oscied-webui/0: hook.output INFO: Get:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1-dbd-sqlite3 amd64 1.4.1-3 [12.0 kB]

2013-05-30 14:26:03,503 unit:oscied-webui/0: hook.output INFO: Get:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libaprutil1-ldap amd64 1.4.1-3 [9568 B]

2013-05-30 14:26:03,651 unit:oscied-webui/0: hook.output INFO: Get:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2.2-bin amd64 2.2.22-6ubuntu5 [3127 kB]

2013-05-30 14:26:03,825 unit:oscied-webui/0: hook.output INFO: Get:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2-utils amd64 2.2.22-6ubuntu5 [90.5 kB]

2013-05-30 14:26:03,895 unit:oscied-publisher/0: hook.executor DEBUG: started
2013-05-30 14:26:03,905 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition install (None -> installed) {}
2013-05-30 14:26:03,907 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_install
2013-05-30 14:26:03,958 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:26:03,963 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:26:03,963 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:26:03,970 Machine:5: unit.deploy INFO: Started service unit oscied-publisher/0
2013-05-30 14:26:03,975 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/install
2013-05-30 14:26:03,954 unit:oscied-webui/0: hook.output INFO: Get:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2.2-common amd64 2.2.22-6ubuntu5 [227 kB]

2013-05-30 14:26:03,999 unit:oscied-publisher/0: hook.output INFO: Install OSCIED Library

2013-05-30 14:26:04,073 unit:oscied-webui/0: hook.output INFO: Get:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2-mpm-prefork amd64 2.2.22-6ubuntu5 [2354 B]

2013-05-30 14:26:04,137 unit:oscied-webui/0: hook.output INFO: Get:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapache2-mod-php5 amd64 5.4.9-4ubuntu2 [2735 kB]

2013-05-30 14:26:04,282 unit:oscied-webui/0: hook.output INFO: Get:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-curl amd64 5.4.9-4ubuntu2 [29.0 kB]

2013-05-30 14:26:04,330 unit:oscied-webui/0: hook.output INFO: Get:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-gd amd64 5.4.9-4ubuntu2 [35.2 kB]

2013-05-30 14:26:04,363 unit:oscied-webui/0: hook.output INFO: Get:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5-mysql amd64 5.4.9-4ubuntu2 [79.1 kB]

2013-05-30 14:26:04,464 unit:oscied-webui/0: hook.output INFO: Get:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main apache2 amd64 2.2.22-6ubuntu5 [1442 B]

2013-05-30 14:26:04,506 unit:oscied-webui/0: hook.output INFO: Get:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main dbconfig-common all 1.8.47+nmu1 [468 kB]

2013-05-30 14:26:04,584 unit:oscied-webui/0: hook.output INFO: Get:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe wwwconfig-common all 0.2.2 [18.0 kB]

2013-05-30 14:26:04,618 unit:oscied-webui/0: hook.output INFO: Get:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe javascript-common all 8 [4208 B]

2013-05-30 14:26:04,650 unit:oscied-webui/0: hook.output INFO: Get:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main libapache2-mod-auth-mysql amd64 4.3.9-13.1ubuntu1 [22.5 kB]

2013-05-30 14:26:04,707 unit:oscied-webui/0: hook.output INFO: Get:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-cookie all 8-2 [6502 B]

2013-05-30 14:26:04,753 unit:oscied-webui/0: hook.output INFO: Get:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-event-drag all 8-2 [11.2 kB]

2013-05-30 14:26:04,793 unit:oscied-webui/0: hook.output INFO: Get:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-metadata all 8-2 [6856 B]

2013-05-30 14:26:04,822 unit:oscied-webui/0: hook.output INFO: Get:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-mousewheel all 8-2 [7076 B]

2013-05-30 14:26:04,875 unit:oscied-webui/0: hook.output INFO: Get:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-tablesorter all 8-2 [64.0 kB]

2013-05-30 14:26:04,965 unit:oscied-webui/0: hook.output INFO: Get:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-jquery-ui all 1.8.ooops.21+dfsg-2 [384 kB]

2013-05-30 14:26:05,030 unit:oscied-webui/0: hook.output INFO: Get:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libmcrypt4 amd64 2.5.8-3.1 [87.6 kB]

2013-05-30 14:26:05,085 unit:oscied-webui/0: hook.output INFO: Get:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main php5 all 5.4.9-4ubuntu2 [1060 B]

2013-05-30 14:26:05,181 unit:oscied-webui/0: hook.output INFO: Get:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe php-gettext all 1.0.11-1 [17.2 kB]

2013-05-30 14:26:05,243 unit:oscied-webui/0: hook.output INFO: Get:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe php5-mcrypt amd64 5.4.6-0ubuntu1 [18.7 kB]

2013-05-30 14:26:05,255 unit:oscied-webui/0: hook.output INFO: Get:31 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/main ssl-cert all 1.0.32 [16.4 kB]

2013-05-30 14:26:05,315 unit:oscied-webui/0: hook.output INFO: Get:32 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe libjs-codemirror all 2.23-1 [210 kB]

2013-05-30 14:26:05,410 unit:oscied-webui/0: hook.output INFO: Get:33 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe phpmyadmin all 4:3.5.8.1-1 [6196 kB]

Extracting templates from packages: 90%ui/0: hook.output INFO: 
Extracting templates from packages: 100%i/0: hook.output INFO: 

2013-05-30 14:26:06,075 unit:oscied-webui/0: hook.output INFO: Preconfiguring packages ...

2013-05-30 14:26:06,367 unit:oscied-webui/0: hook.output INFO: Fetched 17.3 MB in 2s (6059 kB/s)

2013-05-30 14:26:06,714 unit:oscied-webui/0: hook.output INFO: dpkg: libgd2-noxpm:amd64: dependency problems, but removing anyway as you requested:
 libgvc5 depends on libgd2-noxpm (>= 2.0.36~rc1~dfsg) | libgd2-xpm (>= 2.0.36~rc1~dfsg); however:
  Package libgd2-noxpm:amd64 is to be removed.
  Package libgd2-xpm is not installed.
 graphviz depends on libgd2-noxpm (>= 2.0.36~rc1~dfsg) | libgd2-xpm (>= 2.0.36~rc1~dfsg); however:
  Package libgd2-noxpm:amd64 is to be removed.
  Package libgd2-xpm is not installed.


2013-05-30 14:26:06,715 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:26:06,760 unit:oscied-webui/0: hook.output INFO: 56847 files and directories currently installed.)

2013-05-30 14:26:06,763 unit:oscied-webui/0: hook.output INFO: Removing libgd2-noxpm:amd64 ...

2013-05-30 14:26:06,894 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 14:26:06,921 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 14:26:07,123 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libgd2-xpm:amd64.

2013-05-30 14:26:07,124 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:26:07,169 unit:oscied-webui/0: hook.output INFO: 56838 files and directories currently installed.)

2013-05-30 14:26:07,172 unit:oscied-webui/0: hook.output INFO: Unpacking libgd2-xpm:amd64 (from .../libgd2-xpm_2.0.36~rc1~dfsg-6.1ubuntu1_amd64.deb) ...

2013-05-30 14:26:07,376 unit:oscied-webui/0: hook.output INFO: Setting up libgd2-xpm:amd64 (2.0.36~rc1~dfsg-6.1ubuntu1) ...

2013-05-30 14:26:07,478 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 14:26:07,497 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 14:26:07,748 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-common.

2013-05-30 14:26:07,749 unit:oscied-webui/0: hook.output INFO: (Reading database ... 
2013-05-30 14:26:07,795 unit:oscied-webui/0: hook.output INFO: 56847 files and directories currently installed.)

2013-05-30 14:26:07,799 unit:oscied-webui/0: hook.output INFO: Unpacking php5-common (from .../php5-common_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:08,003 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-cli.

2013-05-30 14:26:08,015 unit:oscied-webui/0: hook.output INFO: Unpacking php5-cli (from .../php5-cli_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:08,571 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapr1.

2013-05-30 14:26:08,586 unit:oscied-webui/0: hook.output INFO: Unpacking libapr1 (from .../libapr1_1.4.6-3ubuntu1_amd64.deb) ...

2013-05-30 14:26:08,787 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1.

2013-05-30 14:26:08,801 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1 (from .../libaprutil1_1.4.1-3_amd64.deb) ...

2013-05-30 14:26:08,947 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1-dbd-sqlite3.

2013-05-30 14:26:08,959 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1-dbd-sqlite3 (from .../libaprutil1-dbd-sqlite3_1.4.1-3_amd64.deb) ...

2013-05-30 14:26:09,099 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libaprutil1-ldap.

2013-05-30 14:26:09,112 unit:oscied-webui/0: hook.output INFO: Unpacking libaprutil1-ldap (from .../libaprutil1-ldap_1.4.1-3_amd64.deb) ...

2013-05-30 14:26:09,255 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.2-bin.

2013-05-30 14:26:09,268 unit:oscied-webui/0: hook.output INFO: Unpacking apache2.2-bin (from .../apache2.2-bin_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 14:26:09,819 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2-utils.

2013-05-30 14:26:09,832 unit:oscied-webui/0: hook.output INFO: Unpacking apache2-utils (from .../apache2-utils_2.2.22-6ubuntu5_amd64.deb) ...

Extracting templates from packages: 73%nsform/0: hook.output INFO: 
Extracting templates from packages: 100%sform/0: hook.output INFO: 

2013-05-30 14:26:10,039 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.2-common.

2013-05-30 14:26:10,054 unit:oscied-webui/0: hook.output INFO: Unpacking apache2.2-common (from .../apache2.2-common_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 14:26:10,475 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2-mpm-prefork.

2013-05-30 14:26:10,490 unit:oscied-webui/0: hook.output INFO: Unpacking apache2-mpm-prefork (from .../apache2-mpm-prefork_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 14:26:10,703 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapache2-mod-php5.

2013-05-30 14:26:10,719 unit:oscied-webui/0: hook.output INFO: Unpacking libapache2-mod-php5 (from .../libapache2-mod-php5_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:11,355 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-curl.

2013-05-30 14:26:11,367 unit:oscied-webui/0: hook.output INFO: Unpacking php5-curl (from .../php5-curl_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:11,706 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-gd.

2013-05-30 14:26:11,722 unit:oscied-webui/0: hook.output INFO: Unpacking php5-gd (from .../php5-gd_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:11,951 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-mysql.

2013-05-30 14:26:11,965 unit:oscied-webui/0: hook.output INFO: Unpacking php5-mysql (from .../php5-mysql_5.4.9-4ubuntu2_amd64.deb) ...

2013-05-30 14:26:12,131 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package apache2.

2013-05-30 14:26:12,146 unit:oscied-webui/0: hook.output INFO: Unpacking apache2 (from .../apache2_2.2.22-6ubuntu5_amd64.deb) ...

2013-05-30 14:26:12,367 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package dbconfig-common.

2013-05-30 14:26:12,384 unit:oscied-webui/0: hook.output INFO: Unpacking dbconfig-common (from .../dbconfig-common_1.8.47+nmu1_all.deb) ...

2013-05-30 14:26:12,651 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package wwwconfig-common.

2013-05-30 14:26:12,666 unit:oscied-webui/0: hook.output INFO: Unpacking wwwconfig-common (from .../wwwconfig-common_0.2.2_all.deb) ...

2013-05-30 14:26:12,839 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package javascript-common.

2013-05-30 14:26:12,853 unit:oscied-webui/0: hook.output INFO: Unpacking javascript-common (from .../javascript-common_8_all.deb) ...

2013-05-30 14:26:13,011 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libapache2-mod-auth-mysql.

2013-05-30 14:26:13,023 unit:oscied-webui/0: hook.output INFO: Unpacking libapache2-mod-auth-mysql (from .../libapache2-mod-auth-mysql_4.3.9-13.1ubuntu1_amd64.deb) ...

2013-05-30 14:26:13,183 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-cookie.

2013-05-30 14:26:13,197 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-cookie (from .../libjs-jquery-cookie_8-2_all.deb) ...

2013-05-30 14:26:13,359 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-event-drag.

2013-05-30 14:26:13,372 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-event-drag (from .../libjs-jquery-event-drag_8-2_all.deb) ...

2013-05-30 14:26:13,527 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-metadata.

2013-05-30 14:26:13,538 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-metadata (from .../libjs-jquery-metadata_8-2_all.deb) ...

2013-05-30 14:26:13,605 unit:oscied-orchestra/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 14:26:13,695 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-mousewheel.

2013-05-30 14:26:13,709 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-mousewheel (from .../libjs-jquery-mousewheel_8-2_all.deb) ...

2013-05-30 14:26:13,859 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-tablesorter.

2013-05-30 14:26:13,872 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-tablesorter (from .../libjs-jquery-tablesorter_8-2_all.deb) ...

2013-05-30 14:26:14,059 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-jquery-ui.

2013-05-30 14:26:14,073 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-jquery-ui (from .../libjs-jquery-ui_1.8.ooops.21+dfsg-2_all.deb) ...

2013-05-30 14:26:14,383 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libmcrypt4.

2013-05-30 14:26:14,397 unit:oscied-webui/0: hook.output INFO: Unpacking libmcrypt4 (from .../libmcrypt4_2.5.8-3.1_amd64.deb) ...

2013-05-30 14:26:14,563 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5.

2013-05-30 14:26:14,577 unit:oscied-webui/0: hook.output INFO: Unpacking php5 (from .../php5_5.4.9-4ubuntu2_all.deb) ...

2013-05-30 14:26:14,755 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php-gettext.

2013-05-30 14:26:14,768 unit:oscied-webui/0: hook.output INFO: Unpacking php-gettext (from .../php-gettext_1.0.11-1_all.deb) ...

2013-05-30 14:26:14,955 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package php5-mcrypt.

2013-05-30 14:26:14,969 unit:oscied-webui/0: hook.output INFO: Unpacking php5-mcrypt (from .../php5-mcrypt_5.4.6-0ubuntu1_amd64.deb) ...

2013-05-30 14:26:15,167 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package ssl-cert.

2013-05-30 14:26:15,181 unit:oscied-webui/0: hook.output INFO: Unpacking ssl-cert (from .../ssl-cert_1.0.32_all.deb) ...

2013-05-30 14:26:15,363 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package libjs-codemirror.

2013-05-30 14:26:15,377 unit:oscied-webui/0: hook.output INFO: Unpacking libjs-codemirror (from .../libjs-codemirror_2.23-1_all.deb) ...

2013-05-30 14:26:15,660 unit:oscied-webui/0: hook.output INFO: Selecting previously unselected package phpmyadmin.

2013-05-30 14:26:15,675 unit:oscied-webui/0: hook.output INFO: Unpacking phpmyadmin (from .../phpmyadmin_4%3a3.5.8.1-1_all.deb) ...

2013-05-30 14:26:16,607 unit:oscied-webui/0: hook.output INFO: Processing triggers for man-db ...

2013-05-30 14:26:17,799 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:26:17,837 unit:oscied-webui/0: hook.output INFO: Processing triggers for ufw ...

2013-05-30 14:26:18,077 unit:oscied-webui/0: hook.output INFO: Setting up php5-common (5.4.9-4ubuntu2) ...

2013-05-30 14:26:18,514 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:18,515 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/pdo.ini with new version

2013-05-30 14:26:18,770 unit:oscied-webui/0: hook.output INFO: Setting up php5-cli (5.4.9-4ubuntu2) ...

2013-05-30 14:26:19,178 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:19,179 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/cli/php.ini with new version

2013-05-30 14:26:19,408 unit:oscied-webui/0: hook.output INFO: update-alternatives: 
2013-05-30 14:26:19,409 unit:oscied-webui/0: hook.output INFO: using /usr/bin/php5 to provide /usr/bin/php (php) in auto mode
2013-05-30 14:26:19,409 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:19,430 unit:oscied-webui/0: hook.output INFO: Setting up libapr1 (1.4.6-3ubuntu1) ...

2013-05-30 14:26:19,503 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1 (1.4.1-3) ...

2013-05-30 14:26:19,498 unit:oscied-orchestra/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 14:26:19,574 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1-dbd-sqlite3 (1.4.1-3) ...

2013-05-30 14:26:19,612 unit:oscied-webui/0: hook.output INFO: Setting up libaprutil1-ldap (1.4.1-3) ...

2013-05-30 14:26:19,632 unit:oscied-webui/0: hook.output INFO: Setting up apache2.2-bin (2.2.22-6ubuntu5) ...

2013-05-30 14:26:19,674 unit:oscied-webui/0: hook.output INFO: Setting up apache2-utils (2.2.22-6ubuntu5) ...

2013-05-30 14:26:19,728 unit:oscied-webui/0: hook.output INFO: Setting up apache2.2-common (2.2.22-6ubuntu5) ...

Extracting templates from packages: 73%lisher/0: hook.output INFO: 
2013-05-30 14:26:21,193 unit:oscied-storage/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
Extracting templates from packages: 100%isher/0: hook.output INFO: 

2013-05-30 14:26:21,620 unit:oscied-webui/0: hook.output INFO: Enabling site default.

2013-05-30 14:26:21,687 unit:oscied-webui/0: hook.output INFO: Enabling module alias.

2013-05-30 14:26:21,745 unit:oscied-webui/0: hook.output INFO: Enabling module autoindex.

2013-05-30 14:26:21,801 unit:oscied-webui/0: hook.output INFO: Enabling module dir.

2013-05-30 14:26:21,858 unit:oscied-webui/0: hook.output INFO: Enabling module env.

2013-05-30 14:26:21,914 unit:oscied-webui/0: hook.output INFO: Enabling module mime.

2013-05-30 14:26:21,971 unit:oscied-webui/0: hook.output INFO: Enabling module negotiation.

2013-05-30 14:26:22,027 unit:oscied-webui/0: hook.output INFO: Enabling module setenvif.

2013-05-30 14:26:22,083 unit:oscied-webui/0: hook.output INFO: Enabling module status.

2013-05-30 14:26:22,139 unit:oscied-webui/0: hook.output INFO: Enabling module auth_basic.

2013-05-30 14:26:22,195 unit:oscied-webui/0: hook.output INFO: Enabling module deflate.

2013-05-30 14:26:22,253 unit:oscied-webui/0: hook.output INFO: Enabling module authz_default.

2013-05-30 14:26:22,309 unit:oscied-webui/0: hook.output INFO: Enabling module authz_user.

2013-05-30 14:26:22,365 unit:oscied-webui/0: hook.output INFO: Enabling module authz_groupfile.

2013-05-30 14:26:22,421 unit:oscied-webui/0: hook.output INFO: Enabling module authn_file.

2013-05-30 14:26:22,477 unit:oscied-webui/0: hook.output INFO: Enabling module authz_host.

2013-05-30 14:26:22,547 unit:oscied-webui/0: hook.output INFO: Enabling module reqtimeout.

2013-05-30 14:26:22,594 unit:oscied-webui/0: hook.output INFO: Setting up php5-curl (5.4.9-4ubuntu2) ...

2013-05-30 14:26:23,019 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:23,021 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/curl.ini with new version

2013-05-30 14:26:23,282 unit:oscied-webui/0: hook.output INFO: Setting up php5-gd (5.4.9-4ubuntu2) ...

2013-05-30 14:26:23,708 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:23,709 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/gd.ini with new version

2013-05-30 14:26:23,983 unit:oscied-webui/0: hook.output INFO: Setting up php5-mysql (5.4.9-4ubuntu2) ...

2013-05-30 14:26:24,405 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:24,406 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/mysql.ini with new version

2013-05-30 14:26:25,043 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:25,044 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/mysqli.ini with new version

2013-05-30 14:26:25,658 unit:oscied-storage/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 14:26:25,688 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:25,689 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/mods-available/pdo_mysql.ini with new version

2013-05-30 14:26:25,962 unit:oscied-webui/0: hook.output INFO: Setting up dbconfig-common (1.8.47+nmu1) ...

2013-05-30 14:26:26,432 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:26,433 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/dbconfig-common/config with new version

2013-05-30 14:26:26,718 unit:oscied-webui/0: hook.output INFO: Setting up wwwconfig-common (0.2.2) ...

2013-05-30 14:26:26,770 unit:oscied-webui/0: hook.output INFO: Setting up javascript-common (8) ...

2013-05-30 14:26:26,882 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-cookie (8-2) ...

2013-05-30 14:26:26,930 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-event-drag (8-2) ...

2013-05-30 14:26:26,985 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-metadata (8-2) ...

2013-05-30 14:26:27,042 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-mousewheel (8-2) ...

2013-05-30 14:26:27,099 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-tablesorter (8-2) ...

2013-05-30 14:26:27,158 unit:oscied-webui/0: hook.output INFO: Setting up libjs-jquery-ui (1.8.ooops.21+dfsg-2) ...

2013-05-30 14:26:27,290 unit:oscied-webui/0: hook.output INFO: Setting up libmcrypt4 (2.5.8-3.1) ...

2013-05-30 14:26:27,378 unit:oscied-webui/0: hook.output INFO: Setting up php-gettext (1.0.11-1) ...

2013-05-30 14:26:27,434 unit:oscied-webui/0: hook.output INFO: Setting up php5-mcrypt (5.4.6-0ubuntu1) ...

2013-05-30 14:26:27,558 unit:oscied-webui/0: hook.output INFO: Setting up ssl-cert (1.0.32) ...

2013-05-30 14:26:28,354 unit:oscied-webui/0: hook.output INFO: Setting up libjs-codemirror (2.23-1) ...

2013-05-30 14:26:28,410 unit:oscied-webui/0: hook.output INFO: Processing triggers for ureadahead ...

2013-05-30 14:26:28,455 unit:oscied-webui/0: hook.output INFO: Processing triggers for ufw ...

2013-05-30 14:26:28,606 unit:oscied-webui/0: hook.output INFO: Setting up libapache2-mod-auth-mysql (4.3.9-13.1ubuntu1) ...

2013-05-30 14:26:28,670 unit:oscied-webui/0: hook.output INFO: Setting up apache2-mpm-prefork (2.2.22-6ubuntu5) ...

2013-05-30 14:26:28,886 unit:oscied-webui/0: hook.output INFO:  * Starting web server apache2

2013-05-30 14:26:28,940 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:26:28,971 unit:oscied-webui/0: hook.output INFO: Setting up libapache2-mod-php5 (5.4.9-4ubuntu2) ...

2013-05-30 14:26:29,479 unit:oscied-storage/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 14:26:29,445 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:29,446 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/php5/apache2/php.ini with new version

2013-05-30 14:26:29,866 unit:oscied-webui/0: hook.output INFO:  * Restarting web server apache2

2013-05-30 14:26:29,982 unit:oscied-webui/0: hook.output INFO:  ... waiting 
2013-05-30 14:26:31,044 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:26:31,069 unit:oscied-webui/0: hook.output INFO: Setting up apache2 (2.2.22-6ubuntu5) ...

2013-05-30 14:26:31,126 unit:oscied-webui/0: hook.output INFO: Setting up php5 (5.4.9-4ubuntu2) ...

2013-05-30 14:26:31,174 unit:oscied-webui/0: hook.output INFO: Setting up phpmyadmin (4:3.5.8.1-1) ...

2013-05-30 14:26:31,667 unit:oscied-webui/0: hook.output INFO: dbconfig-common: writing config to /etc/dbconfig-common/phpmyadmin.conf

2013-05-30 14:26:31,869 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:31,870 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/dbconfig-common/phpmyadmin.conf with new version

2013-05-30 14:26:32,186 unit:oscied-webui/0: hook.output INFO: 

2013-05-30 14:26:32,187 unit:oscied-webui/0: hook.output INFO: Creating config file /etc/phpmyadmin/config-db.php with new version

2013-05-30 14:26:32,327 unit:oscied-webui/0: hook.output INFO: granting access to database phpmyadmin for phpmyadmin@localhost: 
2013-05-30 14:26:32,406 unit:oscied-webui/0: hook.output INFO: success.
verifying access for phpmyadmin@localhost: 
2013-05-30 14:26:32,445 unit:oscied-webui/0: hook.output INFO: success.

2013-05-30 14:26:32,471 unit:oscied-webui/0: hook.output INFO: creating database phpmyadmin: 
2013-05-30 14:26:32,542 unit:oscied-webui/0: hook.output INFO: success.
verifying database phpmyadmin exists: 
2013-05-30 14:26:32,579 unit:oscied-webui/0: hook.output INFO: success.
populating database via sql...  
2013-05-30 14:26:32,805 unit:oscied-webui/0: hook.output INFO: done.

2013-05-30 14:26:32,810 unit:oscied-webui/0: hook.output INFO: dbconfig-common: flushing administrative password

2013-05-30 14:26:32,894 unit:oscied-webui/0: hook.output INFO:  * Reloading web server config

2013-05-30 14:26:33,032 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:26:33,250 unit:oscied-webui/0: hook.output INFO: Processing triggers for libc-bin ...

2013-05-30 14:26:33,266 unit:oscied-webui/0: hook.output INFO: ldconfig deferred processing now taking place

2013-05-30 14:26:34,319 unit:oscied-webui/0: hook.output INFO: Enabling module rewrite.
To activate the new configuration, you need to run:
  service apache2 restart

2013-05-30 14:26:34,566 unit:oscied-storage/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 14:26:34,620 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Copy and configure Web User Interface
2013-05-30 14:26:34,663 unit:oscied-webui/0: hook.output INFO: sending incremental file list

2013-05-30 14:26:34,667 unit:oscied-webui/0: hook.output INFO: ./

2013-05-30 14:26:34,668 unit:oscied-webui/0: hook.output INFO: deleting index.html

2013-05-30 14:26:34,669 unit:oscied-webui/0: hook.output INFO: .htaccess

         352 100%    0.00kB/s    0:00:00  0: hook.output INFO: 
         352 100%    0.00kB/s    0:00:00 (xfer#1, to-check=402/404)

2013-05-30 14:26:34,671 unit:oscied-webui/0: hook.output INFO: index.php

       6.36K 100%    6.06MB/s    0:00:00  0: hook.output INFO: 
       6.36K 100%    1.21MB/s    0:00:00 (xfer#2, to-check=401/404)
license.txt
       2.50K 100%  487.50kB/s    0:00:00 (xfer#3, to-check=400/404)
application/
application/.htaccess
          13 100%    2.54kB/s    0:00:00 (xfer#4, to-check=393/404)
application/index.html
         114 100%   22.27kB/s    0:00:00 (xfer#5, to-check=392/404)
application/cache/
application/cache/.htaccess
          13 100%    2.54kB/s    0:00:00 (xfer#6, to-check=378/404)
application/cache/index.html
         114 100%   22.27kB/s    0:00:00 (xfer#7, to-check=377/404)
application/config/
application/config/autoload.php
       3.15K 100%  614.26kB/s    0:00:00 (xfer#8, to-check=376/404)
application/config/config.php

      14.28K 100%    1.36MB/s    0:00:00  0: hook.output INFO: 
      14.28K 100%    1.36MB/s    0:00:00 (xfer#9, to-check=375/404)
application/config/constants.php
       1.71K 100%  167.19kB/s    0:00:00 (xfer#10, to-check=374/404)
application/config/database.php

       3.24K 100%  263.51kB/s    0:00:00 (xfer#11, to-check=373/404)
application/config/doctypes.php
       1.14K 100%   92.61kB/s    0:00:00 (xfer#12, to-check=372/404)
application/config/foreign_chars.php

       1.78K 100%  133.79kB/s    0:00:00 (xfer#13, to-check=371/404)
application/config/hooks.php
         498 100%   37.41kB/s    0:00:00 (xfer#14, to-check=370/404)
application/config/index.html
         114 100%    8.56kB/s    0:00:00 (xfer#15, to-check=369/404)
application/config/migration.php
       1.28K 100%   96.30kB/s    0:00:00 (xfer#16, to-check=368/404)
application/config/mimes.php

       5.42K 100%  378.42kB/s    0:00:00 (xfer#17, to-check=367/404)
application/config/pagination.php
       1.03K 100%   71.78kB/s    0:00:00 (xfer#18, to-check=366/404)
application/config/profiler.php
         564 100%   39.34kB/s    0:00:00 (xfer#19, to-check=365/404)
application/config/routes.php
       1.57K 100%  109.72kB/s    0:00:00 (xfer#20, to-check=364/404)
application/config/smileys.php

       3.29K 100%  214.52kB/s    0:00:00 (xfer#21, to-check=363/404)

2013-05-30 14:26:34,686 unit:oscied-webui/0: hook.output INFO: application/config/user_agents.php
       5.59K 100%  341.13kB/s    0:00:00 (xfer#22, to-check=362/404)

2013-05-30 14:26:34,687 unit:oscied-webui/0: hook.output INFO: application/controllers/
application/controllers/index.html
         114 100%    6.96kB/s    0:00:00 (xfer#23, to-check=361/404)
application/controllers/media.php

       8.48K 100%  435.80kB/s    0:00:00 (xfer#24, to-check=360/404)
application/controllers/misc.php
         620 100%   31.87kB/s    0:00:00 (xfer#25, to-check=359/404)
application/controllers/profile.php

       5.61K 100%  274.07kB/s    0:00:00 (xfer#26, to-check=358/404)
application/controllers/publisher.php

2013-05-30 14:26:34,848 unit:oscied-storage/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

       5.16K 100%  251.76kB/s    0:00:00 (xfer#27, to-check=357/404)
application/controllers/transform.php

       5.84K 100%  259.06kB/s    0:00:00 (xfer#28, to-check=356/404)
application/controllers/upload_files.php
       2.53K 100%  112.44kB/s    0:00:00  
       2.53K 100%  107.55kB/s    0:00:00 (xfer#29, to-check=355/404)

2013-05-30 14:26:34,695 unit:oscied-webui/0: hook.output INFO: application/controllers/users.php

      10.32K 100%  419.80kB/s    0:00:00 (xfer#30, to-check=354/404)

2013-05-30 14:26:34,696 unit:oscied-webui/0: hook.output INFO: application/core/
application/core/MY_Controller.php
         733 100%   28.63kB/s    0:00:00 (xfer#31, to-check=353/404)
application/core/MY_Loader.php
       7.11K 100%  277.54kB/s    0:00:00 (xfer#32, to-check=352/404)

2013-05-30 14:26:34,697 unit:oscied-webui/0: hook.output INFO: application/core/index.html
         114 100%    4.28kB/s    0:00:00 (xfer#33, to-check=351/404)

2013-05-30 14:26:34,697 unit:oscied-webui/0: hook.output INFO: application/errors/
application/errors/error_404.php
       1.16K 100%   41.96kB/s    0:00:00 (xfer#34, to-check=350/404)
application/errors/error_db.php
       1.16K 100%   41.81kB/s    0:00:00 (xfer#35, to-check=349/404)
application/errors/error_general.php
       1.15K 100%   41.49kB/s    0:00:00 (xfer#36, to-check=348/404)
application/errors/error_php.php
         288 100%   10.42kB/s    0:00:00 (xfer#37, to-check=347/404)

2013-05-30 14:26:34,700 unit:oscied-webui/0: hook.output INFO: application/errors/index.html
         114 100%    4.12kB/s    0:00:00 (xfer#38, to-check=346/404)
application/helpers/
application/helpers/MY_download_helper.php
       3.12K 100%  112.81kB/s    0:00:00 (xfer#39, to-check=345/404)
application/helpers/flash_message_helper.php
       1.39K 100%   46.71kB/s    0:00:00 (xfer#40, to-check=344/404)
application/helpers/index.html
         114 100%    3.84kB/s    0:00:00 (xfer#41, to-check=343/404)
application/helpers/simple_html_dom_helper.php

      32.77K  61%  969.70kB/s    0:00:00  0: hook.output INFO: 
      53.22K 100%    1.49MB/s    0:00:00 (xfer#42, to-check=342/404)

2013-05-30 14:26:34,705 unit:oscied-webui/0: hook.output INFO: application/hooks/
application/hooks/index.html
         114 100%    3.27kB/s    0:00:00 (xfer#43, to-check=341/404)
application/language/
application/language/english/
application/language/english/index.html
         114 100%    3.18kB/s    0:00:00 (xfer#44, to-check=339/404)
application/libraries/
application/libraries/Css_js.php
         794 100%   22.15kB/s    0:00:00 (xfer#45, to-check=338/404)
application/libraries/MY_Form_validation.php
         488 100%   13.62kB/s    0:00:00 (xfer#46, to-check=337/404)
application/libraries/User.php
       1.41K 100%   39.20kB/s    0:00:00 (xfer#47, to-check=336/404)
application/libraries/index.html
         114 100%    3.18kB/s    0:00:00 (xfer#48, to-check=335/404)

2013-05-30 14:26:34,706 unit:oscied-webui/0: hook.output INFO: application/logs/
application/logs/index.html
         114 100%    3.18kB/s    0:00:00 (xfer#49, to-check=334/404)
application/models/
application/models/files_model.php
       1.66K 100%   46.21kB/s    0:00:00 (xfer#50, to-check=333/404)
application/models/index.html
         114 100%    3.18kB/s    0:00:00 (xfer#51, to-check=332/404)
application/models/tmp_files_model.php
       1.49K 100%   41.52kB/s    0:00:00 (xfer#52, to-check=331/404)

2013-05-30 14:26:34,707 unit:oscied-webui/0: hook.output INFO: application/third_party/
application/third_party/index.html
         114 100%    3.09kB/s    0:00:00 (xfer#53, to-check=330/404)
application/views/
application/views/contact.php
          11 100%    0.30kB/s    0:00:00 (xfer#54, to-check=329/404)
application/views/homepage.php
          24 100%    0.65kB/s    0:00:00 (xfer#55, to-check=328/404)
application/views/index.html
         114 100%    3.09kB/s    0:00:00 (xfer#56, to-check=327/404)
application/views/fileupload/
application/views/fileupload/scripts.php
       4.63K 100%  125.68kB/s    0:00:00 (xfer#57, to-check=319/404)

2013-05-30 14:26:34,708 unit:oscied-webui/0: hook.output INFO: application/views/fileupload/upload.php
         968 100%   25.55kB/s    0:00:00 (xfer#58, to-check=318/404)
application/views/layouts/
application/views/layouts/default.php
       1.77K 100%   46.69kB/s    0:00:00 (xfer#59, to-check=317/404)
application/views/layouts/default_header.php
       3.79K 100%  100.08kB/s    0:00:00 (xfer#60, to-check=316/404)
application/views/media/
application/views/media/add_media_form.php
       3.60K 100%   95.04kB/s    0:00:00 (xfer#61, to-check=315/404)
application/views/media/show.php
         642 100%   16.94kB/s    0:00:00 (xfer#62, to-check=314/404)
application/views/media/show_medias.php
       2.70K 100%   69.49kB/s    0:00:00 (xfer#63, to-check=313/404)
application/views/profile/
application/views/profile/add_profile_form.php
       1.72K 100%   44.18kB/s    0:00:00 (xfer#64, to-check=312/404)
application/views/profile/show.php
         660 100%   16.96kB/s    0:00:00 (xfer#65, to-check=311/404)

2013-05-30 14:26:34,709 unit:oscied-webui/0: hook.output INFO: application/views/profile/show_profiles.php
       1.39K 100%   34.86kB/s    0:00:00 (xfer#66, to-check=310/404)

2013-05-30 14:26:34,710 unit:oscied-webui/0: hook.output INFO: application/views/publisher/
application/views/publisher/launch_publish_form.php
       1.40K 100%   34.11kB/s    0:00:00 (xfer#67, to-check=309/404)
application/views/publisher/show.php
         654 100%   15.97kB/s    0:00:00 (xfer#68, to-check=308/404)

2013-05-30 14:26:34,711 unit:oscied-webui/0: hook.output INFO: application/views/publisher/show_jobs.php

       4.50K 100%  107.30kB/s    0:00:00 (xfer#69, to-check=307/404)

2013-05-30 14:26:34,713 unit:oscied-webui/0: hook.output INFO: application/views/transform/
application/views/transform/launch_transform_form.php
       1.84K 100%   42.90kB/s    0:00:00 (xfer#70, to-check=306/404)
application/views/transform/show.php
         654 100%   15.21kB/s    0:00:00 (xfer#71, to-check=305/404)

2013-05-30 14:26:34,713 unit:oscied-webui/0: hook.output INFO: application/views/transform/show_jobs.php

       4.79K 100%  108.83kB/s    0:00:00 (xfer#72, to-check=304/404)
application/views/users/
application/views/users/add_user_form.php
       1.80K 100%   40.95kB/s    0:00:00 (xfer#73, to-check=303/404)
application/views/users/login_modal.php
       1.60K 100%   36.38kB/s    0:00:00 (xfer#74, to-check=302/404)
application/views/users/show.php
       1.82K 100%   40.46kB/s    0:00:00 (xfer#75, to-check=301/404)
application/views/users/show_users.php
       3.32K 100%   73.69kB/s    0:00:00 (xfer#76, to-check=300/404)

2013-05-30 14:26:34,715 unit:oscied-webui/0: hook.output INFO: assets/
assets/index.html
         114 100%    2.47kB/s    0:00:00 (xfer#77, to-check=299/404)

2013-05-30 14:26:34,716 unit:oscied-webui/0: hook.output INFO: assets/css/
assets/css/bootstrap-responsive.css

      21.75K 100%  451.94kB/s    0:00:00 (xfer#78, to-check=295/404)
assets/css/bootstrap-responsive.min.css

      16.55K 100%  336.77kB/s    0:00:00 (xfer#79, to-check=294/404)
assets/css/bootstrap.css

      32.77K  26%  640.00kB/s    0:00:00  0: hook.output INFO: 
     124.22K 100%    2.28MB/s    0:00:00 (xfer#80, to-check=293/404)
assets/css/bootstrap.min.css

      32.77K  31%  603.77kB/s    0:00:00  0: hook.output INFO: 
     103.31K 100%    1.79MB/s    0:00:00 (xfer#81, to-check=292/404)
assets/css/custom.css
       1.30K 100%   23.01kB/s    0:00:00 (xfer#82, to-check=291/404)

2013-05-30 14:26:34,726 unit:oscied-webui/0: hook.output INFO: assets/css/style.css
       2.14K 100%   37.93kB/s    0:00:00 (xfer#83, to-check=290/404)
assets/css/fileupload/
assets/css/fileupload/bootstrap-image-gallery.min.css
       1.69K 100%   30.04kB/s    0:00:00 (xfer#84, to-check=288/404)
assets/css/fileupload/jquery-ui.css

      33.40K 100%  572.28kB/s    0:00:00 (xfer#85, to-check=287/404)

2013-05-30 14:26:34,728 unit:oscied-webui/0: hook.output INFO: assets/css/fileupload/jquery.fileupload-ui.css
       1.28K 100%   21.86kB/s    0:00:00 (xfer#86, to-check=286/404)
assets/img/
assets/img/glyphicons-halflings-white.png

       8.78K 100%  147.78kB/s    0:00:00 (xfer#87, to-check=285/404)
assets/img/glyphicons-halflings.png

      12.80K 100%  211.85kB/s    0:00:00 (xfer#88, to-check=284/404)
assets/img/home-bg.jpg

      32.77K   0%  524.59kB/s    0:00:17  0: hook.output INFO: 
       9.26M 100%   37.59MB/s    0:00:00 (xfer#89, to-check=283/404)

2013-05-30 14:26:34,907 unit:oscied-webui/0: hook.output INFO: assets/img/home-bg11.jpg

      32.77K  39%  134.45kB/s    0:00:00  0: hook.output INFO: 
      82.00K 100%  335.05kB/s    0:00:00 (xfer#90, to-check=282/404)

2013-05-30 14:26:34,910 unit:oscied-webui/0: hook.output INFO: assets/img/fileupload/

2013-05-30 14:26:34,910 unit:oscied-webui/0: hook.output INFO: assets/img/fileupload/loading.gif

       3.90K 100%   15.86kB/s    0:00:00 (xfer#91, to-check=279/404)
assets/img/fileupload/progressbar.gif
       3.32K 100%   13.52kB/s    0:00:00 (xfer#92, to-check=278/404)

2013-05-30 14:26:34,912 unit:oscied-webui/0: hook.output INFO: assets/img/icons/
assets/img/icons/add.png
       5.49K 100%   22.26kB/s    0:00:00 (xfer#93, to-check=277/404)
assets/img/icons/calendar.png
       3.98K 100%   16.14kB/s    0:00:00 (xfer#94, to-check=276/404)
assets/img/icons/chat.png
       5.54K 100%   22.44kB/s    0:00:00 (xfer#95, to-check=275/404)
assets/img/icons/comment.png
       5.24K 100%   21.21kB/s    0:00:00 (xfer#96, to-check=274/404)
assets/img/icons/contacts.png

       5.90K 100%   23.79kB/s    0:00:00 (xfer#97, to-check=273/404)
assets/img/icons/contacts2.png

       5.77K 100%   23.19kB/s    0:00:00 (xfer#98, to-check=272/404)
assets/img/icons/delete.png

       5.49K 100%   21.98kB/s    0:00:00 (xfer#99, to-check=271/404)
assets/img/icons/edit.png

       5.08K 100%   20.26kB/s    0:00:00 (xfer#100, to-check=270/404)
assets/img/icons/edit2.png

       4.36K 100%   17.39kB/s    0:00:00 (xfer#101, to-check=269/404)
assets/img/icons/email.png

       4.56K 100%   18.09kB/s    0:00:00 (xfer#102, to-check=268/404)
assets/img/icons/favorite.png

       5.04K 100%   19.91kB/s    0:00:00 (xfer#103, to-check=267/404)
assets/img/icons/picture.png

       4.29K 100%   16.97kB/s    0:00:00 (xfer#104, to-check=266/404)
assets/img/icons/preferences.png

       6.26K 100%   24.64kB/s    0:00:00 (xfer#105, to-check=265/404)
assets/img/icons/rss.png

       4.91K 100%   19.24kB/s    0:00:00 (xfer#106, to-check=264/404)
assets/img/icons/save.png

       3.69K 100%   14.47kB/s    0:00:00 (xfer#107, to-check=263/404)
assets/img/icons/search.png

       5.12K 100%   20.02kB/s    0:00:00 (xfer#108, to-check=262/404)
assets/img/icons/user.png
       4.05K 100%   15.83kB/s    0:00:00 (xfer#109, to-check=261/404)
assets/img/icons/validate.png

       4.41K 100%   17.15kB/s    0:00:00 (xfer#110, to-check=260/404)
assets/img/icons/video.png

       4.27K 100%   16.61kB/s    0:00:00 (xfer#111, to-check=259/404)
assets/img/icons/pack1/
assets/img/icons/pack1/calendar.png
       4.18K 100%   16.18kB/s    0:00:00 (xfer#112, to-check=257/404)
assets/img/icons/pack1/comment.png
       4.12K 100%   15.98kB/s    0:00:00 (xfer#113, to-check=256/404)
assets/img/icons/pack1/comment2.png

       4.16K 100%   16.05kB/s    0:00:00 (xfer#114, to-check=255/404)
assets/img/icons/pack1/delete.png

       4.48K 100%   17.29kB/s    0:00:00 (xfer#115, to-check=254/404)
assets/img/icons/pack1/edit.png
       4.36K 100%   16.78kB/s    0:00:00 (xfer#116, to-check=253/404)
assets/img/icons/pack1/info.png

       4.44K 100%   17.07kB/s    0:00:00 (xfer#117, to-check=252/404)
assets/img/icons/pack1/picture.png
       4.53K 100%   17.34kB/s    0:00:00 (xfer#118, to-check=251/404)
assets/img/icons/pack1/save.png
       3.77K 100%   14.43kB/s    0:00:00 (xfer#119, to-check=250/404)
assets/img/icons/pack1/search.png

       4.66K 100%   17.77kB/s    0:00:00 (xfer#120, to-check=249/404)
assets/img/icons/pack1/validate.png
       4.14K 100%   15.78kB/s    0:00:00 (xfer#121, to-check=248/404)

2013-05-30 14:26:34,928 unit:oscied-webui/0: hook.output INFO: assets/img/icons/pack1/video.png
       3.87K 100%   14.69kB/s    0:00:00 (xfer#122, to-check=247/404)
assets/js/
assets/js/bootstrap.js

      32.77K  55%  123.55kB/s    0:00:00  0: hook.output INFO: 
      58.52K 100%  219.79kB/s    0:00:00 (xfer#123, to-check=246/404)
assets/js/bootstrap.min.js

      31.60K 100%  118.22kB/s    0:00:00 (xfer#124, to-check=245/404)

2013-05-30 14:26:34,932 unit:oscied-webui/0: hook.output INFO: assets/js/jquery-1.8.0.min.js

      32.77K  35%  121.67kB/s    0:00:00  0: hook.output INFO: 
      92.56K 100%  341.08kB/s    0:00:00 (xfer#125, to-check=244/404)

2013-05-30 14:26:34,938 unit:oscied-webui/0: hook.output INFO: assets/js/fileupload/
assets/js/fileupload/canvas-to-blob.js
         859 100%    3.17kB/s    0:00:00 (xfer#126, to-check=242/404)
assets/js/fileupload/jquery-ui.min.js

      32.77K  16%  119.40kB/s    0:00:01  0: hook.output INFO: 
     200.10K 100%  721.09kB/s    0:00:00 (xfer#127, to-check=241/404)
assets/js/fileupload/jquery.fileupload-fp.js

       8.40K 100%   30.16kB/s    0:00:00 (xfer#128, to-check=240/404)
assets/js/fileupload/jquery.fileupload-ui.js

      27.99K 100%  100.13kB/s    0:00:00 (xfer#129, to-check=239/404)
assets/js/fileupload/jquery.fileupload.js

      32.77K  77%  116.36kB/s    0:00:00  0: hook.output INFO: 
      42.37K 100%  150.47kB/s    0:00:00 (xfer#130, to-check=238/404)
assets/js/fileupload/jquery.iframe-transport.js

       8.09K 100%   28.62kB/s    0:00:00 (xfer#131, to-check=237/404)
assets/js/fileupload/load-image.js
       1.28K 100%    4.52kB/s    0:00:00 (xfer#132, to-check=236/404)
assets/js/fileupload/locale.js
         781 100%    2.76kB/s    0:00:00 (xfer#133, to-check=235/404)
assets/js/fileupload/main.js

       1.89K 100%    6.66kB/s    0:00:00 (xfer#134, to-check=234/404)
assets/js/fileupload/tmpl.js
         971 100%    3.42kB/s    0:00:00 (xfer#135, to-check=233/404)
assets/js/fileupload/tmpl.min.js
         971 100%    3.42kB/s    0:00:00 (xfer#136, to-check=232/404)
assets/js/fileupload/cors/
assets/js/fileupload/cors/jquery.postmessage-transport.js
       4.00K 100%   14.10kB/s    0:00:00 (xfer#137, to-check=229/404)
assets/js/fileupload/cors/jquery.xdr-transport.js
       3.21K 100%   11.33kB/s    0:00:00 (xfer#138, to-check=228/404)

2013-05-30 14:26:34,949 unit:oscied-webui/0: hook.output INFO: assets/js/fileupload/cors/result.html
         504 100%    1.77kB/s    0:00:00 (xfer#139, to-check=227/404)
assets/js/fileupload/vendor/
assets/js/fileupload/vendor/jquery.ui.widget.js
       7.28K 100%   25.58kB/s    0:00:00 (xfer#140, to-check=226/404)
profiles/
profiles/default_profile.png
       2.15K 100%    7.54kB/s    0:00:00 (xfer#141, to-check=225/404)

2013-05-30 14:26:34,951 unit:oscied-webui/0: hook.output INFO: profiles/profile_1.jpg
       4.00K 100%   13.99kB/s    0:00:00 (xfer#142, to-check=224/404)
sparks/
sparks/curl/
sparks/curl/1.2.1/
sparks/curl/1.2.1/README.md
       2.40K 100%    8.36kB/s    0:00:00 (xfer#143, to-check=220/404)
sparks/curl/1.2.1/spark.info
          58 100%    0.20kB/s    0:00:00 (xfer#144, to-check=219/404)

2013-05-30 14:26:34,952 unit:oscied-webui/0: hook.output INFO: sparks/curl/1.2.1/config/
sparks/curl/1.2.1/config/autoload.php
          99 100%    0.34kB/s    0:00:00 (xfer#145, to-check=216/404)
sparks/curl/1.2.1/libraries/
sparks/curl/1.2.1/libraries/Curl.php

       9.68K 100%   33.54kB/s    0:00:00 (xfer#146, to-check=215/404)
sparks/restclient/
sparks/restclient/2.1.0/
sparks/restclient/2.1.0/README.md
         862 100%    2.97kB/s    0:00:00 (xfer#147, to-check=213/404)
sparks/restclient/2.1.0/spark.info
          79 100%    0.27kB/s    0:00:00 (xfer#148, to-check=212/404)
sparks/restclient/2.1.0/config/

2013-05-30 14:26:34,954 unit:oscied-webui/0: hook.output INFO: sparks/restclient/2.1.0/config/autoload.php
          95 100%    0.33kB/s    0:00:00 (xfer#149, to-check=209/404)
sparks/restclient/2.1.0/libraries/
sparks/restclient/2.1.0/libraries/Rest.php
       8.22K 100%   28.27kB/s    0:00:00 (xfer#150, to-check=208/404)

2013-05-30 14:26:34,956 unit:oscied-webui/0: hook.output INFO: sparks/restclient/2.1.0/libraries/index.html
         114 100%    0.39kB/s    0:00:00 (xfer#151, to-check=207/404)
system/
system/.htaccess
          13 100%    0.04kB/s    0:00:00 (xfer#152, to-check=206/404)
system/index.html
         114 100%    0.39kB/s    0:00:00 (xfer#153, to-check=205/404)
system/core/
system/core/Benchmark.php
       2.95K 100%   10.10kB/s    0:00:00 (xfer#154, to-check=198/404)
system/core/CodeIgniter.php

      11.39K 100%   38.90kB/s    0:00:00 (xfer#155, to-check=197/404)
system/core/Common.php

      13.42K 100%   45.65kB/s    0:00:00 (xfer#156, to-check=196/404)
system/core/Config.php

       8.16K 100%   27.68kB/s    0:00:00 (xfer#157, to-check=195/404)
system/core/Controller.php

       1.57K 100%    5.28kB/s    0:00:00 (xfer#158, to-check=194/404)
system/core/Exceptions.php
       4.70K 100%   15.81kB/s    0:00:00 (xfer#159, to-check=193/404)
system/core/Hooks.php

       4.70K 100%   15.76kB/s    0:00:00 (xfer#160, to-check=192/404)
system/core/Input.php

      18.43K 100%   61.63kB/s    0:00:00 (xfer#161, to-check=191/404)
system/core/Lang.php
       3.63K 100%   12.15kB/s    0:00:00 (xfer#162, to-check=190/404)
system/core/Loader.php

      30.58K 100%  101.56kB/s    0:00:00 (xfer#163, to-check=189/404)
system/core/Model.php
       1.19K 100%    3.95kB/s    0:00:00 (xfer#164, to-check=188/404)
system/core/Output.php

      12.94K 100%   42.82kB/s    0:00:00 (xfer#165, to-check=187/404)
system/core/Router.php

      12.39K 100%   41.03kB/s    0:00:00 (xfer#166, to-check=186/404)
system/core/Security.php

      21.92K 100%   72.08kB/s    0:00:00 (xfer#167, to-check=185/404)
system/core/URI.php

      14.44K 100%   47.49kB/s    0:00:00 (xfer#168, to-check=184/404)
system/core/Utf8.php

       3.58K 100%   11.74kB/s    0:00:00 (xfer#169, to-check=183/404)
system/core/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#170, to-check=182/404)
system/database/
system/database/DB.php
       4.19K 100%   13.73kB/s    0:00:00 (xfer#171, to-check=181/404)
system/database/DB_active_rec.php

      32.77K  76%  106.67kB/s    0:00:00  0: hook.output INFO: 
      42.98K 100%  139.90kB/s    0:00:00 (xfer#172, to-check=180/404)
system/database/DB_cache.php

       4.38K 100%   14.20kB/s    0:00:00 (xfer#173, to-check=179/404)
system/database/DB_driver.php

      32.65K 100%  105.58kB/s    0:00:00 (xfer#174, to-check=178/404)
system/database/DB_forge.php

       7.45K 100%   24.00kB/s    0:00:00 (xfer#175, to-check=177/404)
system/database/DB_result.php
       9.02K 100%   29.06kB/s    0:00:00 (xfer#176, to-check=176/404)
system/database/DB_utility.php

       9.80K 100%   31.50kB/s    0:00:00 (xfer#177, to-check=175/404)
system/database/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#178, to-check=174/404)
system/database/drivers/
system/database/drivers/index.html
         114 100%    0.37kB/s    0:00:00 (xfer#179, to-check=172/404)
system/database/drivers/cubrid/
system/database/drivers/cubrid/cubrid_driver.php

      17.89K 100%   57.29kB/s    0:00:00 (xfer#180, to-check=161/404)
system/database/drivers/cubrid/cubrid_forge.php

       7.06K 100%   22.53kB/s    0:00:00 (xfer#181, to-check=160/404)
system/database/drivers/cubrid/cubrid_result.php

       4.51K 100%   14.33kB/s    0:00:00 (xfer#182, to-check=159/404)
system/database/drivers/cubrid/cubrid_utility.php
       2.87K 100%    9.13kB/s    0:00:00 (xfer#183, to-check=158/404)
system/database/drivers/cubrid/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#184, to-check=157/404)
system/database/drivers/mssql/
system/database/drivers/mssql/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#185, to-check=156/404)
system/database/drivers/mssql/mssql_driver.php

      14.84K 100%   47.04kB/s    0:00:00 (xfer#186, to-check=155/404)
system/database/drivers/mssql/mssql_forge.php
       5.79K 100%   18.31kB/s    0:00:00 (xfer#187, to-check=154/404)
system/database/drivers/mssql/mssql_result.php
       3.37K 100%   10.66kB/s    0:00:00 (xfer#188, to-check=153/404)
system/database/drivers/mssql/mssql_utility.php
       1.98K 100%    6.25kB/s    0:00:00 (xfer#189, to-check=152/404)

2013-05-30 14:26:34,981 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysql/
system/database/drivers/mysql/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#190, to-check=151/404)
system/database/drivers/mysql/mysql_driver.php

      17.37K 100%   54.55kB/s    0:00:00 (xfer#191, to-check=150/404)
system/database/drivers/mysql/mysql_forge.php
       6.44K 100%   20.23kB/s    0:00:00 (xfer#192, to-check=149/404)
system/database/drivers/mysql/mysql_result.php

       3.62K 100%   11.35kB/s    0:00:00 (xfer#193, to-check=148/404)

2013-05-30 14:26:34,984 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysql/mysql_utility.php
       4.61K 100%   14.38kB/s    0:00:00 (xfer#194, to-check=147/404)
system/database/drivers/mysqli/
system/database/drivers/mysqli/index.html
         114 100%    0.36kB/s    0:00:00 (xfer#195, to-check=146/404)
system/database/drivers/mysqli/mysqli_driver.php

      17.41K 100%   54.14kB/s    0:00:00 (xfer#196, to-check=145/404)
system/database/drivers/mysqli/mysqli_forge.php

       6.10K 100%   18.98kB/s    0:00:00 (xfer#197, to-check=144/404)
system/database/drivers/mysqli/mysqli_result.php
       3.64K 100%   11.29kB/s    0:00:00 (xfer#198, to-check=143/404)

2013-05-30 14:26:34,986 unit:oscied-webui/0: hook.output INFO: system/database/drivers/mysqli/mysqli_utility.php
       1.98K 100%    6.15kB/s    0:00:00 (xfer#199, to-check=142/404)
system/database/drivers/oci8/
system/database/drivers/oci8/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#200, to-check=141/404)
system/database/drivers/oci8/oci8_driver.php

      18.55K 100%   57.31kB/s    0:00:00 (xfer#201, to-check=140/404)
system/database/drivers/oci8/oci8_forge.php
       5.61K 100%   17.28kB/s    0:00:00 (xfer#202, to-check=139/404)
system/database/drivers/oci8/oci8_result.php

       4.49K 100%   13.79kB/s    0:00:00 (xfer#203, to-check=138/404)

2013-05-30 14:26:34,989 unit:oscied-webui/0: hook.output INFO: system/database/drivers/oci8/oci8_utility.php
       1.93K 100%    5.92kB/s    0:00:00 (xfer#204, to-check=137/404)
system/database/drivers/odbc/
system/database/drivers/odbc/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#205, to-check=136/404)
system/database/drivers/odbc/odbc_driver.php

      13.89K 100%   42.53kB/s    0:00:00 (xfer#206, to-check=135/404)
system/database/drivers/odbc/odbc_forge.php
       6.12K 100%   18.73kB/s    0:00:00 (xfer#207, to-check=134/404)
system/database/drivers/odbc/odbc_result.php

       4.59K 100%   14.02kB/s    0:00:00 (xfer#208, to-check=133/404)

2013-05-30 14:26:34,992 unit:oscied-webui/0: hook.output INFO: system/database/drivers/odbc/odbc_utility.php
       2.26K 100%    6.88kB/s    0:00:00 (xfer#209, to-check=132/404)
system/database/drivers/pdo/
system/database/drivers/pdo/index.html
         114 100%    0.35kB/s    0:00:00 (xfer#210, to-check=131/404)
system/database/drivers/pdo/pdo_driver.php

      17.61K 100%   53.40kB/s    0:00:00 (xfer#211, to-check=130/404)
system/database/drivers/pdo/pdo_forge.php

       6.09K 100%   18.43kB/s    0:00:00 (xfer#212, to-check=129/404)
system/database/drivers/pdo/pdo_result.php
       3.51K 100%   10.61kB/s    0:00:00 (xfer#213, to-check=128/404)
system/database/drivers/pdo/pdo_utility.php
       2.24K 100%    6.74kB/s    0:00:00 (xfer#214, to-check=127/404)
system/database/drivers/postgre/
system/database/drivers/postgre/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#215, to-check=126/404)
system/database/drivers/postgre/postgre_driver.php

      15.51K 100%   46.61kB/s    0:00:00 (xfer#216, to-check=125/404)
system/database/drivers/postgre/postgre_forge.php

       7.35K 100%   22.02kB/s    0:00:00 (xfer#217, to-check=124/404)
system/database/drivers/postgre/postgre_result.php
       3.44K 100%   10.26kB/s    0:00:00 (xfer#218, to-check=123/404)
system/database/drivers/postgre/postgre_utility.php
       1.85K 100%    5.54kB/s    0:00:00 (xfer#219, to-check=122/404)
system/database/drivers/sqlite/
system/database/drivers/sqlite/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#220, to-check=121/404)
system/database/drivers/sqlite/sqlite_driver.php

      14.05K 100%   41.85kB/s    0:00:00 (xfer#221, to-check=120/404)
system/database/drivers/sqlite/sqlite_forge.php

       6.30K 100%   18.71kB/s    0:00:00 (xfer#222, to-check=119/404)
system/database/drivers/sqlite/sqlite_result.php
       3.55K 100%   10.53kB/s    0:00:00 (xfer#223, to-check=118/404)
system/database/drivers/sqlite/sqlite_utility.php
       2.15K 100%    6.36kB/s    0:00:00 (xfer#224, to-check=117/404)

2013-05-30 14:26:35,001 unit:oscied-webui/0: hook.output INFO: system/database/drivers/sqlsrv/
system/database/drivers/sqlsrv/index.html
         114 100%    0.34kB/s    0:00:00 (xfer#225, to-check=116/404)
system/database/drivers/sqlsrv/sqlsrv_driver.php

      13.54K 100%   39.84kB/s    0:00:00 (xfer#226, to-check=115/404)
system/database/drivers/sqlsrv/sqlsrv_forge.php
       5.79K 100%   17.04kB/s    0:00:00 (xfer#227, to-check=114/404)
system/database/drivers/sqlsrv/sqlsrv_result.php
       3.42K 100%   10.05kB/s    0:00:00 (xfer#228, to-check=113/404)
system/database/drivers/sqlsrv/sqlsrv_utility.php
       1.98K 100%    5.82kB/s    0:00:00 (xfer#229, to-check=112/404)

2013-05-30 14:26:35,003 unit:oscied-webui/0: hook.output INFO: system/fonts/
system/fonts/index.html
         114 100%    0.33kB/s    0:00:00 (xfer#230, to-check=111/404)

2013-05-30 14:26:35,004 unit:oscied-webui/0: hook.output INFO: system/fonts/texb.ttf

      32.77K  22%   95.52kB/s    0:00:01  0: hook.output INFO: 
     143.83K 100%  413.11kB/s    0:00:00 (xfer#231, to-check=110/404)

2013-05-30 14:26:35,010 unit:oscied-webui/0: hook.output INFO: system/helpers/
system/helpers/array_helper.php
       2.51K 100%    7.21kB/s    0:00:00 (xfer#232, to-check=109/404)
system/helpers/captcha_helper.php
       6.17K 100%   17.72kB/s    0:00:00 (xfer#233, to-check=108/404)
system/helpers/cookie_helper.php
       2.59K 100%    7.44kB/s    0:00:00 (xfer#234, to-check=107/404)
system/helpers/date_helper.php
      12.97K 100%   37.15kB/s    0:00:00 (xfer#235, to-check=106/404)
system/helpers/directory_helper.php

       2.06K 100%    5.91kB/s    0:00:00 (xfer#236, to-check=105/404)
system/helpers/download_helper.php

       2.75K 100%    7.84kB/s    0:00:00 (xfer#237, to-check=104/404)
system/helpers/email_helper.php
       1.48K 100%    4.23kB/s    0:00:00 (xfer#238, to-check=103/404)
system/helpers/file_helper.php

      11.38K 100%   32.41kB/s    0:00:00 (xfer#239, to-check=102/404)
system/helpers/form_helper.php

      21.77K 100%   61.81kB/s    0:00:00 (xfer#240, to-check=101/404)
system/helpers/html_helper.php

       8.80K 100%   24.90kB/s    0:00:00 (xfer#241, to-check=100/404)
system/helpers/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#242, to-check=99/404)
system/helpers/inflector_helper.php

       5.37K 100%   15.15kB/s    0:00:00 (xfer#243, to-check=98/404)
system/helpers/language_helper.php
       1.41K 100%    3.98kB/s    0:00:00 (xfer#244, to-check=97/404)
system/helpers/number_helper.php
       1.86K 100%    5.25kB/s    0:00:00 (xfer#245, to-check=96/404)
system/helpers/path_helper.php
       1.78K 100%    5.02kB/s    0:00:00 (xfer#246, to-check=95/404)
system/helpers/security_helper.php
       2.67K 100%    7.55kB/s    0:00:00 (xfer#247, to-check=94/404)
system/helpers/smiley_helper.php
       6.47K 100%   18.25kB/s    0:00:00 (xfer#248, to-check=93/404)
system/helpers/string_helper.php

       6.43K 100%   18.10kB/s    0:00:00 (xfer#249, to-check=92/404)
system/helpers/text_helper.php

      13.13K 100%   36.86kB/s    0:00:00 (xfer#250, to-check=91/404)
system/helpers/typography_helper.php

       2.24K 100%    6.27kB/s    0:00:00 (xfer#251, to-check=90/404)
system/helpers/url_helper.php

      12.36K 100%   34.49kB/s    0:00:00 (xfer#252, to-check=89/404)

2013-05-30 14:26:35,020 unit:oscied-webui/0: hook.output INFO: system/helpers/xml_helper.php
       1.79K 100%    4.99kB/s    0:00:00 (xfer#253, to-check=88/404)
system/language/
system/language/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#254, to-check=87/404)
system/language/english/
system/language/english/calendar_lang.php
       1.44K 100%    4.01kB/s    0:00:00 (xfer#255, to-check=84/404)
system/language/english/date_lang.php
       3.18K 100%    8.86kB/s    0:00:00 (xfer#256, to-check=83/404)
system/language/english/db_lang.php
       2.27K 100%    6.32kB/s    0:00:00 (xfer#257, to-check=82/404)
system/language/english/email_lang.php
       1.71K 100%    4.75kB/s    0:00:00 (xfer#258, to-check=81/404)
system/language/english/form_validation_lang.php
       1.82K 100%    5.06kB/s    0:00:00 (xfer#259, to-check=80/404)
system/language/english/ftp_lang.php
       1.28K 100%    3.58kB/s    0:00:00 (xfer#260, to-check=79/404)
system/language/english/imglib_lang.php

       2.01K 100%    5.60kB/s    0:00:00 (xfer#261, to-check=78/404)
system/language/english/index.html
         114 100%    0.32kB/s    0:00:00 (xfer#262, to-check=77/404)
system/language/english/migration_lang.php
         715 100%    1.98kB/s    0:00:00 (xfer#263, to-check=76/404)
system/language/english/number_lang.php
         249 100%    0.69kB/s    0:00:00 (xfer#264, to-check=75/404)
system/language/english/profiler_lang.php
       1.12K 100%    3.10kB/s    0:00:00  
       1.12K 100%    3.10kB/s    0:00:00 (xfer#265, to-check=74/404)
system/language/english/unit_test_lang.php
         808 100%    2.24kB/s    0:00:00 (xfer#266, to-check=73/404)
system/language/english/upload_lang.php
       1.62K 100%    4.49kB/s    0:00:00 (xfer#267, to-check=72/404)
system/language/french/
system/language/french/calendar_lang.php
       1.44K 100%    3.98kB/s    0:00:00 (xfer#268, to-check=71/404)
system/language/french/date_lang.php
       3.18K 100%    8.79kB/s    0:00:00 (xfer#269, to-check=70/404)
system/language/french/db_lang.php
       2.27K 100%    6.29kB/s    0:00:00 (xfer#270, to-check=69/404)
system/language/french/email_lang.php

       1.71K 100%    4.71kB/s    0:00:00 (xfer#271, to-check=68/404)
system/language/french/form_validation_lang.php
       2.00K 100%    5.53kB/s    0:00:00 (xfer#272, to-check=67/404)
system/language/french/ftp_lang.php
       1.28K 100%    3.54kB/s    0:00:00 (xfer#273, to-check=66/404)
system/language/french/imglib_lang.php
       2.01K 100%    5.55kB/s    0:00:00 (xfer#274, to-check=65/404)
system/language/french/index.html
         114 100%    0.31kB/s    0:00:00 (xfer#275, to-check=64/404)
system/language/french/migration_lang.php
         715 100%    1.97kB/s    0:00:00 (xfer#276, to-check=63/404)
system/language/french/number_lang.php
         249 100%    0.69kB/s    0:00:00 (xfer#277, to-check=62/404)
system/language/french/profiler_lang.php

       1.12K 100%    3.07kB/s    0:00:00 (xfer#278, to-check=61/404)
system/language/french/unit_test_lang.php
         808 100%    2.22kB/s    0:00:00 (xfer#279, to-check=60/404)
system/language/french/upload_lang.php
       1.62K 100%    4.45kB/s    0:00:00 (xfer#280, to-check=59/404)

2013-05-30 14:26:35,026 unit:oscied-webui/0: hook.output INFO: system/libraries/
system/libraries/Calendar.php

      12.67K 100%   34.55kB/s    0:00:00 (xfer#281, to-check=58/404)
system/libraries/Cart.php

      15.07K 100%   40.88kB/s    0:00:00 (xfer#282, to-check=57/404)
system/libraries/Driver.php

       5.42K 100%   14.61kB/s    0:00:00 (xfer#283, to-check=56/404)
system/libraries/Email.php

      32.77K  68%   87.91kB/s    0:00:00  0: hook.output INFO: 
      47.97K 100%  128.68kB/s    0:00:00 (xfer#284, to-check=55/404)
system/libraries/Encrypt.php

      11.52K 100%   30.83kB/s    0:00:00 (xfer#285, to-check=54/404)
system/libraries/Form_validation.php

      29.59K 100%   78.96kB/s    0:00:00 (xfer#286, to-check=53/404)
system/libraries/Ftp.php

      12.57K 100%   33.45kB/s    0:00:00 (xfer#287, to-check=52/404)
system/libraries/Image_lib.php

      32.77K  87%   86.96kB/s    0:00:00  0: hook.output INFO: 
      37.34K 100%   98.82kB/s    0:00:00 (xfer#288, to-check=51/404)
system/libraries/Javascript.php

      20.12K 100%   53.24kB/s    0:00:00 (xfer#289, to-check=50/404)
system/libraries/Log.php
       2.70K 100%    7.12kB/s    0:00:00 (xfer#290, to-check=49/404)
system/libraries/Migration.php

       8.23K 100%   21.71kB/s    0:00:00 (xfer#291, to-check=48/404)
system/libraries/Pagination.php

       9.05K 100%   23.83kB/s    0:00:00 (xfer#292, to-check=47/404)
system/libraries/Parser.php
       4.43K 100%   11.65kB/s    0:00:00 (xfer#293, to-check=46/404)
system/libraries/Profiler.php

      19.28K 100%   50.61kB/s    0:00:00 (xfer#294, to-check=45/404)
system/libraries/Session.php

      19.22K 100%   50.31kB/s    0:00:00 (xfer#295, to-check=44/404)
system/libraries/Sha1.php

       5.00K 100%   13.04kB/s    0:00:00 (xfer#296, to-check=43/404)
system/libraries/Table.php

      11.37K 100%   29.61kB/s    0:00:00 (xfer#297, to-check=42/404)
system/libraries/Trackback.php
      11.99K 100%   31.23kB/s    0:00:00 (xfer#298, to-check=41/404)
system/libraries/Typography.php

      12.72K 100%   33.04kB/s    0:00:00 (xfer#299, to-check=40/404)
system/libraries/Unit_test.php

       8.20K 100%   21.24kB/s    0:00:00 (xfer#300, to-check=39/404)
system/libraries/Upload.php

      27.55K 100%   71.17kB/s    0:00:00 (xfer#301, to-check=38/404)
system/libraries/User_agent.php

      10.51K 100%   27.15kB/s    0:00:00 (xfer#302, to-check=37/404)
system/libraries/Xmlrpc.php

      32.77K  97%   83.99kB/s    0:00:00  0: hook.output INFO: 
      33.57K 100%   86.04kB/s    0:00:00 (xfer#303, to-check=36/404)
system/libraries/Xmlrpcs.php
      15.55K 100%   39.76kB/s    0:00:00 (xfer#304, to-check=35/404)
system/libraries/Zip.php
      10.16K 100%   25.98kB/s    0:00:00 (xfer#305, to-check=34/404)
system/libraries/index.html
         114 100%    0.29kB/s    0:00:00 (xfer#306, to-check=33/404)
system/libraries/Cache/
system/libraries/Cache/Cache.php
       4.68K 100%   11.96kB/s    0:00:00 (xfer#307, to-check=30/404)
system/libraries/Cache/drivers/
system/libraries/Cache/drivers/Cache_apc.php
       3.31K 100%    8.45kB/s    0:00:00 (xfer#308, to-check=28/404)
system/libraries/Cache/drivers/Cache_dummy.php
       2.66K 100%    6.77kB/s    0:00:00 (xfer#309, to-check=27/404)
system/libraries/Cache/drivers/Cache_file.php
       4.15K 100%   10.58kB/s    0:00:00 (xfer#310, to-check=26/404)

2013-05-30 14:26:35,054 unit:oscied-webui/0: hook.output INFO: system/libraries/Cache/drivers/Cache_memcached.php
       5.03K 100%   12.79kB/s    0:00:00 (xfer#311, to-check=25/404)
system/libraries/javascript/
system/libraries/javascript/Jquery.php

      24.19K 100%   61.37kB/s    0:00:00 (xfer#312, to-check=24/404)

2013-05-30 14:26:35,056 unit:oscied-webui/0: hook.output INFO: tools/
tools/README.md
       1.04K 100%    2.63kB/s    0:00:00 (xfer#313, to-check=23/404)
tools/spark
         746 100%    1.89kB/s    0:00:00 (xfer#314, to-check=22/404)

2013-05-30 14:26:35,058 unit:oscied-webui/0: hook.output INFO: tools/lib/
tools/lib/spark/
tools/lib/spark/sources
          68 100%    0.17kB/s    0:00:00 (xfer#315, to-check=18/404)
tools/lib/spark/spark_cli.php
       8.74K 100%   22.05kB/s    0:00:00 (xfer#316, to-check=17/404)
tools/lib/spark/spark_exception.php
          52 100%    0.13kB/s    0:00:00 (xfer#317, to-check=16/404)
tools/lib/spark/spark_source.php
       3.47K 100%    8.76kB/s    0:00:00 (xfer#318, to-check=15/404)
tools/lib/spark/spark_type.php
       4.82K 100%   12.16kB/s    0:00:00 (xfer#319, to-check=14/404)
tools/lib/spark/spark_utils.php
       2.66K 100%    6.72kB/s    0:00:00 (xfer#320, to-check=13/404)
tools/lib/spark/spark_types/
tools/lib/spark/spark_types/git_spark.php
       1.27K 100%    3.20kB/s    0:00:00 (xfer#321, to-check=11/404)
tools/lib/spark/spark_types/hg_spark.php
       1.04K 100%    2.62kB/s    0:00:00 (xfer#322, to-check=10/404)
tools/lib/spark/spark_types/zip_spark.php
       1.27K 100%    3.21kB/s    0:00:00 (xfer#323, to-check=9/404)

2013-05-30 14:26:35,058 unit:oscied-webui/0: hook.output INFO: tools/test/
tools/test/install_test.php
       1.87K 100%    4.69kB/s    0:00:00 (xfer#324, to-check=8/404)
tools/test/phpunit.xml
         250 100%    0.63kB/s    0:00:00 (xfer#325, to-check=7/404)
tools/test/remove_test.php

       2.43K 100%    6.11kB/s    0:00:00 (xfer#326, to-check=6/404)
tools/test/search_test.php
         381 100%    0.96kB/s    0:00:00 (xfer#327, to-check=5/404)
tools/test/version_test.php
       1.04K 100%    2.61kB/s    0:00:00 (xfer#328, to-check=4/404)
tools/test/lib/
tools/test/lib/bootstrap.php
         887 100%    2.22kB/s    0:00:00 (xfer#329, to-check=2/404)
tools/test/lib/test-sparks/
tools/test/lib/test-sparks/.gitkeep
           0 100%    0.00kB/s    0:00:00 (xfer#330, to-check=0/404)

2013-05-30 14:26:35,107 unit:oscied-webui/0: hook.output INFO: 
sent 11.93M bytes  received 6.58K bytes  7.96M bytes/sec
total size is 11.90M  speedup is 1.00

2013-05-30 14:26:35,520 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Expose Apache 2 service
2013-05-30 14:26:35,834 unit:oscied-orchestra/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 14:26:35,907 unit:oscied-webui/0: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 14:26:36,223 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - config changed
2013-05-30 14:26:36,597 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 14:26:36,598 unit:oscied-storage/0: hook.output INFO: keyring `/tmp/tmpq1w8yj/secring.gpg' created

2013-05-30 14:26:36,598 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 14:26:36,599 unit:oscied-storage/0: hook.output INFO: keyring `/tmp/tmpq1w8yj/pubring.gpg' created

2013-05-30 14:26:36,606 unit:oscied-storage/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 14:26:36,542 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 14:26:36,581 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 14:26:36,700 unit:oscied-webui/0: hook.output INFO:  ... waiting 
2013-05-30 14:26:36,844 unit:oscied-storage/0: hook.output INFO: gpg: /tmp/tmpq1w8yj/trustdb.gpg: trustdb created

2013-05-30 14:26:36,845 unit:oscied-storage/0: hook.output INFO: gpg: 
2013-05-30 14:26:36,850 unit:oscied-storage/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 14:26:36,982 unit:oscied-storage/0: hook.output INFO: OK

2013-05-30 14:26:37,038 unit:oscied-storage/0: hook.output INFO: Reading package lists...
2013-05-30 14:26:37,703 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:26:38,624 unit:oscied-webui/0: hook.output INFO: mysql stop/waiting

2013-05-30 14:26:38,930 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Set limits (upload size, execution time, ...)
2013-05-30 14:26:39,312 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:26:39,644 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No shared storage !
2013-05-30 14:26:39,671 unit:oscied-webui/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 14:26:39,672 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/install
2013-05-30 14:26:39,687 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 14:26:39,698 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 14:26:39,698 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 14:26:39,698 unit:oscied-webui/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 14:26:39,699 unit:oscied-webui/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 14:26:39,753 unit:oscied-webui/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:26:39,742 unit:oscied-orchestra/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 14:26:39,758 unit:oscied-webui/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:26:39,758 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:26:39,784 unit:oscied-webui/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-webui-0/charm/hooks/config-changed
2013-05-30 14:26:39,816 unit:oscied-webui/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:26:39,821 unit:oscied-webui/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:26:39,822 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:26:39,906 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/start
2013-05-30 14:26:40,026 unit:oscied-orchestra/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 14:26:40,603 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 14:26:40,613 unit:oscied-storage/0: hook.output INFO: Building dependency tree...
2013-05-30 14:26:40,800 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 14:26:40,800 unit:oscied-storage/0: hook.output INFO: Reading state information...
2013-05-30 14:26:40,801 unit:oscied-storage/0: hook.output INFO: 

2013-05-30 14:26:40,990 unit:oscied-storage/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:26:40,991 unit:oscied-storage/0: hook.output INFO:   python-shelltoolbox

2013-05-30 14:26:40,999 unit:oscied-storage/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:26:41,000 unit:oscied-storage/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 14:26:41,263 unit:oscied-storage/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 14:26:41,286 unit:oscied-storage/0: hook.output INFO: Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 14:26:41,628 unit:oscied-storage/0: hook.output INFO: Fetched 19.9 kB in 0s (71.2 kB/s)

2013-05-30 14:26:41,597 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 14:26:41,598 unit:oscied-orchestra/0: hook.output INFO: keyring `/tmp/tmpl6d70j/secring.gpg' created

2013-05-30 14:26:41,598 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 14:26:41,599 unit:oscied-orchestra/0: hook.output INFO: keyring `/tmp/tmpl6d70j/pubring.gpg' created

2013-05-30 14:26:41,750 unit:oscied-storage/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 14:26:41,751 unit:oscied-storage/0: hook.output INFO: (Reading database ... 
2013-05-30 14:26:41,805 unit:oscied-storage/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 14:26:41,813 unit:oscied-storage/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 14:26:42,078 unit:oscied-storage/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 14:26:42,093 unit:oscied-storage/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 14:26:42,324 unit:oscied-storage/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 14:26:42,505 unit:oscied-storage/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 14:26:42,544 unit:oscied-orchestra/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 14:26:42,844 unit:oscied-orchestra/0: hook.output INFO: gpg: /tmp/tmpl6d70j/trustdb.gpg: trustdb created

2013-05-30 14:26:42,851 unit:oscied-orchestra/0: hook.output INFO: gpg: 
2013-05-30 14:26:42,854 unit:oscied-orchestra/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 14:26:42,954 unit:oscied-orchestra/0: hook.output INFO: OK

2013-05-30 14:26:42,998 unit:oscied-orchestra/0: hook.output INFO: Reading package lists...
2013-05-30 14:26:44,588 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:26:44,986 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:26:44,930 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No shared storage !
2013-05-30 14:26:44,959 unit:oscied-webui/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 14:26:44,959 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/start
2013-05-30 14:26:44,960 unit:oscied-webui/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 14:26:44,960 unit:oscied-webui/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 14:26:44,966 unit:oscied-webui/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 14:26:44,966 unit:oscied-webui/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 14:26:44,974 unit:oscied-webui/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:api role:client id:relation-0000000007 scope:global>, <ServiceRelationState name:storage role:client id:relation-0000000004 scope:global>]
2013-05-30 14:26:44,983 unit:oscied-webui/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:26:45,051 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:26:45,068 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:26:45,069 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:26:45,069 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 14:26:45,095 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:26:45,095 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:26:45,117 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:26:45,165 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 14:26:45,183 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:26:45,183 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:26:45,184 unit:oscied-webui/0: hook.scheduler DEBUG: start
2013-05-30 14:26:45,210 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:26:45,211 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 14:26:45,221 unit:oscied-webui/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:26:45,222 unit:oscied-webui/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 14:26:45,246 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 14:26:45,346 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:26:45,256 unit:oscied-webui/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 14:26:45,280 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 14:26:45,280 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 14:26:45,420 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts: ['api:7', 'storage:4']
2013-05-30 14:26:45,440 unit:oscied-webui/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-webui-0/charm/hooks/config-changed
2013-05-30 14:26:45,440 unit:oscied-webui/0: unit.lifecycle DEBUG: configured unit
2013-05-30 14:26:45,468 unit:oscied-webui/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 14:26:45,475 unit:oscied-webui/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 14:26:45,680 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:26:45,997 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': False, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x103c2c0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x1394ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:26:46,273 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:26:46,553 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook install
2013-05-30 14:26:46,842 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Uninstall prerequisites, remove files & bricks and load default configuration
2013-05-30 14:26:47,126 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 14:26:47,423 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-server nfs-common
2013-05-30 14:26:48,013 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 14:26:48,607 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 14:26:48,881 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 14:26:50,746 unit:oscied-transform/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 14:26:52,933 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 14:26:53,541 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install ntp glusterfs-server nfs-common
2013-05-30 14:26:53,900 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 14:26:53,957 unit:oscied-orchestra/0: hook.output INFO: Building dependency tree...
2013-05-30 14:26:55,495 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 14:26:55,496 unit:oscied-orchestra/0: hook.output INFO: Reading state information...
2013-05-30 14:26:55,497 unit:oscied-orchestra/0: hook.output INFO: 

2013-05-30 14:26:55,801 unit:oscied-transform/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 14:26:56,898 unit:oscied-orchestra/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:26:56,899 unit:oscied-orchestra/0: hook.output INFO:   python-shelltoolbox

2013-05-30 14:26:56,903 unit:oscied-orchestra/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:26:56,904 unit:oscied-orchestra/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 14:26:57,362 unit:oscied-orchestra/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 14:26:57,454 unit:oscied-orchestra/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 14:26:59,646 unit:oscied-orchestra/0: hook.output INFO: Fetched 19.9 kB in 0s (83.2 kB/s)

2013-05-30 14:27:00,113 unit:oscied-orchestra/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 14:27:00,113 unit:oscied-orchestra/0: hook.output INFO: (Reading database ... 
2013-05-30 14:27:00,497 unit:oscied-transform/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 14:27:00,570 unit:oscied-orchestra/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 14:27:00,577 unit:oscied-orchestra/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 14:27:01,229 unit:oscied-orchestra/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 14:27:01,356 unit:oscied-orchestra/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 14:27:02,255 unit:oscied-orchestra/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 14:27:03,602 unit:oscied-orchestra/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 14:27:05,608 unit:oscied-transform/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 14:27:05,942 unit:oscied-transform/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 14:27:07,087 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 14:27:07,088 unit:oscied-transform/0: hook.output INFO: keyring `/tmp/tmpjd3x22/secring.gpg' created

2013-05-30 14:27:07,089 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 14:27:07,089 unit:oscied-transform/0: hook.output INFO: keyring `/tmp/tmpjd3x22/pubring.gpg' created

2013-05-30 14:27:07,090 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 14:27:07,091 unit:oscied-transform/0: hook.output INFO: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 14:27:07,328 unit:oscied-transform/0: hook.output INFO: gpg: 
2013-05-30 14:27:07,329 unit:oscied-transform/0: hook.output INFO: /tmp/tmpjd3x22/trustdb.gpg: trustdb created
gpg: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 14:27:07,427 unit:oscied-transform/0: hook.output INFO: OK

2013-05-30 14:27:07,476 unit:oscied-transform/0: hook.output INFO: Reading package lists...
2013-05-30 14:27:09,622 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 14:27:09,913 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 14:27:10,846 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 14:27:10,857 unit:oscied-transform/0: hook.output INFO: Building dependency tree...
2013-05-30 14:27:11,060 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 14:27:11,061 unit:oscied-transform/0: hook.output INFO: Reading state information...
2013-05-30 14:27:11,062 unit:oscied-transform/0: hook.output INFO: 

2013-05-30 14:27:11,234 unit:oscied-transform/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:27:11,235 unit:oscied-transform/0: hook.output INFO:   python-shelltoolbox

2013-05-30 14:27:11,237 unit:oscied-transform/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:27:11,237 unit:oscied-transform/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 14:27:11,301 unit:oscied-transform/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 14:27:11,435 unit:oscied-transform/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 14:27:11,804 unit:oscied-transform/0: hook.output INFO: Fetched 19.9 kB in 0s (82.7 kB/s)

2013-05-30 14:27:11,919 unit:oscied-transform/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 14:27:11,920 unit:oscied-transform/0: hook.output INFO: (Reading database ... 
2013-05-30 14:27:11,974 unit:oscied-transform/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 14:27:11,980 unit:oscied-transform/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 14:27:12,108 unit:oscied-transform/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 14:27:12,126 unit:oscied-transform/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 14:27:12,292 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Create and start a replica=1 volume medias_volume_0 with 1 brick
2013-05-30 14:27:12,278 unit:oscied-transform/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 14:27:12,466 unit:oscied-transform/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 14:27:12,597 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume create medias_volume_0  ip-10-242-86-19.ec2.internal:/exp0
2013-05-30 14:27:13,088 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume start medias_volume_0 
2013-05-30 14:27:13,176 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:14,094 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 14:27:14,449 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-242-86-19.ec2.internal:/exp0\n'
2013-05-30 14:27:14,728 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-242-86-19.ec2.internal:/exp0'], 'auth_allow': '', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 14:27:14,855 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:15,012 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume rebalance medias_volume_0 status
2013-05-30 14:27:15,245 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:15,366 unit:oscied-storage/0: unit.hook.api INFO: [INFO] nothing to rebalance on volume medias_volume_0

2013-05-30 14:27:15,649 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Expose GlusterFS Server service
2013-05-30 14:27:15,600 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:15,971 unit:oscied-storage/0: unit.hook.api DEBUG: opened 111/tcp
2013-05-30 14:27:15,954 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x236fc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:27:16,037 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:16,279 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24007/tcp
2013-05-30 14:27:16,303 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:27:16,599 unit:oscied-storage/0: unit.hook.api DEBUG: opened 24009/tcp
2013-05-30 14:27:16,656 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook install
2013-05-30 14:27:16,926 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x103c2c0>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 14:27:17,013 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 14:27:17,308 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:27:17,366 unit:oscied-storage/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 14:27:17,367 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/install
2013-05-30 14:27:17,398 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 14:27:17,417 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 14:27:17,417 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 14:27:17,418 unit:oscied-storage/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 14:27:17,418 unit:oscied-storage/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 14:27:17,367 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:27:17,485 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:27:17,496 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:3
2013-05-30 14:27:17,516 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 14:27:17,523 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:27:17,529 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:27:17,530 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:27:17,552 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 14:27:17,755 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:27:18,134 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:27:18,370 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:18,486 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 14:27:18,705 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:18,835 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 14:27:18,857 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:19,055 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:19,379 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x295f960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x2ef8ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:27:19,568 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 14:27:19,699 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:27:20,004 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 14:27:20,326 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *
2013-05-30 14:27:20,296 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 14:27:20,682 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*"
2013-05-30 14:27:20,672 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 14:27:21,874 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1848690>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x1837b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:27:22,255 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 14:27:22,361 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 14:27:22,651 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-242-86-19.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 14:27:22,967 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 14:27:23,389 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-242-86-19.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *\n'
2013-05-30 14:27:23,698 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-242-86-19.ec2.internal:/exp0'], 'auth_allow': '*', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 14:27:24,007 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x295f960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 14:27:24,320 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:27:24,377 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:27:24,378 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 14:27:24,418 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:27:24,424 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:3
2013-05-30 14:27:24,431 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: peer:0
2013-05-30 14:27:24,451 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:27:24,459 unit:oscied-storage/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:4
2013-05-30 14:27:24,460 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:27:24,472 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 14:27:24,522 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 14:27:24,712 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:27:25,315 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:25,690 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:26,014 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:26,326 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1dda550>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x2358ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:27:26,644 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:27:26,963 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook start
2013-05-30 14:27:27,255 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute pgrep glusterd
2013-05-30 14:27:27,546 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1dda550>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}
2013-05-30 14:27:27,544 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook install
2013-05-30 14:27:27,822 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:27:27,871 unit:oscied-storage/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 14:27:27,872 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/start
2013-05-30 14:27:27,872 unit:oscied-storage/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 14:27:27,872 unit:oscied-storage/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 14:27:27,895 unit:oscied-storage/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 14:27:27,896 unit:oscied-storage/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 14:27:27,902 unit:oscied-storage/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:storage role:server id:relation-0000000002 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000003 scope:global>, <ServiceRelationState name:peer role:peer id:relation-0000000000 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000001 scope:global>, <ServiceRelationState name:storage role:server id:relation-0000000004 scope:global>]
2013-05-30 14:27:27,905 unit:oscied-storage/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:27:28,042 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:peer lifecycle
2013-05-30 14:27:28,052 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:27:28,053 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:27:28,053 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:27:28,083 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:27:28,084 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:peer lifecycle
2013-05-30 14:27:28,098 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:27:28,163 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:27:28,174 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:27:28,174 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:27:28,175 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:27:28,191 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:27:28,191 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:27:28,213 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:27:28,260 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:27:28,285 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:27:28,285 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:27:28,285 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:27:28,302 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:27:28,303 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:27:28,324 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:27:28,369 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:27:28,382 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:27:28,382 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:27:28,382 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:27:28,407 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:27:28,407 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:27:28,418 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:27:28,347 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg libavcodec-dev nfs-common ntp libavutil-dev libavcodec-extra-53 libavformat-dev libswscale-dev x264 zlib1g-dev libavdevice-dev
2013-05-30 14:27:28,473 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:27:28,397 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:27:28,408 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 14:27:28,410 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 14:27:28,411 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 14:27:28,494 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:27:28,494 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:27:28,494 unit:oscied-storage/0: hook.scheduler DEBUG: start
2013-05-30 14:27:28,522 unit:oscied-storage/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:27:28,523 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:27:28,530 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 14:27:28,531 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 14:27:28,533 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 14:27:28,535 unit:oscied-storage/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:27:28,537 unit:oscied-storage/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 14:27:28,557 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 14:27:28,583 unit:oscied-storage/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 14:27:28,593 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 14:27:28,593 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 14:27:28,528 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['api:7']
2013-05-30 14:27:28,541 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:27:28,541 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 14:27:28,836 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 14:27:28,851 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:27:28,852 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:27:28,939 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts: ['peer:0', 'storage:1', 'storage:2', 'storage:3', 'storage:4']
2013-05-30 14:27:29,624 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:29,932 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:30,226 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:30,520 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2833700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': ''}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x2b39ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:27:30,483 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 14:27:30,827 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:27:31,129 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 14:27:31,428 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 14:27:32,275 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x2833700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal'}
2013-05-30 14:27:32,559 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:27:32,609 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:27:32,621 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000004/settings/unit-0000000002' state: connected handle:0>
2013-05-30 14:27:32,637 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 14:27:32,732 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:4'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 14:27:32,733 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:27:32,737 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 14:27:32,738 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 14:27:33,101 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['peer:0', 'storage:1', 'storage:2', 'storage:3']
2013-05-30 14:27:33,116 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:27:33,087 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation joined
2013-05-30 14:27:33,114 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:27:33,142 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-joined
2013-05-30 14:27:33,143 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:27:33,242 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'storage:4': ['api:7']
2013-05-30 14:27:33,255 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:27:33,255 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 14:27:33,321 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:27:33,570 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:27:33,879 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:27:34,172 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:27:34,479 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xff8960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x1591ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:27:34,808 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:27:35,097 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook config-changed
2013-05-30 14:27:35,403 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Set volume medias_volume_0 allowed clients IP list to *,ip-10-152-145-204.ec2.internal
2013-05-30 14:27:35,731 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume set medias_volume_0 auth.allow "*,ip-10-152-145-204.ec2.internal"
2013-05-30 14:27:36,270 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 14:27:37,221 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 14:27:37,594 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-242-86-19.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *,ip-10-152-145-204.ec2.internal\n'
2013-05-30 14:27:37,641 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 14:27:37,737 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - storage relation changed
2013-05-30 14:27:37,870 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Execute gluster volume info medias_volume_0 
2013-05-30 14:27:37,928 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:27:38,231 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Volume infos stdout: '\nVolume Name: medias_volume_0\nType: Distribute\nStatus: Started\nNumber of Bricks: 1\nTransport-type: tcp\nBricks:\nBrick1: ip-10-242-86-19.ec2.internal:/exp0\nOptions Reconfigured:\nauth.allow: *,ip-10-152-145-204.ec2.internal\n'
2013-05-30 14:27:38,218 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:27:38,516 unit:oscied-storage/0: unit.hook.api INFO: [INFO] {'status': 'Started', 'name': 'medias_volume_0', 'bricks': ['ip-10-242-86-19.ec2.internal:/exp0'], 'auth_allow': '*,ip-10-152-145-204.ec2.internal', 'type': 'Distribute', 'transport': 'tcp'}
2013-05-30 14:27:38,494 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 14:27:38,792 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xff8960>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal'}
2013-05-30 14:27:39,090 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:27:39,138 unit:oscied-storage/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:27:39,093 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 14:27:39,281 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/config-changed
2013-05-30 14:27:39,282 unit:oscied-storage/0: unit.lifecycle DEBUG: configured unit
2013-05-30 14:27:39,283 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 14:27:39,312 unit:oscied-storage/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 14:27:39,320 unit:oscied-storage/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 14:27:39,328 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Storage IP is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:27:39,649 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 14:27:39,687 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 14:27:39,722 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 14:27:39,768 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:27:40,027 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 14:27:40,080 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Unregister shared storage
2013-05-30 14:27:40,423 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:27:40,749 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Mount shared storage [ip-10-242-86-19.ec2.internal] ip-10-242-86-19.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 14:27:41,515 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 14:27:43,638 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 14:27:49,305 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create medias path in storage
2013-05-30 14:27:49,625 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI medias path to medias path in storage
2013-05-30 14:27:49,943 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=root:root mod=(d=755,f=644)) of medias path in storage
2013-05-30 14:27:50,300 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Create uploads path in storage
2013-05-30 14:27:50,621 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Link Web UI uploads path to uploads path in storage
2013-05-30 14:27:50,934 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Ensure POSIX rights (owner=www-data:www-data mod=(d=755,f=644)) of uploads path in storage
2013-05-30 14:27:51,271 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register shared storage
2013-05-30 14:27:51,609 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:27:51,928 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] WARNING Do not start Web UI : No Orchestrator API !
2013-05-30 14:27:51,953 unit:oscied-webui/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:27:51,982 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/storage-relation-changed
2013-05-30 14:27:57,307 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client ffmpeg nfs-common ntp rabbitmq-server mongodb x264
2013-05-30 14:27:58,658 unit:oscied-publisher/0: hook.output INFO: Requirement already up-to-date: argparse in /usr/lib/python2.7
Requirement already up-to-date: configobj in /usr/lib/python2.7/dist-packages
Downloading/unpacking celery
  Running setup.py egg_info for package celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
Downloading/unpacking flask
  Running setup.py egg_info for package flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
Downloading/unpacking hashlib
  Running setup.py egg_info for package hashlib
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
Downloading/unpacking ipaddr
  Downloading ipaddr-2.1.10.tar.gz
  Running setup.py egg_info for package ipaddr
    
Downloading/unpacking mock
  Running setup.py egg_info for package mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
Downloading/unpacking passlib
  Running setup.py egg_info for package passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
Downloading/unpacking pymongo
  Running setup.py egg_info for package pymongo
    
Downloading/unpacking requests from https://pypi.python.org/packages/source/r/requests/requests-1.2.3.tar.gz#md5=adbd3f18445f7fe5e77f65c502e264fb
  Running setup.py egg_info for package requests
    
Downloading/unpacking six from https://pypi.python.org/packages/source/s/six/six-1.3.0.tar.gz#md5=ec47fe6070a8a64c802363d2c2b1e2ee
  Downloading six-1.3.0.tar.gz
  Running setup.py egg_info for package six
    
Downloading/unpacking billiard>=2.7.3.28,<3.0 (from celery)
  Running setup.py egg_info for package billiard
    
    warning: no files found matching '*.py' under directory 'Lib'
Downloading/unpacking python-dateutil>=1.5 from https://pypi.python.org/packages/source/p/python-dateutil/python-dateutil-2.1.tar.gz#md5=1534bb15cf311f07afaa3aacba1c028b (from celery)
  Running setup.py egg_info for package python-dateutil
    
Downloading/unpacking kombu>=2.5.10,<3.0 (from celery)
  Running setup.py egg_info for package kombu
    
Downloading/unpacking Werkzeug>=0.7 (from flask)
  Running setup.py egg_info for package Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
Downloadin
2013-05-30 14:28:00,076 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 14:28:00,428 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 14:28:02,882 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Compile and install GPAC/DashCast
2013-05-30 14:28:06,426 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ./configure
2013-05-30 14:28:08,810 unit:oscied-publisher/0: hook.output INFO: g/unpacking Jinja2>=2.4 (from flask)
  Running setup.py egg_info for package Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
Downloading/unpacking anyjson>=0.3.3 (from kombu>=2.5.10,<3.0->celery)
  Downloading anyjson-0.3.3.tar.gz
  Running setup.py egg_info for package anyjson
    
Downloading/unpacking amqp>=1.0.11,<1.1.0 (from kombu>=2.5.10,<3.0->celery)
  Running setup.py egg_info for package amqp
    
Downloading/unpacking markupsafe (from Jinja2>=2.4->flask)
  Downloading MarkupSafe-0.18.tar.gz
  Running setup.py egg_info for package markupsafe
    
Installing collected packages: celery, flask, hashlib, ipaddr, mock, passlib, pymongo, requests, six, billiard, python-dateutil, kombu, Werkzeug, Jinja2, anyjson, amqp, markupsafe
  Running setup.py install for celery
    Upgrade: no old version found.
    
    no previously-included directories found matching '*.pyc'
    Installing celeryctl script to /usr/local/bin
    Installing celeryd script to /usr/local/bin
    Installing camqadm script to /usr/local/bin
    Installing celeryev script to /usr/local/bin
    Installing celery script to /usr/local/bin
    Installing celeryd-multi script to /usr/local/bin
    Installing celerybeat script to /usr/local/bin
  Running setup.py install for flask
    
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
    no previously-included directories found matching 'docs/_themes/.git'
  Running setup.py install for hashlib
    building '_sha' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/shamodule.c -o build/temp.linux-x86_64-2.7/Modules/shamodule.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/shamodule.o -o build/lib.linux-x86_64-2.7/_sha.so
    building '_md5' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5module.c -o build/temp.linux-x86_64-2.7/Modules/md5module.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/md5.c -o build/temp.linux-x86_64-2.7/Modules/md5.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/md5module.o build/temp.linux-x86_64-2.7/Modules/md5.o -o build/lib.linux-x86_64-2.7/_md5.so
    building '_sha256' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG 
2013-05-30 14:28:12,406 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 14:28:14,174 unit:oscied-publisher/0: hook.output INFO: -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha256module.c -o build/temp.linux-x86_64-2.7/Modules/sha256module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha256module.o -o build/lib.linux-x86_64-2.7/_sha256.so
    building '_sha512' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c Modules/sha512module.c -o build/temp.linux-x86_64-2.7/Modules/sha512module.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/sha512module.o -o build/lib.linux-x86_64-2.7/_sha512.so
    
    no previously-included directories found matching 'build'
    no previously-included directories found matching 'dist'
    no previously-included directories found matching 'RCS'
    no previously-included directories found matching 'CVS'
    no previously-included directories found matching '.svn'
  Running setup.py install for ipaddr
    
  Running setup.py install for mock
    
    warning: no files found matching '*.png' under directory 'docs'
    warning: no files found matching '*.css' under directory 'docs'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching '*.js' under directory 'docs'
  Running setup.py install for passlib
    
    warning: no files found matching 'passlib/*.cfg'
    no previously-included directories found matching '*.komodoproject'
  Running setup.py install for pymongo
    building 'bson._cbson' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/_cbsonmodule.c -o build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/time64.c -o build/temp.linux-x86_64-2.7/bson/time64.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/encoding_helpers.c -o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/bson/_cbsonmodule.o build/temp.linux-x86_64-2.7/bson/time64.o build/temp.linux-x86_64-2.7/bson/buffer.o build/temp.linux-x86_64-2.7/bson/encoding_helpers.o -o build/lib.linux-x86_64-2.7/bson/_cbson.so
    building 'pymongo._cmessage' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c pymongo/_cmessagemodule.c -o build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -Ibson -I/usr/include/python2.7 -c bson/buffer.c -o build/temp.linux-x86_64-2.7/bson/buffer.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORT
2013-05-30 14:28:54,612 unit:oscied-publisher/0: hook.output INFO: IFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/pymongo/_cmessagemodule.o build/temp.linux-x86_64-2.7/bson/buffer.o -o build/lib.linux-x86_64-2.7/pymongo/_cmessage.so
    
  Found existing installation: requests 1.1.0
    Uninstalling requests:
      Successfully uninstalled requests
  Running setup.py install for requests
    
  Found existing installation: six 1.2.0
    Uninstalling six:
      Successfully uninstalled six
  Running setup.py install for six
    
  Running setup.py install for billiard
    building '_billiard' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/multiprocessing.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/socket_connection.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DHAVE_SEM_OPEN=1 -DHAVE_FD_TRANSFER=1 -DHAVE_SEM_TIMEDWAIT=1 -IModules/_billiard -I/usr/include/python2.7 -c Modules/_billiard/semaphore.c -o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/Modules/_billiard/multiprocessing.o build/temp.linux-x86_64-2.7/Modules/_billiard/socket_connection.o build/temp.linux-x86_64-2.7/Modules/_billiard/semaphore.o -lrt -o build/lib.linux-x86_64-2.7/_billiard.so
    
    warning: no files found matching '*.py' under directory 'Lib'
  Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil:
      Successfully uninstalled python-dateutil
  Running setup.py install for python-dateutil
    
  Running setup.py install for kombu
    
  Running setup.py install for Werkzeug
    
    warning: no files found matching '*' under directory 'werkzeug/debug/templates'
    warning: no files found matching '*' under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
    warning: no previously-included files matching '*.pyc' found under directory 'tests'
    warning: no previously-included files matching '*.pyo' found under directory 'tests'
    warning: no previously-included files matching '*.pyc' found under directory 'examples'
    warning: no previously-included files matching '*.pyo' found under directory 'examples'
    no previously-included directories found matching 'docs/_build'
  Running setup.py install for Jinja2
    
    warning: no files found matching '*' under directory 'custom_fixers'
    warning: no previously-included files matching '*' found under directory 'docs/_build'
    warning: no previously-included files matching '*.pyc' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyc' found under directory 'docs'
    warning: no previously-included files matching '*.pyo' found under directory 'jinja2'
    warning: no previously-included files matching '*.pyo' found under directory 'docs'
  Running setup.py install for anyjson
    
  Running setup.py install for amqp
    
  Running setup.py install for markupsafe
    
    building 'markupsafe._speedups' extension
    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c markupsafe/_speedup
2013-05-30 14:28:57,328 unit:oscied-publisher/0: hook.output INFO: s.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o
    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so
Successfully installed celery flask hashlib ipaddr mock passlib pymongo requests six billiard python-dateutil kombu Werkzeug Jinja2 anyjson amqp markupsafe
Cleaning up...

2013-05-30 14:29:03,724 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 14:29:03,725 unit:oscied-publisher/0: hook.output INFO: keyring `/tmp/tmp_9rctu/secring.gpg' created

2013-05-30 14:29:03,726 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 14:29:03,726 unit:oscied-publisher/0: hook.output INFO: keyring `/tmp/tmp_9rctu/pubring.gpg' created

2013-05-30 14:29:03,732 unit:oscied-publisher/0: hook.output INFO: gpg: requesting key C8068B11 from hkp server keyserver.ubuntu.com

2013-05-30 14:29:03,989 unit:oscied-publisher/0: hook.output INFO: gpg: /tmp/tmp_9rctu/trustdb.gpg: trustdb created

2013-05-30 14:29:03,994 unit:oscied-publisher/0: hook.output INFO: gpg: 
2013-05-30 14:29:04,001 unit:oscied-publisher/0: hook.output INFO: key C8068B11: public key "Launchpad Ensemble PPA" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)

2013-05-30 14:29:04,133 unit:oscied-publisher/0: hook.output INFO: OK

2013-05-30 14:29:04,185 unit:oscied-publisher/0: hook.output INFO: Reading package lists...
2013-05-30 14:29:07,235 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 14:29:07,243 unit:oscied-publisher/0: hook.output INFO: Building dependency tree...
2013-05-30 14:29:07,398 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 14:29:07,399 unit:oscied-publisher/0: hook.output INFO: Reading state information...
2013-05-30 14:29:07,400 unit:oscied-publisher/0: hook.output INFO: 

2013-05-30 14:29:07,540 unit:oscied-publisher/0: hook.output INFO: The following extra packages will be installed:

2013-05-30 14:29:07,541 unit:oscied-publisher/0: hook.output INFO:   python-shelltoolbox

2013-05-30 14:29:07,546 unit:oscied-publisher/0: hook.output INFO: The following NEW packages will be installed:

2013-05-30 14:29:07,546 unit:oscied-publisher/0: hook.output INFO:   python-charmhelpers python-shelltoolbox

2013-05-30 14:29:07,639 unit:oscied-publisher/0: hook.output INFO: 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.9 kB of archives.
After this operation, 167 kB of additional disk space will be used.
Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ raring/universe python-shelltoolbox all 0.2.1+bzr17-1 [13.5 kB]

2013-05-30 14:29:07,770 unit:oscied-publisher/0: hook.output INFO: Get:2 http://ppa.launchpad.net/juju/pkgs/ubuntu/ raring/main python-charmhelpers all 0.3+bzr178-3~raring1 [6410 B]

2013-05-30 14:29:08,118 unit:oscied-publisher/0: hook.output INFO: Fetched 19.9 kB in 0s (80.9 kB/s)

2013-05-30 14:29:08,254 unit:oscied-publisher/0: hook.output INFO: Selecting previously unselected package python-shelltoolbox.

2013-05-30 14:29:08,255 unit:oscied-publisher/0: hook.output INFO: (Reading database ... 
2013-05-30 14:29:08,302 unit:oscied-publisher/0: hook.output INFO: 61597 files and directories currently installed.)

2013-05-30 14:29:08,310 unit:oscied-publisher/0: hook.output INFO: Unpacking python-shelltoolbox (from .../python-shelltoolbox_0.2.1+bzr17-1_all.deb) ...

2013-05-30 14:29:08,517 unit:oscied-publisher/0: hook.output INFO: Selecting previously unselected package python-charmhelpers.

2013-05-30 14:29:08,532 unit:oscied-publisher/0: hook.output INFO: Unpacking python-charmhelpers (from .../python-charmhelpers_0.3+bzr178-3~raring1_all.deb) ...

2013-05-30 14:29:08,751 unit:oscied-publisher/0: hook.output INFO: Setting up python-shelltoolbox (0.2.1+bzr17-1) ...

2013-05-30 14:29:08,933 unit:oscied-publisher/0: hook.output INFO: Setting up python-charmhelpers (0.3+bzr178-3~raring1) ...

2013-05-30 14:29:11,420 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:29:11,719 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:29:12,017 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:29:12,326 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x2dd7c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:29:12,608 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:29:12,884 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook install
2013-05-30 14:29:13,387 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Uninstall prerequisities, unregister service and load default configuration
2013-05-30 14:29:16,304 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:29:19,315 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 14:29:22,449 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:29:25,274 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:29:28,200 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister the Orchestrator
2013-05-30 14:29:29,321 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 14:29:33,145 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y remove --purge apache2.2-common
2013-05-30 14:29:33,751 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y autoremove
2013-05-30 14:29:39,884 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Upgrade system and install prerequisites
2013-05-30 14:29:40,940 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-add-repository -y ppa:jon-severinsson/ffmpeg
2013-05-30 14:29:49,378 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y update
2013-05-30 14:29:54,612 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y upgrade
2013-05-30 14:30:16,818 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute apt-get -y install glusterfs-client nfs-common ntp make apache2 apache2-threaded-dev
2013-05-30 14:31:33,780 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 14:31:34,057 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 14:31:35,902 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 14:31:36,445 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Expose RESTful API, MongoDB & RabbitMQ service
2013-05-30 14:31:36,751 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5000/tcp
2013-05-30 14:31:36,811 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:31:37,056 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 27017/tcp
2013-05-30 14:31:37,165 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:31:37,222 unit:oscied-transform/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 14:31:37,223 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/install
2013-05-30 14:31:37,233 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 14:31:37,244 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 14:31:37,245 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 14:31:37,245 unit:oscied-transform/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 14:31:37,245 unit:oscied-transform/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 14:31:37,290 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:31:37,296 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:31:37,297 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:31:37,314 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 14:31:37,375 unit:oscied-orchestra/0: unit.hook.api DEBUG: opened 5672/tcp
2013-05-30 14:31:37,693 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1848690>
2013-05-30 14:31:38,062 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:31:38,129 unit:oscied-orchestra/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 14:31:38,130 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/install
2013-05-30 14:31:38,150 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 14:31:38,161 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 14:31:38,161 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 14:31:38,161 unit:oscied-orchestra/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 14:31:38,161 unit:oscied-orchestra/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 14:31:38,227 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:3
2013-05-30 14:31:38,232 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:31:38,242 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:31:38,256 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:31:38,256 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:31:38,294 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:38,276 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 14:31:38,665 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:39,032 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:39,288 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:39,389 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x1506c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:31:39,612 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:39,741 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:31:39,931 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:40,086 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 14:31:40,254 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1d66a10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x1d75b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:31:40,433 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:31:40,575 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:31:40,784 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:31:40,839 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:31:40,840 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 14:31:40,885 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:1
2013-05-30 14:31:40,901 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:31:40,902 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:31:40,919 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 14:31:40,931 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 14:31:41,223 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 14:31:41,577 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 14:31:41,653 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Restart network time protocol service
2013-05-30 14:31:41,903 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:42,215 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 14:31:42,284 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:42,661 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:42,674 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 14:31:43,026 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x2d8dc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:31:43,150 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': '', 'bind_ip': None, 'noauth': ''}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x1d66850>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 14:31:43,380 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:31:43,490 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:31:43,734 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook start
2013-05-30 14:31:43,828 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:31:44,086 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No shared storage !
2013-05-30 14:31:44,434 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:31:44,463 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service ntp restart
2013-05-30 14:31:44,677 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:31:44,783 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:31:44,840 unit:oscied-transform/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 14:31:44,840 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/start
2013-05-30 14:31:44,841 unit:oscied-transform/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 14:31:44,841 unit:oscied-transform/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 14:31:44,848 unit:oscied-transform/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 14:31:44,848 unit:oscied-transform/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 14:31:44,854 unit:oscied-transform/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:storage role:client id:relation-0000000001 scope:global>, <ServiceRelationState name:transform role:client id:relation-0000000005 scope:global>]
2013-05-30 14:31:44,865 unit:oscied-transform/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:31:44,883 unit:oscied-storage/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:31:44,919 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:31:44,903 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 14:31:44,904 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 14:31:44,942 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:31:44,906 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 14:31:44,943 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:31:44,943 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 14:31:44,964 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:31:44,964 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:31:44,971 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 14:31:44,972 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 14:31:44,973 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 14:31:44,978 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:31:45,022 unit:oscied-transform/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:31:45,022 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': []
2013-05-30 14:31:45,046 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:31:45,047 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 14:31:45,074 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 14:31:45,086 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:31:45,087 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:31:45,087 unit:oscied-transform/0: hook.scheduler DEBUG: start
2013-05-30 14:31:45,116 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:31:45,116 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 14:31:45,129 unit:oscied-transform/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:31:45,131 unit:oscied-transform/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 14:31:45,155 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 14:31:45,168 unit:oscied-transform/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 14:31:45,183 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 14:31:45,184 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 14:31:45,183 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0', 'storage:2', 'storage:3', 'storage:4']
2013-05-30 14:31:45,195 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:31:45,196 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:31:45,335 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts: ['storage:1', 'transform:5']
2013-05-30 14:31:45,378 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:31:45,910 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:45,986 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:31:46,129 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:46,206 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:46,507 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:46,492 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:46,630 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:31:46,773 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x236a700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x2670ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:31:46,866 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:47,036 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:31:47,196 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:31:47,224 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x248dc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:31:47,316 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 14:31:47,582 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:31:47,585 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 14:31:47,726 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:31:47,934 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-joined
2013-05-30 14:31:48,210 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:31:48,298 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:31:48,432 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x236a700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal,ip-10-154-168-107.ec2.internal'}
2013-05-30 14:31:48,661 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:31:48,718 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:31:48,725 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-joined
2013-05-30 14:31:48,728 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:31:48,729 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 14:31:48,713 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 14:31:48,716 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:31:48,762 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:31:48,820 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000001/settings/unit-0000000002' state: connected handle:0>
2013-05-30 14:31:48,830 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 14:31:48,905 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['transform:5']
2013-05-30 14:31:48,917 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:31:48,892 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:1'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 14:31:48,892 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:31:48,896 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 14:31:49,132 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['peer:0', 'storage:2', 'storage:3', 'storage:4']
2013-05-30 14:31:49,144 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:31:49,145 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 14:31:49,813 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:49,966 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Compile and install Apache H.264 streaming module
2013-05-30 14:31:50,199 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:50,572 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:50,947 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x1acec08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:31:51,306 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:31:51,666 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook config-changed
2013-05-30 14:31:51,838 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 14:31:52,027 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:31:52,390 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:31:52,454 unit:oscied-transform/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:31:52,516 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/config-changed
2013-05-30 14:31:52,517 unit:oscied-transform/0: unit.lifecycle DEBUG: configured unit
2013-05-30 14:31:52,518 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 14:31:52,547 unit:oscied-transform/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 14:31:52,558 unit:oscied-transform/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 14:31:53,271 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute which apxs2
2013-05-30 14:31:53,519 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:31:53,904 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:31:54,263 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:31:54,626 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x1e03c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:31:54,677 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1d66a10>
2013-05-30 14:31:54,971 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:31:55,319 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 14:31:56,215 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ./configure --with-apxs=/usr/bin/apxs2

2013-05-30 14:31:57,082 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:31:57,428 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:31:57,593 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:31:57,797 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:31:58,074 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:31:58,074 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 14:31:58,160 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:31:58,301 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:3
2013-05-30 14:31:58,343 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:31:58,350 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:31:58,369 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:31:58,369 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:31:58,387 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 14:31:58,507 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:31:58,860 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-242-86-19.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 14:31:59,252 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-242-86-19.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 14:32:06,527 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:07,807 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 14:32:08,180 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 14:32:08,531 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:32:08,881 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:32:08,935 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:32:08,962 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 14:32:08,963 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:32:09,042 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'storage:1': ['transform:5']
2013-05-30 14:32:09,054 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:32:09,054 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 14:32:09,415 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:10,051 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:10,437 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:10,794 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:11,148 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x2e7dc08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:32:11,500 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:32:11,860 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook storage-relation-changed
2013-05-30 14:32:12,402 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:13,702 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:32:14,054 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:32:14,422 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:32:14,774 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 14:32:15,128 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Do not start transform daemon : No celery configuration file !
2013-05-30 14:32:15,228 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1c1ea10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x1c2db18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:32:15,485 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:32:15,658 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make -j1
2013-05-30 14:32:15,840 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:32:15,895 unit:oscied-transform/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:32:15,937 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/storage-relation-changed
2013-05-30 14:32:18,060 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:32:21,072 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook start
2013-05-30 14:32:24,134 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Do not start orchestra daemon : No shared storage !
2013-05-30 14:32:27,067 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1c1ea10>
2013-05-30 14:32:28,604 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:32:28,651 unit:oscied-orchestra/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 14:32:28,651 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/start
2013-05-30 14:32:28,652 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 14:32:28,652 unit:oscied-orchestra/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 14:32:28,658 unit:oscied-orchestra/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 14:32:28,659 unit:oscied-orchestra/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 14:32:28,664 unit:oscied-orchestra/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:storage role:client id:relation-0000000003 scope:global>, <ServiceRelationState name:publisher role:server id:relation-0000000006 scope:global>, <ServiceRelationState name:api role:server id:relation-0000000007 scope:global>, <ServiceRelationState name:transform role:server id:relation-0000000005 scope:global>]
2013-05-30 14:32:28,669 unit:oscied-orchestra/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:32:28,719 unit:oscied-storage/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:32:28,721 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:32:28,734 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:32:28,736 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:32:28,740 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:32:28,741 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:32:28,741 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:32:28,739 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:32:28,825 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:32:28,826 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:32:28,833 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 14:32:28,834 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 14:32:28,835 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 14:32:28,849 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:32:28,886 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:32:28,900 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:32:28,908 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: transform:5
2013-05-30 14:32:28,908 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': []
2013-05-30 14:32:28,921 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:transform lifecycle
2013-05-30 14:32:28,954 unit:oscied-transform/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:32:28,926 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:32:28,927 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 14:32:28,977 unit:oscied-transform/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:32:28,978 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:32:28,981 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:32:28,948 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:32:28,949 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:32:28,952 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:32:28,970 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:32:28,972 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:transform lifecycle
2013-05-30 14:32:28,985 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-transform/0']
2013-05-30 14:32:28,986 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:joined
2013-05-30 14:32:28,988 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-transform/0', 0),)
2013-05-30 14:32:28,989 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:32:29,070 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:32:29,042 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:32:29,048 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:32:29,084 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 14:32:29,085 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 14:32:29,070 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 14:32:29,116 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2', 'storage:4']
2013-05-30 14:32:29,128 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:32:29,128 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:32:29,146 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:32:29,146 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:32:29,147 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:32:29,167 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:32:29,168 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 14:32:29,176 unit:oscied-orchestra/0: juju.state.hook DEBUG: Ignoring partially constructed relation: api:7
2013-05-30 14:32:29,190 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:32:29,194 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:3']
2013-05-30 14:32:29,212 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-joined
2013-05-30 14:32:29,249 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: stopped relation:api lifecycle
2013-05-30 14:32:29,282 unit:oscied-webui/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:32:29,290 unit:oscied-webui/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:32:29,291 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:32:29,293 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:32:29,260 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:32:29,260 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:32:29,261 unit:oscied-orchestra/0: hook.scheduler DEBUG: start
2013-05-30 14:32:29,286 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:32:29,286 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: started relation:api lifecycle
2013-05-30 14:32:29,297 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-webui/0']
2013-05-30 14:32:29,298 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:joined
2013-05-30 14:32:29,301 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-webui/0', 0),)
2013-05-30 14:32:29,302 unit:oscied-orchestra/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:32:29,304 unit:oscied-orchestra/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 14:32:29,330 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 14:32:29,379 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:32:29,353 unit:oscied-orchestra/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 14:32:29,391 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 14:32:29,392 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 14:32:29,374 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 14:32:29,374 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 14:32:29,622 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 14:32:29,651 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-joined
2013-05-30 14:32:29,753 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts: ['api:7', 'publisher:6', 'storage:3', 'transform:5']
2013-05-30 14:32:29,862 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:29,999 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:30,107 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:30,166 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:30,297 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:30,490 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:30,465 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:30,636 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:30,749 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xd13700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal,ip-10-154-168-107.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x1019ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:32:30,863 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:30,928 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22f8a50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x2307b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:32:31,060 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:32:31,234 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x25a1c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:32:31,210 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:32:31,353 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 14:32:31,491 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-joined
2013-05-30 14:32:31,602 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:32:31,637 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 14:32:31,764 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x22f8a50>
2013-05-30 14:32:31,960 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-joined
2013-05-30 14:32:32,053 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:32:32,100 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:32:32,119 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-joined
2013-05-30 14:32:32,121 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:32:32,122 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 14:32:32,333 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:32:32,321 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['api:7', 'publisher:6', 'transform:5']
2013-05-30 14:32:32,335 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:32:32,486 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0xd13700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal,ip-10-154-168-107.ec2.internal,ip-10-202-210-239.ec2.internal'}
2013-05-30 14:32:32,694 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:32:32,749 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 14:32:32,777 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-joined
2013-05-30 14:32:32,782 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:32:32,768 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:32:32,818 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:32:32,861 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:32:32,872 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:32:32,873 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:32:32,882 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000003/settings/unit-0000000002' state: connected handle:0>
2013-05-30 14:32:32,897 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 14:32:32,945 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:3'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 14:32:32,945 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:32:32,947 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:32,949 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:32:33,182 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['peer:0', 'storage:1', 'storage:2', 'storage:4']
2013-05-30 14:32:33,192 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:32:33,193 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 14:32:33,247 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:33,844 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation joined
2013-05-30 14:32:33,853 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:33,869 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 14:32:33,897 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-joined
2013-05-30 14:32:33,900 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:32:33,965 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:32:33,985 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:32:33,986 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:32:34,054 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:34,233 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:34,621 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:34,979 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x2244c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:32:35,329 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:32:35,679 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 14:32:36,905 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1005a50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x1014b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:32:37,116 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-202-210-239.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 14:32:37,476 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:32:37,829 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:32:38,188 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:32:38,244 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:32:38,275 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:32:38,429 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 14:32:39,382 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-202-210-239.ec2.internal, API URL is 
2013-05-30 14:32:39,707 unit:oscied-webui/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:32:39,733 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:32:39,759 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:32:39,858 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:32:42,866 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-joined
2013-05-30 14:32:48,515 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute make install
2013-05-30 14:32:48,817 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1005a50>
2013-05-30 14:32:51,842 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:32:52,309 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-joined exited, exit code 0.
2013-05-30 14:32:52,562 unit:oscied-transform/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000005/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:32:52,529 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'transform-relation-joined' on 'transform:5'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-202-210-239.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-202-210-239.ec2.internal:5672/celery' (was unset)
2013-05-30 14:32:52,530 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-joined
2013-05-30 14:32:52,532 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-transform/0:modified
2013-05-30 14:32:52,533 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 14:32:52,647 unit:oscied-transform/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:32:52,648 unit:oscied-transform/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:32:52,784 unit:oscied-transform/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['storage:1']
2013-05-30 14:32:52,795 unit:oscied-transform/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:32:52,796 unit:oscied-transform/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:32:53,500 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register Apache H.264 streaming module
2013-05-30 14:32:53,864 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:32:54,249 unit:oscied-transform/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:32:54,607 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:32:54,964 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-transform/0', 'public_address': 'ec2-50-16-83-84.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-154-168-107.ec2.internal', 'juju_log': <function callable_command at 0x20d9c08>, 'config': {u'storage_mountpoint': u'', 'verbose': True, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'transform_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 1, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u''}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media transform. Contains ffmpeg & x264.\nCan be scaled to multiple instances.\n", 'name': 'oscied-transform', 'requires': {'storage': {'interface': 'mount'}, 'transform': {'interface': 'subordinate'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Encoder"}}
2013-05-30 14:32:55,122 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'transform:5': ['api:7', 'publisher:6', 'storage:3']
2013-05-30 14:32:55,243 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook transform-relation-changed
2013-05-30 14:32:55,312 unit:oscied-transform/0: unit.hook.api INFO: --> Entering TransformHooks.py
2013-05-30 14:32:55,662 unit:oscied-transform/0: unit.hook.api INFO: [HOOK] Execute TransformHooks hook subordinate-relation-changed
2013-05-30 14:32:56,540 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Expose Apache 2 service
2013-05-30 14:32:57,079 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-202-210-239.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-202-210-239.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-202-210-239.ec2.internal:5672/celery
2013-05-30 14:32:57,427 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:32:57,793 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 14:32:58,150 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 14:32:58,497 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 14:32:58,847 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:32:59,196 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:32:59,576 unit:oscied-publisher/0: unit.hook.api DEBUG: opened 80/tcp
2013-05-30 14:33:00,973 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:03,345 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:04,518 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:04,591 unit:oscied-transform/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Transform']
2013-05-30 14:33:04,951 unit:oscied-transform/0: unit.hook.api INFO: [REMARK] Transform successfully started !
2013-05-30 14:33:05,295 unit:oscied-transform/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', '_pickle_filename': 'local_config.pkl', 'storage_options': '', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:05,653 unit:oscied-transform/0: unit.hook.api INFO: <-- Exiting TransformHooks.py
2013-05-30 14:33:05,707 unit:oscied-transform/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:33:05,755 unit:oscied-transform/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-transform-0/charm/hooks/transform-relation-changed
2013-05-30 14:33:06,779 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:33:07,365 unit:oscied-publisher/0: hook.output DEBUG: hook install exited, exit code 0.
2013-05-30 14:33:07,366 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/install
2013-05-30 14:33:07,413 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete install (state installed) {}
2013-05-30 14:33:07,423 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition start (installed -> started) {}
2013-05-30 14:33:07,423 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_start
2013-05-30 14:33:07,423 unit:oscied-publisher/0: unit.lifecycle DEBUG: pre-start acquire, running:False
2013-05-30 14:33:07,424 unit:oscied-publisher/0: unit.lifecycle DEBUG: start running, unit lifecycle
2013-05-30 14:33:07,419 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:07,623 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:33:07,628 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:33:07,628 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:33:07,695 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 14:33:09,552 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x295da10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x296cb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:33:09,854 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:33:10,128 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-joined
2013-05-30 14:33:10,742 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x295da10>
2013-05-30 14:33:11,020 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:33:11,065 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-joined exited, exit code 0.
2013-05-30 14:33:11,163 unit:oscied-webui/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000007/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:33:11,174 unit:oscied-webui/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:33:11,175 unit:oscied-webui/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:33:11,216 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'api-relation-joined' on 'api:7'
    Setting changed: u'api_url'=u'http://ip-10-202-210-239.ec2.internal:5000' (was unset)
2013-05-30 14:33:11,216 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-joined
2013-05-30 14:33:11,220 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-webui/0:modified
2013-05-30 14:33:11,222 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 14:33:11,331 unit:oscied-webui/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['storage:4']
2013-05-30 14:33:11,353 unit:oscied-webui/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:33:11,354 unit:oscied-webui/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:33:11,441 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'api:7': ['publisher:6', 'storage:3', 'transform:5']
2013-05-30 14:33:11,461 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook api-relation-changed
2013-05-30 14:33:12,031 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:12,331 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:12,631 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:12,912 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2790a10>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x279fb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:33:13,198 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:33:13,471 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook config-changed
2013-05-30 14:33:13,739 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure MongoDB Scalable NoSQL DB
2013-05-30 14:33:14,015 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo f.js
2013-05-30 14:33:14,342 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo orchestra f.js
2013-05-30 14:33:15,872 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:15,989 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - api relation changed
2013-05-30 14:33:16,592 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute mongo celery g.js
2013-05-30 14:33:16,949 unit:oscied-webui/0: unit.hook.api INFO: [MESSAGE] Orchestrator IP is ip-10-202-210-239.ec2.internal, API URL is http://ip-10-202-210-239.ec2.internal:5000
2013-05-30 14:33:17,272 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - stop
2013-05-30 14:33:17,311 unit:oscied-webui/0: hook.output INFO:  * Stopping web server apache2

2013-05-30 14:33:17,394 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:33:17,704 unit:oscied-webui/0: unit.hook.api INFO: [PARAGRAPH] Configure Web UI : Register the Orchestrator
2013-05-30 14:33:18,038 unit:oscied-webui/0: unit.hook.api INFO: [TITLE] Web UI - start
2013-05-30 14:33:18,954 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:20,005 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] MongoDB configuration is: {'list_values': True, 'encoding': None, 'initial_comment': ['# mongodb.conf', '', '# Where to store the data.'], 'default_encoding': None, 'BOM': False, 'configspec': None, 'newlines': '\n', 'stringify': True, 'inline_comments': {'dbpath': None, 'journal': None, 'logappend': None, 'logpath': None, 'auth': None, 'bind_ip': None, 'noauth': None}, 'comments': {'dbpath': [], 'journal': ['#port = 27017', '', '# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling'], 'logappend': [''], 'logpath': ['', '#where to log'], 'auth': [], 'bind_ip': [''], 'noauth': []}, 'filename': '/etc/mongodb.conf', 'indent_type': '', 'main': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'sections': [], 'interpolation': True, 'defaults': [], 'parent': ConfigObj({'dbpath': '/var/lib/mongodb', 'logpath': '/var/log/mongodb/mongodb.log', 'logappend': 'true', 'bind_ip': '0.0.0.0', 'journal': 'true', 'noauth': 'false', 'auth': 'true'}), 'scalars': ['dbpath', 'logpath', 'logappend', 'bind_ip', 'journal', 'noauth', 'auth'], '_inspec': False, 'create_empty': False, 'unrepr': False, 'default_values': {}, 'write_empty_values': False, 'name': None, '_original_configspec': None, 'final_comment': ['', '# Enables periodic logging of CPU utilization and I/O wait', '#cpu = true', '', '# Turn on/off security.  Off is currently the default', '#noauth = true', '#auth = true', '', '# Verbose logging output.', '#verbose = true', '', '# Inspect all client data for validity on receipt (useful for', '# developing drivers)', '#objcheck = true', '', '# Enable db quota management', '#quota = true', '', '# Set oplogging level where n is', '#   0=off (default)', '#   1=W', '#   2=R', '#   3=both', '#   7=W+some reads', '#oplog = 0', '', '# Diagnostic/debugging option', '#nocursors = true', '', '# Ignore query hints', '#nohints = true', '', '# Disable the HTTP interface (Defaults to localhost:27018).', '#nohttpinterface = true', '', '# Turns off server-side scripting.  This will result in greatly limited', '# functionality', '#noscripting = true', '', '# Turns off table scans.  Any query that would do a table scan fails.', '#notablescan = true', '', '# Disable data file preallocation.', '#noprealloc = true', '', '# Specify .ns file size for new databases.', '# nssize = <size>', '', '# Accout token for Mongo monitoring server.', '#mms-token = <token>', '', '# Server name for Mongo monitoring server.', '#mms-name = <server-name>', '', '# Ping interval for Mongo monitoring server.', '#mms-interval = <seconds>', '', '# Replication Options', '', '# in replicated mongo databases, specify here whether this is a slave or master', '#slave = true', '#source = master.example.com', '# Slave only: specify a single database to replicate', '#only = master.example.com', '# or', '#master = true', '#source = slave.example.com', '', '# Address of a server to pair with.', '#pairwith = <server:port>', '# Address of arbiter server.', '#arbiter = <server:port>', '# Automatically resync if slave data is stale', '#autoresync', '# Custom size for replication operation log.', '#oplogSize = <MB>', '# Size limit for in-memory storage of op ids.', '#opIdMem = <bytes>', '', '# SSL options', '# Enable SSL on normal ports', '#sslOnNormalPorts = true', '# SSL Key file and password', '#sslPEMKeyFile = /etc/ssl/mongodb.pem', '#sslPEMKeyPassword = pass'], 'file_error': False, '_interpolation_engine': <configobj.ConfigParserInterpolation object at 0x2790850>, 'depth': 0, 'raise_errors': False, 'extra_values': [], '_created': False}
2013-05-30 14:33:20,204 unit:oscied-webui/0: hook.output INFO: mysql start/running, process 9556

2013-05-30 14:33:20,232 unit:oscied-webui/0: hook.output INFO:  * Starting web server apache2

2013-05-30 14:33:20,356 unit:oscied-webui/0: hook.output INFO:    ...done.

2013-05-30 14:33:20,364 unit:oscied-webui/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:33:20,417 unit:oscied-webui/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-webui-0/charm/hooks/api-relation-changed
2013-05-30 14:33:21,906 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:23,035 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:33:24,816 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x13f0c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:33:25,865 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:33:27,933 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:33:29,303 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 14:33:29,586 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:29,876 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:33:29,931 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:33:29,932 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 14:33:29,978 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: storage:2
2013-05-30 14:33:29,983 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:33:29,983 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: []
2013-05-30 14:33:30,007 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 14:33:30,855 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:31,171 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:31,116 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:33:31,452 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:31,736 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x196cc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:33:32,032 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:33:32,316 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook start
2013-05-30 14:33:32,606 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No shared storage !
2013-05-30 14:33:32,883 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:33,173 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:33:33,238 unit:oscied-publisher/0: hook.output DEBUG: hook start exited, exit code 0.
2013-05-30 14:33:33,239 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/start
2013-05-30 14:33:33,239 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting service relation watch
2013-05-30 14:33:33,239 unit:oscied-publisher/0: unit.lifecycle DEBUG: starting unit relation resolved watch
2013-05-30 14:33:33,260 unit:oscied-publisher/0: unit.lifecycle DEBUG: relation resolved changed
2013-05-30 14:33:33,261 unit:oscied-publisher/0: unit.lifecycle INFO: processing relation resolved changed
2013-05-30 14:33:33,267 unit:oscied-publisher/0: unit.lifecycle DEBUG: services changed old:None new:[<ServiceRelationState name:storage role:client id:relation-0000000002 scope:global>, <ServiceRelationState name:publisher role:client id:relation-0000000006 scope:global>]
2013-05-30 14:33:33,268 unit:oscied-publisher/0: unit.lifecycle DEBUG: processing relations changed
2013-05-30 14:33:33,317 unit:oscied-storage/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:33:33,332 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:storage lifecycle
2013-05-30 14:33:33,325 unit:oscied-storage/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 14:33:33,326 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 14:33:33,328 unit:oscied-storage/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 14:33:33,343 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:33:33,344 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:33:33,344 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 14:33:33,370 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:33:33,370 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:storage lifecycle
2013-05-30 14:33:33,391 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-storage/0']
2013-05-30 14:33:33,392 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:joined
2013-05-30 14:33:33,394 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 0),)
2013-05-30 14:33:33,399 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:33:33,440 unit:oscied-publisher/0: juju.state.hook DEBUG: Ignoring partially constructed relation: publisher:6
2013-05-30 14:33:33,440 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': []
2013-05-30 14:33:33,455 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:33:33,455 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 14:33:33,474 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: stopped relation:publisher lifecycle
2013-05-30 14:33:33,493 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition start (None -> up) {}
2013-05-30 14:33:33,493 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate:  execute action do_start
2013-05-30 14:33:33,493 unit:oscied-publisher/0: hook.scheduler DEBUG: start
2013-05-30 14:33:33,517 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher start
2013-05-30 14:33:33,517 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: started relation:publisher lifecycle
2013-05-30 14:33:33,536 unit:oscied-publisher/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-orchestra/0']
2013-05-30 14:33:33,536 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:joined
2013-05-30 14:33:33,539 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 0),)
2013-05-30 14:33:33,543 unit:oscied-publisher/0: statemachine DEBUG: relationworkflowstate: transition complete start (state up) {}
2013-05-30 14:33:33,545 unit:oscied-publisher/0: unit.lifecycle DEBUG: started unit lifecycle
2013-05-30 14:33:33,575 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete start (state started) {}
2013-05-30 14:33:33,597 unit:oscied-publisher/0: juju.agents.unit DEBUG: Configuration Changed
2013-05-30 14:33:33,611 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition configure (started -> started) {}
2013-05-30 14:33:33,611 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate:  execute action do_configure
2013-05-30 14:33:33,645 unit:oscied-orchestra/0: unit.relation.watch DEBUG: relation membership change
2013-05-30 14:33:33,659 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1', 'storage:3', 'storage:4']
2013-05-30 14:33:33,677 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-joined
2013-05-30 14:33:33,677 unit:oscied-storage/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:33:33,734 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:33:33,747 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 14:33:33,768 unit:oscied-orchestra/0: hook.scheduler DEBUG: members changed: old=[], new=['oscied-publisher/0']
2013-05-30 14:33:33,769 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:joined
2013-05-30 14:33:33,772 unit:oscied-orchestra/0: hook.scheduler DEBUG: settings changed: (('oscied-publisher/0', 0),)
2013-05-30 14:33:33,836 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts: ['publisher:6', 'storage:2']
2013-05-30 14:33:34,400 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:34,431 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:34,708 unit:oscied-storage/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:34,724 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:35,012 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:35,012 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:35,302 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x1420c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:33:35,288 unit:oscied-storage/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1c5d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal,ip-10-154-168-107.ec2.internal,ip-10-202-210-239.ec2.internal'}, 'name': 'oscied-storage/0', 'public_address': 'ec2-54-226-130-196.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-242-86-19.ec2.internal', 'juju_log': <function callable_command at 0x1f63ed8>, 'config': {u'allowed_ips': u'*', 'verbose': True, u'replica_count': 1}, 'juju_ok': True, 'metadata': {'peers': {'peer': {'interface': 'glusterfs-peers'}}, 'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED shared storage based on glusterfs.\n", 'provides': {'storage': {'interface': 'mount'}}, 'name': 'oscied-storage', 'ensemble': 'oscied', 'summary': "EBU's OSCIED Storage"}}
2013-05-30 14:33:35,565 unit:oscied-storage/0: unit.hook.api INFO: --> Entering StorageHooks.py
2013-05-30 14:33:35,588 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:33:35,837 unit:oscied-storage/0: unit.hook.api INFO: [HOOK] Execute StorageHooks hook storage-relation-joined
2013-05-30 14:33:35,868 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-joined
2013-05-30 14:33:36,107 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Send filesystem (volume medias_volume_0) configuration to remote client
2013-05-30 14:33:36,152 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:36,433 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:33:36,489 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:33:36,496 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-joined
2013-05-30 14:33:36,501 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:33:36,501 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 14:33:36,600 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['publisher:6']
2013-05-30 14:33:36,615 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:33:36,672 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['api:7', 'storage:3', 'transform:5']
2013-05-30 14:33:36,906 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-joined
2013-05-30 14:33:36,939 unit:oscied-storage/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'volume_flag': True, 'volume_infos_regex': <_sre.SRE_Pattern object at 0x1c5d700>, '_pickle_filename': 'local_config.pkl', 'allowed_ips': 'ip-10-152-145-204.ec2.internal,ip-10-154-168-107.ec2.internal,ip-10-202-210-239.ec2.internal,ip-10-202-17-11.ec2.internal'}
2013-05-30 14:33:37,207 unit:oscied-storage/0: unit.hook.api INFO: <-- Exiting StorageHooks.py
2013-05-30 14:33:37,254 unit:oscied-storage/0: hook.output DEBUG: hook storage-relation-joined exited, exit code 0.
2013-05-30 14:33:37,299 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000002/settings/unit-0000000002' state: connected handle:0>
2013-05-30 14:33:37,312 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-storage/0', 1),)
2013-05-30 14:33:37,367 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:37,374 unit:oscied-storage/0: hook.output DEBUG: Flushed values for hook 'storage-relation-joined' on 'storage:2'
    Setting changed: u'fstype'=u'glusterfs' (was unset)
    Setting changed: u'mountpoint'=u'medias_volume_0' (was unset)
2013-05-30 14:33:37,375 unit:oscied-storage/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-joined
2013-05-30 14:33:37,377 unit:oscied-storage/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 14:33:37,596 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:33:37,617 unit:oscied-storage/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['peer:0', 'storage:1', 'storage:3', 'storage:4']
2013-05-30 14:33:37,630 unit:oscied-storage/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:33:37,630 unit:oscied-storage/0: hook.executor INFO: Hook does not exist, skipping /var/lib/juju/units/oscied-storage-0/charm/hooks/storage-relation-changed
2013-05-30 14:33:37,683 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:37,979 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:38,265 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x239bc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:33:38,568 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:33:38,849 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-joined
2013-05-30 14:33:39,130 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:33:39,420 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:33:39,476 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 14:33:39,509 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-joined
2013-05-30 14:33:39,513 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:33:39,514 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 14:33:39,612 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:33:39,627 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:33:42,212 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:42,933 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:33:45,277 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:47,991 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:33:48,118 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:51,164 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x15a9c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:33:53,214 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:33:53,996 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:33:54,847 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:33:55,339 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:33:55,613 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure Orchestra the Orchestrator
2013-05-30 14:33:55,898 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestrator successfully configured !
2013-05-30 14:33:56,188 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2790a10>
2013-05-30 14:33:56,474 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:33:56,521 unit:oscied-orchestra/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:33:56,637 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/config-changed
2013-05-30 14:33:56,637 unit:oscied-orchestra/0: unit.lifecycle DEBUG: configured unit
2013-05-30 14:33:56,638 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:33:56,663 unit:oscied-orchestra/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 14:33:56,679 unit:oscied-orchestra/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 14:33:56,912 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook config-changed
2013-05-30 14:33:57,419 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:33:57,715 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:33:57,995 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:33:58,271 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x135fa50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x136eb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:33:58,544 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:33:58,813 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 14:33:59,735 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:34:03,366 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:34:04,058 unit:oscied-publisher/0: hook.output DEBUG: hook config-changed exited, exit code 0.
2013-05-30 14:34:04,294 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/config-changed
2013-05-30 14:34:04,294 unit:oscied-publisher/0: unit.lifecycle DEBUG: configured unit
2013-05-30 14:34:04,356 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 14:34:04,566 unit:oscied-publisher/0: statemachine DEBUG: unitworkflowstate: transition complete configure (state started) {}
2013-05-30 14:34:04,683 unit:oscied-publisher/0: juju.agents.unit INFO: No upgrade flag set.
2013-05-30 14:34:07,649 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:34:10,589 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:34:12,520 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:34:13,442 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 14:34:15,577 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:34:18,568 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:34:21,495 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': '', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_fstype': '', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': '', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x20d8c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:34:23,804 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 14:34:24,418 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:34:26,860 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:34:27,300 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 14:34:29,705 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:34:32,758 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:34:35,488 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-242-86-19.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 14:34:35,796 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-242-86-19.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 14:34:42,729 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:34:44,295 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 14:34:44,576 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x135fa50>
2013-05-30 14:34:44,888 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 14:34:45,306 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 14:34:45,912 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:34:48,359 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:34:48,633 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:34:49,127 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:34:49,393 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 14:34:49,628 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:34:50,112 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:34:50,590 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:34:51,160 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:34:51,637 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:34:52,125 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:34:52,409 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:34:54,049 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:34:56,997 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Unregister shared storage
2013-05-30 14:34:57,719 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 14:34:58,308 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage already unmounted !
2013-05-30 14:34:58,321 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 14:34:58,594 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Mount shared storage [] ip-10-242-86-19.ec2.internal:medias_volume_0 type glusterfs options '' -> /mnt/storage
2013-05-30 14:34:58,591 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x135fa50>
2013-05-30 14:34:58,853 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:34:58,889 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['mount', '-t', 'glusterfs', 'ip-10-242-86-19.ec2.internal:/medias_volume_0', '/mnt/storage']
2013-05-30 14:34:58,895 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:34:59,027 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:34:59,028 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:34:59,029 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 14:34:59,282 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'storage:3': ['api:7', 'publisher:6', 'transform:5']
2013-05-30 14:34:59,297 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:34:59,840 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:35:00,153 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:35:00,448 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:35:00,755 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x20aba50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x20bab18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:35:01,074 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:35:02,438 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook transform-relation-changed
2013-05-30 14:35:07,329 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Shared storage successfully registered !
2013-05-30 14:35:07,635 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 14:35:07,930 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:35:08,217 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:35:08,275 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:35:08,309 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 14:35:08,310 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-storage/0:modified
2013-05-30 14:35:08,311 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:35:08,416 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'storage:2': ['publisher:6']
2013-05-30 14:35:08,433 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook storage-relation-changed
2013-05-30 14:35:08,756 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Transform address is ip-10-154-168-107.ec2.internal
2013-05-30 14:35:09,188 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:35:09,512 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:35:09,801 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:35:10,094 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x2500c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:35:10,393 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:35:10,702 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 14:35:11,923 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-202-210-239.ec2.internal, MongoDB is , RabbitMQ is 
2013-05-30 14:35:11,928 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x20aba50>
2013-05-30 14:35:12,230 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Waiting for complete setup !
2013-05-30 14:35:12,530 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:35:12,827 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:35:12,888 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:35:12,936 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:35:12,938 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 14:35:13,781 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:35:14,097 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:35:14,410 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:35:14,711 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x118dc08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:35:15,015 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:35:15,096 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:35:15,318 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook storage-relation-changed
2013-05-30 14:35:15,567 unit:oscied-orchestra/0: hook.output DEBUG: hook transform-relation-changed exited, exit code 0.
2013-05-30 14:35:16,106 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/transform-relation-changed
2013-05-30 14:35:16,107 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 14:35:22,663 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:35:24,142 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:35:25,640 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:35:27,286 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:35:28,686 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 14:35:30,299 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:35:32,204 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:35:33,372 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2031a50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x2040b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:35:35,042 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 14:35:36,558 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:35:37,947 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Do not start publisher daemon : No celery configuration file !
2013-05-30 14:35:39,626 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook api-relation-changed
2013-05-30 14:35:40,859 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:35:43,777 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:35:44,362 unit:oscied-publisher/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:35:44,466 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/storage-relation-changed
2013-05-30 14:35:45,758 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Web UI address is ip-10-152-145-204.ec2.internal
2013-05-30 14:35:48,961 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2031a50>
2013-05-30 14:35:52,132 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:35:52,617 unit:oscied-orchestra/0: hook.output DEBUG: hook api-relation-changed exited, exit code 0.
2013-05-30 14:35:52,981 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/api-relation-changed
2013-05-30 14:35:52,982 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 14:36:00,668 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:36:04,659 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:36:07,889 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:36:11,178 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2001a50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x2010b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:36:14,250 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:36:17,327 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-joined
2013-05-30 14:36:23,497 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x2001a50>
2013-05-30 14:36:23,780 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:36:23,827 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-joined exited, exit code 0.
2013-05-30 14:36:23,885 unit:oscied-publisher/0: unit.relation.watch DEBUG: relation watcher settings change <ClientEvent changed at '/relations/relation-0000000006/settings/unit-0000000000' state: connected handle:0>
2013-05-30 14:36:23,890 unit:oscied-publisher/0: hook.scheduler DEBUG: settings changed: (('oscied-orchestra/0', 1),)
2013-05-30 14:36:23,891 unit:oscied-publisher/0: hook.scheduler DEBUG: executing hook for oscied-orchestra/0:modified
2013-05-30 14:36:23,928 unit:oscied-orchestra/0: hook.output DEBUG: Flushed values for hook 'publisher-relation-joined' on 'publisher:6'
    Setting changed: u'mongo_connection'=u'mongodb://nodes:M2qlif8rdtKtBYil@ip-10-202-210-239.ec2.internal:27017/celery' (was unset)
    Setting changed: u'rabbit_connection'=u'amqp://nodes:OZy23iO0D4UpYS2k@ip-10-202-210-239.ec2.internal:5672/celery' (was unset)
2013-05-30 14:36:23,928 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-joined
2013-05-30 14:36:23,932 unit:oscied-orchestra/0: hook.scheduler DEBUG: executing hook for oscied-publisher/0:modified
2013-05-30 14:36:23,933 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:36:23,983 unit:oscied-publisher/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['storage:2']
2013-05-30 14:36:24,002 unit:oscied-publisher/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:36:24,002 unit:oscied-publisher/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:36:24,140 unit:oscied-orchestra/0: hook.output DEBUG: Cached relation hook contexts on 'publisher:6': ['api:7', 'storage:3', 'transform:5']
2013-05-30 14:36:24,178 unit:oscied-orchestra/0: unit.relation.lifecycle DEBUG: Executing hook publisher-relation-changed
2013-05-30 14:36:24,752 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:36:24,755 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:36:25,039 unit:oscied-publisher/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:36:25,051 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:36:25,318 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:36:25,534 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:36:25,594 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}, 'name': 'oscied-publisher/0', 'public_address': 'ec2-54-234-219-197.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-17-11.ec2.internal', 'juju_log': <function callable_command at 0x2b26c08>, 'config': {u'max_upload_size': 4294967296, u'storage_mountpoint': u'', 'verbose': True, u'max_input_time': 600, u'rabbit_connection': u'', u'storage_nat_address': u'', u'rabbit_queues': u'publisher_private', u'storage_fstype': u'', u'storage_options': u'', u'concurrency': 2, u'storage_address': u'', u'mongo_connection': u'', u'api_nat_socket': u'', u'max_execution_time': 180}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED media publisher. Contains apache & mod streaming.\nCan be scaled to multiple instances.\n", 'provides': {'streaming': {'interface': 'http'}}, 'name': 'oscied-publisher', 'requires': {'publisher': {'interface': 'subordinate'}, 'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Publisher"}}
2013-05-30 14:36:25,817 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0xf9ea50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0xfadb18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:36:25,873 unit:oscied-publisher/0: unit.hook.api INFO: --> Entering PublisherHooks.py
2013-05-30 14:36:26,096 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:36:26,139 unit:oscied-publisher/0: unit.hook.api INFO: [HOOK] Execute PublisherHooks hook subordinate-relation-changed
2013-05-30 14:36:26,374 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook storage-relation-changed
2013-05-30 14:36:27,245 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Orchestra address is ip-10-202-210-239.ec2.internal, MongoDB is mongodb://nodes:M2qlif8rdtKtBYil@ip-10-202-210-239.ec2.internal:27017/celery, RabbitMQ is amqp://nodes:OZy23iO0D4UpYS2k@ip-10-202-210-239.ec2.internal:5672/celery
2013-05-30 14:36:27,515 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:36:27,762 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Storage address is ip-10-242-86-19.ec2.internal, fstype: glusterfs, mountpoint: medias_volume_0, options: 
2013-05-30 14:36:27,798 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 stop
2013-05-30 14:36:28,050 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:36:28,149 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Use subordinate parameters from charm relation
2013-05-30 14:36:28,338 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-S', '13779.Orchestra', '-X', 'quit']
2013-05-30 14:36:28,415 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Register the Orchestrator
2013-05-30 14:36:28,624 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server stop
2013-05-30 14:36:28,724 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Orchestrator successfully registered !
2013-05-30 14:36:29,016 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:36:29,295 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute service apache2 start
2013-05-30 14:36:29,648 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:36:31,438 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb stop
2013-05-30 14:36:31,785 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Use storage parameters from charm storage relation
2013-05-30 14:36:32,060 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Skip remount already mounted shared storage !
2013-05-30 14:36:32,327 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0xf9ea50>
2013-05-30 14:36:32,592 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service mongodb start
2013-05-30 14:36:33,005 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute service rabbitmq-server start
2013-05-30 14:36:34,916 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Configure RabbitMQ Message Broker
2013-05-30 14:36:35,015 unit:oscied-publisher/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Publisher']
2013-05-30 14:36:35,201 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_user guest
2013-05-30 14:36:35,295 unit:oscied-publisher/0: unit.hook.api INFO: [REMARK] Publisher successfully started !
2013-05-30 14:36:35,575 unit:oscied-publisher/0: unit.hook.api INFO: [INFO] Save (updated) local configuration {'storage_mount_max_retry': 5, 'storage_mountpoint': 'medias_volume_0', 'publish_path': '/var/www', 'hosts_file': '/etc/hosts', 'celery_template_file': 'templates/celeryconfig.py.template', 'storage_nat_address': '', 'storage_fstype': 'glusterfs', 'apache_config_file': '/etc/apache2/apache2.conf', 'storage_options': '', '_pickle_filename': 'local_config.pkl', 'publish_uri': 'http://ec2-54-234-219-197.compute-1.amazonaws.com', 'storage_address': 'ip-10-242-86-19.ec2.internal', 'celery_config_file': 'celeryconfig.py', 'storage_mount_sleep_delay': 5, 'api_nat_socket': '', 'storage_path': '/mnt/storage'}
2013-05-30 14:36:35,875 unit:oscied-publisher/0: unit.hook.api INFO: <-- Exiting PublisherHooks.py
2013-05-30 14:36:35,932 unit:oscied-publisher/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:36:35,965 unit:oscied-publisher/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-publisher-0/charm/hooks/publisher-relation-changed
2013-05-30 14:36:37,515 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl delete_vhost /
2013-05-30 14:36:42,784 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_user nodes "OZy23iO0D4UpYS2k"
2013-05-30 14:36:47,759 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl add_vhost celery
2013-05-30 14:36:52,815 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl set_permissions -p celery nodes ".*" ".*" ".*"
2013-05-30 14:36:58,029 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_users
2013-05-30 14:37:03,542 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute rabbitmqctl list_vhosts
2013-05-30 14:37:08,804 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] RabbitMQ users: ['nodes'] vhosts: ['celery']
2013-05-30 14:37:11,723 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute ['screen', '-ls', 'Orchestra']
2013-05-30 14:37:22,706 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Execute curl -s http://127.0.0.1:5000
2013-05-30 14:37:26,301 unit:oscied-orchestra/0: unit.hook.api INFO: [REMARK] Orchestra successfully started !
2013-05-30 14:37:29,593 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0xf9ea50>
2013-05-30 14:37:32,992 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:37:33,576 unit:oscied-orchestra/0: hook.output DEBUG: hook storage-relation-changed exited, exit code 0.
2013-05-30 14:37:33,987 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/storage-relation-changed
2013-05-30 14:37:33,988 unit:oscied-orchestra/0: hook.executor DEBUG: Running hook: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 14:37:39,741 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'private-address'
2013-05-30 14:37:40,050 unit:oscied-orchestra/0: unit.hook.api DEBUG: Get unit setting: 'public-address'
2013-05-30 14:37:40,370 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] Load metadatas from file metadata.yaml
2013-05-30 14:37:40,687 unit:oscied-orchestra/0: unit.hook.api INFO: [DEBUG] My __dict__ is {'local_config': <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1dd5a50>, 'name': 'oscied-orchestra/0', 'public_address': 'ec2-54-226-120-199.compute-1.amazonaws.com', 'env_uuid': '284befacc6df4383b4297727a9f2861f', 'private_address': 'ip-10-202-210-239.ec2.internal', 'juju_log': <function callable_command at 0x1de4b18>, 'config': {u'repositories_pass': u'41nVGq07GmSgK9Ud', u'storage_options': u'', 'verbose': True, u'storage_nat_address': u'', u'rabbit_password': u'OZy23iO0D4UpYS2k', u'storage_fstype': u'', u'nodes_secret': u'bdZccPuG9fibjwCS', u'transform_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/transform/source', u'repositories_user': u'oscied', u'root_secret': u'5FrvHcm7oyF4WQFW', u'storage_mountpoint': u'', u'mongo_nodes_password': u'M2qlif8rdtKtBYil', u'publisher_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/publisher/source', u'mongo_admin_password': u'Iz85QVjdCJugEosz', u'storage_address': u'', u'webui_repository': u'https://claire-et-david.dyndns.org/prog/OSCIED/components/webui/source'}, 'juju_ok': True, 'metadata': {'maintainer': 'OSCIED Main Developper <david.fischer.ch@gmail.com>', 'description': "Installs the EBU's OSCIED orchestrator.\n", 'provides': {'publisher': {'interface': 'subordinate'}, 'api': {'interface': 'orchestra'}, 'transform': {'interface': 'subordinate'}}, 'name': 'oscied-orchestra', 'requires': {'storage': {'interface': 'mount'}}, 'ensemble': 'oscied', 'summary': "EBU's OSCIED Orchestra"}}
2013-05-30 14:37:41,011 unit:oscied-orchestra/0: unit.hook.api INFO: --> Entering OrchestraHooks.py
2013-05-30 14:37:41,350 unit:oscied-orchestra/0: unit.hook.api INFO: [HOOK] Execute OrchestraHooks hook publisher-relation-changed
2013-05-30 14:37:41,911 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Publisher address is ip-10-202-17-11.ec2.internal
2013-05-30 14:37:42,182 unit:oscied-orchestra/0: unit.hook.api INFO: [INFO] Save (updated) local configuration <oscied_lib.OrchestraConfig.OrchestraConfig object at 0x1dd5a50>
2013-05-30 14:37:42,461 unit:oscied-orchestra/0: unit.hook.api INFO: <-- Exiting OrchestraHooks.py
2013-05-30 14:37:42,506 unit:oscied-orchestra/0: hook.output DEBUG: hook publisher-relation-changed exited, exit code 0.
2013-05-30 14:37:42,587 unit:oscied-orchestra/0: hook.executor DEBUG: Hook complete: /var/lib/juju/units/oscied-orchestra-0/charm/hooks/publisher-relation-changed
2013-05-30 14:39:25,514 ERROR invalid zhandle state
Unhandled error in Deferred:
Unhandled Error
Traceback (most recent call last):
Failure: zookeeper.SessionExpiredException: Session expired
david@GaViD:~/David/git/OSCIED/scripts$ 

